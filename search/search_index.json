{"config":{"lang":["pt"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Inicio","text":"<p>O presente trabalho prop\u00f5e a implementa\u00e7\u00e3o de um conjunto de experimentos pr\u00e1ticos para exercitar a opera\u00e7\u00e3o b\u00e1sica de uma rede de computadores utilizando o sistema operacional FreeBSD, demonstrando a viabilidade da aprendizagem pr\u00e1tica no ensino de redes de computadores.</p>"},{"location":"#sobre-o-repositorio","title":"Sobre o repositorio","text":""},{"location":"debian/experimento_01/","title":"Introdu\u00e7\u00e3o \u00e0s Redes de Computadores","text":"<p>Baixar como PDF</p>  <p>Pr\u00e1tica de Laborat\u00f3rio 01</p> <p>Introdu\u00e7\u00e3o \u00e0s Redes de Computadores</p>"},{"location":"debian/experimento_01/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Algumas configura\u00e7\u00f5es b\u00e1sicas necess\u00e1rias para o correto funcionamento de equipamentos conectados a redes.</p>"},{"location":"debian/experimento_01/#objetivos","title":"Objetivos","text":"<ol> <li>Compreender as configura\u00e7\u00f5es b\u00e1sicas para navegabilidade em uma rede de computadores.</li> <li>Exercitar configura\u00e7\u00f5es b\u00e1sicas em diferentes sistemas operacionais e entender como usar ferramentas de diagn\u00f3stico para validar configura\u00e7\u00f5es.</li> </ol>"},{"location":"debian/experimento_01/#teoria-abordada-no-experimento","title":"Teoria abordada no experimento","text":"<p>Funcionamento b\u00e1sico de uma rede TCP/IP.</p>"},{"location":"debian/experimento_01/#material-necessario","title":"Material Necess\u00e1rio","text":"<ul> <li>Interfaces de rede (NIC's)</li> <li>M\u00e1quinas com sistema FreeBSD</li> <li>Cabos de rede \u2013 par tran\u00e7ado normal</li> <li>Switches ou HUBs</li> <li>Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico</li> <li>Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio</li> <li>Desligar o servidor e cliente DHCP para as m\u00e1quinas do experimento</li> </ul>"},{"location":"debian/experimento_01/#roteiro","title":"Roteiro","text":""},{"location":"debian/experimento_01/#1-montagem-de-rede-interconectada-para-o-experimento","title":"1. Montagem de rede interconectada para o experimento","text":"<ul> <li>H1 (192.168.1.3), H2 (192.168.1.2) e R/eth0 (192.168.1.1).</li> </ul> <p>  </p>"},{"location":"debian/experimento_01/#2-configurar-os-clientes-na-rede-de-testes","title":"2. Configurar os clientes na rede de testes.","text":"<p>No FreeBSD, configure o arquivo rc.conf (/etc/rc.conf) e ponha a interface em quest\u00e3o configur\u00e1vel de forma est\u00e1tica, modificando o arquivo para que ele fique semelhante as linhas abaixo:</p> <pre><code>hostname=\u201dfreebsd\u201d\nifconfig_em0=\u201dinet 192.0.2.7 netmask 255.255.255.0\u201d\nifconfig_em0_ipv6=\u201dinet6 accept_rtadv\u201d\nsshd_enable=\u201dYES\u201d\n# Set dumpdev to \u201cAUTO\u201d to enable crash dumps, \u201cNO\u201d to disable\ndumpdev=\u201dAUTO\u201d\ndefaultrouter=\u201d192.0.2.254\u201d\n</code></pre> <p>\u00c9 poss\u00edvel que o equipamento usado para testes possua uma designa\u00e7\u00e3o de interface de rede diferente  de em0. \u00c9 praxe em0 ser vinculada \u00e0 primeira interface de rede Ethernet do computador que executa o  kernel do FreeBSD.</p> <p>Dispondo de privil\u00e9gios de superusu\u00e1rio, execute o seguinte comando para for\u00e7ar a configura\u00e7\u00e3o da mesma:</p> <pre><code>$ ./etc/netstart &lt;interface&gt;\n</code></pre> <p>ATEN\u00c7\u00c3O: substitua &lt;interface&gt; pelo identificador da interface de rede do equipamento de testes.</p> <p>Em seguida, para verificar o endere\u00e7o configurado, use o comando:</p> <pre><code>$ ifconfig\n</code></pre> <p>Tamb\u00e9m \u00e9 poss\u00edvel executar os seguintes comandos para configura\u00e7\u00e3o das interfaces de rede:</p> <pre><code>$ # ifconfig interface-name IP-address netmask Netmask\n$ ifconfig em0 192.168.133.250 netmask 255.255.255.0\n$ route add default 192.168.133.1\n$ route -n\n</code></pre>"},{"location":"debian/experimento_01/#3-validando-as-configuracoes","title":"3. Validando as configura\u00e7\u00f5es","text":"<p>Confira a conectividade b\u00e1sica enviando pacotes ICMP para algum outro computador que esteja conectado \u00e0 mesma rede:</p> <pre><code>$ ping &lt;IP-address&gt;\n</code></pre> <p>Confira as configura\u00e7\u00f5es de roteamento enviando pacotes ICMP para algum outro computador que esteja conectado \u00e0 outra rede.</p> <pre><code>$ ping &lt;IP-address&gt;\n</code></pre> <p>Como proceder para configurar o esquema de resolu\u00e7\u00e3o de nomes?</p> <p>Obs.: Esse tipo de configura\u00e7\u00e3o explorada no experimento \u00e9 chamada de Manual ou Est\u00e1tica.</p>"},{"location":"debian/experimento_01/#questoes-para-estudo","title":"Quest\u00f5es para Estudo","text":"<ol> <li>H\u00e1 alguma forma mais simples de se realizar a configura\u00e7\u00e3o dos equipamentos para que sejam devidamente conectados \u00e0 rede?</li> <li>Qual \u00e9 a lista m\u00ednima de informa\u00e7\u00f5es necess\u00e1rias para que determinado equipamento fique plenamente operacional em uma rede?</li> <li>O que acontece quando alguma das informa\u00e7\u00f5es necess\u00e1rias \u00e9 suprimida? Elabore melhor os cen\u00e1rios.</li> </ol>"},{"location":"debian/experimento_01/#referencias-bibliograficas","title":"Refer\u00eancias Bibliogr\u00e1ficas","text":"<p>RAINVILLE, Shane. How to configure network settings in FreeBSD. Serverlab, 2020. Dispon\u00edvel em: &lt;https://www.serverlab.ca/tutorials/unix/how-to-set-static-ip-and-dhcp-in-freebsd/&gt;. Acesso em: 10 dez. de 2022.</p> <p>ping(8). Dispon\u00edvel em: &lt;https://www.freebsd.org/cgi/man.cgi?ping(8)&gt;. Acesso em: 10 dez. 2022.</p> <p>LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019</p>"},{"location":"debian/experimento_02/","title":"Depura\u00e7\u00e3o de Problemas na Camada de Aplica\u00e7\u00e3o","text":"<p>Baixar como PDF</p>  <p>Pr\u00e1tica de Laborat\u00f3rio 02</p> <p>Depura\u00e7\u00e3o de Problemas na Camada de Aplica\u00e7\u00e3o</p>"},{"location":"debian/experimento_02/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Quando um computador est\u00e1 devidamente configurado em uma rede de computadores, \u00e9 interessante que ele se comunique com outros equipamentos para o provimento de servi\u00e7os a usu\u00e1rios. Portanto, este experimento apresenta um conjunto m\u00ednimo de ferramentas que permitir\u00e3o a execu\u00e7\u00e3o de um diagn\u00f3stico preciso ao se encarar uma situa\u00e7\u00e3o de interrup\u00e7\u00e3o ou instabilidade de servi\u00e7o t\u00edpico de camada de aplica\u00e7\u00e3o.</p>"},{"location":"debian/experimento_02/#objetivos","title":"Objetivos","text":"<ol> <li>Exercitar uma comunica\u00e7\u00e3o t\u00edpica HTTP por meio de ferramenta de diagn\u00f3stico (telnet).</li> <li>Exercitar o in\u00edcio de uma comunica\u00e7\u00e3o t\u00edpica SMTP por meio de ferramenta de diagn\u00f3stico (telnet).</li> <li>Exercitar as configura\u00e7\u00f5es de rede, especialmente no que tange ao servi\u00e7o de resolu\u00e7\u00e3o de nomes.</li> </ol>"},{"location":"debian/experimento_02/#teoria-abordada-no-experimento","title":"Teoria abordada no experimento","text":"<p>Funcionamento b\u00e1sico de uma rede TCP/IP.</p> <p>Protocolos de Camada de Aplica\u00e7\u00e3o.</p>"},{"location":"debian/experimento_02/#material-necessario","title":"Material Necess\u00e1rio","text":"<ul> <li>Interfaces de rede (NIC's)</li> <li>M\u00e1quinas com sistema FreeBSD</li> <li>Cabos de rede \u2013 par tran\u00e7ado normal</li> <li>Switches ou HUBs</li> <li>Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico</li> <li>Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio</li> <li>Servidores HTTP, DNS e SMTP devidamente configurados</li> <li>Ferramentas de diagn\u00f3stico: ifconfig, ping, traceroute, sockstat, host</li> </ul>"},{"location":"debian/experimento_02/#roteiro","title":"Roteiro","text":""},{"location":"debian/experimento_02/#1-montagem-de-rede-interconectada-para-o-experimento","title":"1. Montagem de rede interconectada para o experimento","text":"<ul> <li>H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4), H4 (192.168.1.5) e R/eth0 (192.168.1.1).</li> </ul> <p>Al\u00e9m dessa topologia, haver\u00e1 equipamentos que prover\u00e3o os servi\u00e7os necess\u00e1rios \u00e0s pr\u00e1ticas da aula: DNS, HTTP e SMTP.</p> <p>  </p>"},{"location":"debian/experimento_02/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es.","text":"<p>Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01.</p>"},{"location":"debian/experimento_02/#3-interacoes-com-o-servico-de-resolucao-de-nomes-dns","title":"3. Intera\u00e7\u00f5es com o servi\u00e7o de resolu\u00e7\u00e3o de nomes (DNS)","text":"<p>Confira se seu equipamento \u00e9 capaz de executar a resolu\u00e7\u00e3o de nomes usando DNS. Para tanto execute:</p> <pre><code>$ host nome_do_host opt_servidor_dns\n</code></pre> <p>ATEN\u00c7\u00c3O: O par\u00e2metro opt_servidor_dns \u00e9 opcional. Execute o comando sem indicar esse par\u00e2metro inicialmente.</p> <p>Pesquise sobre o arquivo /etc/hosts e seu papel no processo de resolu\u00e7\u00e3o de nomes.</p>"},{"location":"debian/experimento_02/#4-interacoes-com-o-servico-http","title":"4. Intera\u00e7\u00f5es com o servi\u00e7o HTTP","text":"<p>Usando os conceitos que foram estudados sobre o protocolo HTTP, use a ferramenta telnet para obter um objeto de determinado site HTTP.</p> <pre><code>$ telnet nome_do_host numero_da_porta\n</code></pre> <p>Uma vez aberto o socket, envie o seguinte comando para obter o objeto index.html</p> <pre><code>GET /index.html HTTP/1.1\n</code></pre> <p>Posteriormente, troque o comando GET pelo comando HEAD.</p> <p>Indique tamb\u00e9m o nome de outro objeto e observe o resultado do comando.</p>"},{"location":"debian/experimento_02/#5-interacoes-com-o-servico-smtp","title":"5. Intera\u00e7\u00f5es com o servi\u00e7o SMTP","text":"<p>Usando os conceitos que foram estudados sobre o protocolo SMTP, use a ferramenta telnet para obter um objeto de determinado site HTTP.</p> <pre><code>$ telnet nome_do_host numero_da_porta\n</code></pre> <p>Uma vez aberto o socket, envie o seguinte comando para iniciar uma transa\u00e7\u00e3o SMTP</p> <pre><code>HELO\n</code></pre> <p>DESAFIO: Usando os conceitos sobre Camada de Aplica\u00e7\u00e3o, use o comando telnet para enviar um e-mail a um usu\u00e1rio de determinado servidor de e-mail.</p>"},{"location":"debian/experimento_02/#questoes-para-estudo","title":"Quest\u00f5es para Estudo","text":"<ol> <li>Em rela\u00e7\u00e3o ao servi\u00e7o de resolu\u00e7\u00e3o de nomes, h\u00e1 um par\u00e2metro opcional a ser indicado ao comando host. Em que contexto \u00e9 conveniente indicar um valor para esse par\u00e2metro?</li> <li>Qual \u00e9 o papel do arquivo /etc/hosts no processo de resolu\u00e7\u00e3o de nomes?</li> <li>Em rela\u00e7\u00e3o \u00e0s intera\u00e7\u00f5es com o protocolo HTTP, foi poss\u00edvel identificar o cabe\u00e7alho de uma requisi\u00e7\u00e3o t\u00edpica? Em rela\u00e7\u00e3o \u00e0s respostas do servidor, identifique os campos t\u00edpicos da resposta incluindo descri\u00e7\u00f5es sobre as linhas de cabe\u00e7alho e o campo de payload.</li> <li>Em v\u00e1rios dos protocolos ora estudados, foi presenciada uma etapa de autoriza\u00e7\u00e3o que preparava uma sess\u00e3o para a recep\u00e7\u00e3o de comandos de determinado cliente. O SMTP demonstrou-se um protocolo que n\u00e3o demanda uma etapa de autoriza\u00e7\u00e3o. Em que momento isso acontece? O fato de essa etapa ser suprimida resulta em algum risco para um servi\u00e7o de e-mail?</li> </ol>"},{"location":"debian/experimento_02/#referencias-bibliograficas","title":"Refer\u00eancias Bibliogr\u00e1ficas","text":"<p>Brasil, HSC. Saiba o que \u00e9 e como funciona o protocolo SMTP. hscbrasil, 2019. Dispon\u00edvel em: &lt;https://www.hscbrasil.com.br/protocolo-smtp/&gt;. Acesso em: 11 dez. de 2022.</p> <p>Costa, Matheus. O que \u00e9 HTTP. canaltech, 2019. Dispon\u00edvel em: &lt;https://canaltech.com.br/internet/o-que-e-http/&gt;. Acesso em: 11 dez. de 2022.</p> <p>Reynolds, Luke. Send an email using Telnet. linuxconfig, 2021. Dispon\u00edvel em: &lt;https://linuxconfig.org/send-an-email-using-telnet&gt;. Acesso em: 11 dez. de 2022.</p> <p>host(1). Dispon\u00edvel em: &lt;https://www.freebsd.org/cgi/man.cgi?query=host&amp;sektion=1&gt;. Acesso em: 11 dez. 2022.</p> <p>telnet(1). Dispon\u00edvel em: &lt;https://www.freebsd.org/cgi/man.cgi?telnet&gt;. Acesso em: 11 dez. 2022.</p> <p>LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.</p>"},{"location":"debian/experimento_03/","title":"Depura\u00e7\u00e3o de Problemas na Camada de Transporte","text":"<p>Baixar como PDF</p>  <p>Pr\u00e1tica de Laborat\u00f3rio 03</p> <p>Depura\u00e7\u00e3o de Problemas na Camada de Transporte</p>"},{"location":"debian/experimento_03/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Para que haja uma conex\u00e3o por meio de um canal de transmiss\u00e3o confi\u00e1vel, \u00e9 necess\u00e1rio uma s\u00e9rie de mecanismos que protegem a comunica\u00e7\u00e3o quanto a efeitos adversos do meio de transmiss\u00e3o: corrup\u00e7\u00e3o de dados; congestionamentos e perdas de pacote. Portanto, este experimento apresenta um conjunto m\u00ednimo de ferramentas que permitir\u00e3o a execu\u00e7\u00e3o de um diagn\u00f3stico preciso ao se encarar uma situa\u00e7\u00e3o de interrup\u00e7\u00e3o ou instabilidade de servi\u00e7o t\u00edpico de camada de transporte.</p>"},{"location":"debian/experimento_03/#objetivos","title":"Objetivos","text":"<ol> <li>Exercitar uma comunica\u00e7\u00e3o t\u00edpica TCP por meio de ferramentas de diagn\u00f3stico (telnet, netcat, sockstat e nmap).</li> </ol>"},{"location":"debian/experimento_03/#teoria-abordada-no-experimento","title":"Teoria abordada no experimento","text":"<p>Funcionamento b\u00e1sico de uma rede TCP/IP.</p> <p>Protocolos de Camada de Transporte.</p>"},{"location":"debian/experimento_03/#material-necessario","title":"Material Necess\u00e1rio","text":"<ul> <li>Interfaces de rede (NIC's)</li> <li>M\u00e1quinas com sistema FreeBSD</li> <li>Cabos de rede \u2013 par tran\u00e7ado normal</li> <li>Switches ou HUBs</li> <li>Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico</li> <li>Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio</li> <li>Servidores HTTP, DNS e SMTP devidamente configurados</li> <li>Ferramentas de diagn\u00f3stico: telnet, nmap, netcat e sockstat</li> </ul>"},{"location":"debian/experimento_03/#roteiro","title":"Roteiro","text":""},{"location":"debian/experimento_03/#1-montagem-de-rede-interconectada-para-o-experimento","title":"1. Montagem de rede interconectada para o experimento","text":"<ul> <li>H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4), H4 (192.168.1.5) e R/eth0 (192.168.1.1).</li> </ul> <p>Al\u00e9m dessa topologia, haver\u00e1 equipamentos que prover\u00e3o os servi\u00e7os necess\u00e1rios \u00e0s pr\u00e1ticas da aula: DNS, HTTP e SMTP.</p> <p>  </p>"},{"location":"debian/experimento_03/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es.","text":"<p>Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01.</p>"},{"location":"debian/experimento_03/#3-abertura-de-um-socket-servidor","title":"3. Abertura de um socket servidor.","text":"<p>Usando um dos computadores dispon\u00edveis para o experimento e usando privil\u00e9gios administrativos, habilite um socket TCP em estado de escuta. Como ferramenta de apoio, use a aplica\u00e7\u00e3o netcat. Para tanto execute:</p> <pre><code>$ nc -l numero_da_porta\n</code></pre> <p>Para validar a abertura do socket servidor, utilize, no sistema operacional FreeBSD o seguinte comando:</p> <pre><code>$ sockstat -4l\n</code></pre> <p>ATEN\u00c7\u00c3O: A ferramenta netcat precisa continuar executando a escuta do socket TCP para que o comando sockstat -4l o encontre. Portanto, abra outro terminal para executar o segundo comando. No FreeBSD, \u00e9 poss\u00edvel alternar entre terminais usando os atalhos (Alt+F1 e Alt+F2).</p> <p>Esse comando ir\u00e1 exibir todos os processos, IPv4 (-4), em estado de escuta (-l) e que abriram portas. Execute os pr\u00f3ximos passos apenas se for poss\u00edvel identificar o processo da aplica\u00e7\u00e3o netcat vinculado \u00e0 porta indicada.</p>"},{"location":"debian/experimento_03/#4-interacoes-com-o-socket-servidor","title":"4. Intera\u00e7\u00f5es com o socket servidor","text":"<p>Na pr\u00e1tica sobre camada de aplica\u00e7\u00e3o, usamos a aplica\u00e7\u00e3o telnet. Essa ferramenta \u00e9 capaz de abrir sockets TCP cliente a servidores.</p> <p>Partindo do princ\u00edpio que h\u00e1 um equipamento em que est\u00e1 aberta uma porta em estado de escuta, ou seja, h\u00e1 um socket servidor de uma aplica\u00e7\u00e3o, utilize a ferramenta telnet para se conectar a esse servidor. Apenas relembrando a sintaxe esperada para execu\u00e7\u00f5es do telnet:</p> <pre><code>$ telnet nome_do_host numero_da_porta\n</code></pre> <p>Uma vez aberto o socket, envie bytes atrav\u00e9s da digita\u00e7\u00e3o de caracteres do teclado. Para demandar o envido, pressione a tecla ENTER ap\u00f3s as digita\u00e7\u00f5es.</p>"},{"location":"debian/experimento_03/#5-identificacao-de-servicos-disponiveis-em-um-host","title":"5. Identifica\u00e7\u00e3o de servi\u00e7os dispon\u00edveis em um host","text":"<p>\u00c0s vezes, faz-se necess\u00e1rio verificar se h\u00e1 servi\u00e7os em execu\u00e7\u00e3o em determinado host conectado \u00e0 rede. Por\u00e9m, diferentemente do cen\u00e1rio apresentado na Etapa 3, h\u00e1 situa\u00e7\u00f5es em que n\u00e3o se ter\u00e1 acesso administrativo (ou f\u00edsico) ao equipamento a ser analisado.</p> <p>Nesse contexto, ser\u00e1 necess\u00e1rio empreender um teste do tipo caixa-preta para verificar se determinados servi\u00e7os est\u00e3o ativos. Na verdade, no contexto da camada de transporte, o teste verificar\u00e1 se determinadas portas est\u00e3o abertas e em estado de escuta no equipamento sobre testes.</p> <p>As ferramentas at\u00e9 ent\u00e3o estudadas s\u00e3o capazes de auxiliar o t\u00e9cnico nessa atividade de identifica\u00e7\u00e3o de servi\u00e7os ativos, por\u00e9m demandar\u00e3o uma s\u00e9rie de intera\u00e7\u00f5es do operador ou mesmo a programa\u00e7\u00e3o de scripts que ser\u00e3o executados para varrer determinados conjuntos de par\u00e2metros de interesse.</p> <p>Como as redes TCP/IP j\u00e1 est\u00e3o em produ\u00e7\u00e3o h\u00e1 algumas d\u00e9cadas, \u00e9 natural que algumas ferramentas mais maduras e integradas estejam dispon\u00edveis para a identifica\u00e7\u00e3o mais imediata dos servi\u00e7os dispon\u00edveis. Uma dessas ferramentas \u00e9 o nmap.</p> <p>Para varrer quais s\u00e3o os servi\u00e7os ativos em determinado host, executa-se o seguinte comando:</p> <pre><code>$ nmap nome_do_host\n</code></pre> <p>\u00c9 poss\u00edvel demandar uma varredura de um conjunto de equipamentos, por exemplo, todos os equipamentos pertencentes a uma rede. Basta alterar o comando acima da seguinte maneira:</p> <pre><code>$ nmap faixa_de_ip\n</code></pre> <p>onde faixa_de_ip pode ser uma faixa por intervalos (como 192.168.133.1-20, o que contemplaria todos os IPs entre 192.168.133.1 e 192.168.133.20) ou mesmo a indica\u00e7\u00e3o de uma subrede usando nota\u00e7\u00e3o CIDR.</p>"},{"location":"debian/experimento_03/#questoes-para-estudo","title":"Quest\u00f5es para Estudo","text":"<ol> <li>A porta de um servidor que prov\u00ea aplica\u00e7\u00f5es sobre TCP pode se encontrar em diferentes estados. Quais s\u00e3o esses estados e como evolui a comunica\u00e7\u00e3o entre um cliente e um servidor TCP quando a porta se apresenta em cada um dos estados poss\u00edveis?</li> <li>Que tipo de informa\u00e7\u00f5es o arquivo /etc/services prov\u00ea?</li> <li>Que tipo de ferramentas voc\u00ea recomendaria para a repeti\u00e7\u00e3o dos mesmos procedimentos sobre UDP?</li> <li>Em rela\u00e7\u00e3o \u00e0 Etapa 4 do presente roteiro, descreva o que se observou durante as intera\u00e7\u00f5es com o socket servidor.</li> <li>Como voc\u00ea implementaria um transmissor b\u00e1sico de arquivos usando apenas as ferramentas executadas nesse experimento?</li> <li>O nmap \u00e9 considerado uma ferramenta extremamente poderosa. Como voc\u00ea a utilizaria para identificar quais s\u00e3o os equipamentos que est\u00e3o ativos e em execu\u00e7\u00e3o em uma rede?</li> </ol>"},{"location":"debian/experimento_03/#referencias-bibliograficas","title":"Refer\u00eancias Bibliogr\u00e1ficas","text":"<p>GITE, Vivek. FreeBSD List/Display Open Ports With sockstat Command. Cyberciti, 2008. Dispon\u00edvel em: &lt;https://www.cyberciti.biz/tips/freebsd-lists-open-internet-unix-domain-sockets.html&gt;. Acesso em: 11 dez. de 2022.</p> <p>ELLINGWOOD, Justin. How To Use Netcat to Establish and Test TCP and UDP Connections. Digital Ocean, 2021. Dispon\u00edvel em: &lt;https://www.digitalocean.com/community/tutorials/how-to-use-netcat-to-establish-and-test-tcp-and-udp-connections&gt;. Acesso em: 11 dez. de 2022.</p> <p>SHIVANANDHAN, Manish. What is Nmap and How to Use it \u2013 A Tutorial for the Greatest Scanning Tool of All Time. FreeCodeCamp, 2021. Dispon\u00edvel em: &lt;https://www.freecodecamp.org/news/what-is-nmap-and-how-to-use-it-a-tutorial-for-the-greatest-scanning-tool-of-all-time/&gt;. Acesso em: 11 dez. de 2022.</p> <p>telnet(1). Dispon\u00edvel em: &lt;https://www.freebsd.org/cgi/man.cgi?telnet&gt;. Acesso em: 11 dez. 2022.</p> <p>nmap(1). Dispon\u00edvel em: &lt;https://www.freebsd.org/cgi/man.cgi?query=nmap&amp;manpath=SuSE+Linux%2Fi386+11.3&gt;. Acesso em: 11 dez. 2022.</p> <p>nc(1). Dispon\u00edvel em: &lt;https://www.freebsd.org/cgi/man.cgi?nc&gt;. Acesso em: 11 dez. 2022.</p> <p>sockstat(1). Dispon\u00edvel em: &lt;https://www.freebsd.org/cgi/man.cgi?query=sockstat&amp;sektion=1&gt;. Acesso em: 11 dez. 2022.</p> <p>LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.</p>"},{"location":"debian/experimento_04/","title":"Depura\u00e7\u00e3o de Problemas na Camada de Internet","text":"<p>Baixar como PDF</p>  <p>Pr\u00e1tica de Laborat\u00f3rio 04</p> <p>Depura\u00e7\u00e3o de Problemas na Camada de Internet</p>"},{"location":"debian/experimento_04/#introducao","title":"Introdu\u00e7\u00e3o","text":""},{"location":"debian/experimento_04/#objetivos","title":"Objetivos","text":"<ol> <li>Exercitar as configura\u00e7\u00f5es b\u00e1sicas para navegabilidade em uma rede de computadores bem como usar ferramentas de diagn\u00f3stico para validar configura\u00e7\u00f5es.</li> <li>Exercitar os princ\u00edpios b\u00e1sicos de uma comunica\u00e7\u00e3o em redes TCP/IP, com \u00eanfase nos servi\u00e7os t\u00edpicos da camada de internet. Conhecer e manipular ferramentas de diagn\u00f3stico (ping, traceroute, netstat e route) para fixa\u00e7\u00e3o de conceitos da camada de internet.</li> </ol>"},{"location":"debian/experimento_04/#teoria-abordada-no-experimento","title":"Teoria abordada no experimento","text":"<p>Funcionamento b\u00e1sico de uma rede TCP/IP.</p> <p>Protocolos de Camada de Internet.</p>"},{"location":"debian/experimento_04/#material-necessario","title":"Material Necess\u00e1rio","text":"<ul> <li>Interfaces de rede (NIC's)</li> <li>M\u00e1quinas com sistema FreeBSD</li> <li>Cabos de rede \u2013 par tran\u00e7ado normal</li> <li>Switches ou HUBs</li> <li>Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico</li> <li>Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio</li> <li>Servidores HTTP, DNS e SMTP devidamente configurados</li> <li>Ferramentas de diagn\u00f3stico: ping, traceroute, netstat e route</li> </ul>"},{"location":"debian/experimento_04/#roteiro","title":"Roteiro","text":""},{"location":"debian/experimento_04/#1-montagem-de-rede-interconectada-para-o-experimento","title":"1. Montagem de rede interconectada para o experimento","text":"<ul> <li>H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4), H4 (192.168.1.5) e R/eth0 (192.168.1.1). </li> </ul> <p>Al\u00e9m dessa topologia, haver\u00e1 equipamentos que prover\u00e3o os servi\u00e7os necess\u00e1rios \u00e0s pr\u00e1ticas da aula: DHCP e NAT.</p> <p>  </p>"},{"location":"debian/experimento_04/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es.","text":"<p>Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01.</p>"},{"location":"debian/experimento_04/#3-conferencia-de-informacoes-sobre-interfaces-de-rede","title":"3. Confer\u00eancia de informa\u00e7\u00f5es sobre interfaces de rede.","text":"<p>Usando um dos computadores dispon\u00edveis para o experimento e usando privil\u00e9gios administrativos, execute a aplica\u00e7\u00e3o ifconfig. </p> <p>Quando executada sem par\u00e2metros, essa aplica\u00e7\u00e3o ir\u00e1 retornar uma tabela de informa\u00e7\u00f5es em que a primeira coluna possui um c\u00f3digo que identifica a interface de rede. Por sua vez, a segunda coluna apresenta informa\u00e7\u00f5es espec\u00edficas sobre o enlace e sobre a rede \u00e0 qual est\u00e1 conectada a interface.</p>"},{"location":"debian/experimento_04/#4-interacoes-com-outros-clientes-conectados-a-mesma-rede","title":"4. Intera\u00e7\u00f5es com outros clientes conectados \u00e0 mesma rede","text":"<p>Na nossa primeira aula pr\u00e1tica, pudemos exercitar alguns comandos, por\u00e9m sem conhecer o princ\u00edpio de funcionamento dos mesmos.</p> <p>Um desses comandos (o mais intuitivo deles) foi o comando ping. Repitamos a execu\u00e7\u00e3o do mesmo comando nessa pr\u00e1tica. Sugiro identificar na rede de testes o IP de um equipamento ativo para, em seguida, executar o comando:</p> <pre><code>$ ping ip_do_host\n</code></pre>"},{"location":"debian/experimento_04/#5-tabela-de-encaminhamento","title":"5. Tabela de encaminhamento","text":"<p>\u00c0s vezes, faz-se necess\u00e1rio verificar qual \u00e9 o caminho que poder\u00e1 ser seguido por um pacote em uma comunica\u00e7\u00e3o t\u00edpica atrav\u00e9s de uma rede TCP/IP. Ainda no equipamento emissor, pode ser necess\u00e1ria a confer\u00eancia da tabela de encaminhamento em vig\u00eancia. O sistema operacional FreeBSD prov\u00ea algumas ferramentas que permitem a confer\u00eancia da tabela de encaminhamento ativa.</p> <p>O comando netstat \u00e9 uma dessas ferramentas. Embora essa aplica\u00e7\u00e3o j\u00e1 tenha sido utilizada em pr\u00e1ticas anteriores, ela possui uma op\u00e7\u00e3o que indica ao usu\u00e1rio quais s\u00e3o as informa\u00e7\u00f5es constantes na tabela de encaminhamento. Execute o seguinte comando com acesso administrativo:</p> <pre><code>$ netstat -nr\n</code></pre> <p>O retorno ser\u00e1 uma tabela com 8 colunas devidamente identificadas. Voc\u00ea consegue perceber a repeti\u00e7\u00e3o de algumas informa\u00e7\u00f5es contidas na sa\u00edda dessa comando quanto comparada com a sa\u00edda do ifconfig?</p> <p>Para conferir o estado de atividade das interfaces de rede:</p> <pre><code>$ netstat -i\n</code></pre> <p>O comando netstat \u00e9 considerado uma ferramenta cl\u00e1ssica de rede e muitas de suas funcionalidades j\u00e1 foram substitu\u00eddas por outros comandos, como o comando ip.</p>"},{"location":"debian/experimento_04/#6-caminho-seguido-por-um-pacote","title":"6. Caminho seguido por um pacote","text":"<p>H\u00e1 uma aplica\u00e7\u00e3o que exercita os servi\u00e7os t\u00edpicos e protocolos da camada de forma a identificar o caminho seguido por um pacote. Esse tipo de informa\u00e7\u00e3o \u00e9 muito \u00fatil para um administrador de redes de computadores que necessita validar a execu\u00e7\u00e3o de suas interven\u00e7\u00f5es no esquema de roteamento seguido por um sistema aut\u00f4nomo.</p> <p>Por\u00e9m, dependendo do tipo da institui\u00e7\u00e3o que se comunica atrav\u00e9s de um sistema aut\u00f4nomo de roteamento, a informa\u00e7\u00e3o do caminho seguido pelo pacote pode classificada como sens\u00edvel. Dessa forma, o acesso dever\u00e1 ser restrito \u00e0queles que dela dependem sustentar o funcionamento do sistema aut\u00f4nomo. Naturalmente, outros usu\u00e1rios n\u00e3o dever\u00e3o ser capazes de extrair essa informa\u00e7\u00e3o de forma trivial a partir de intera\u00e7\u00f5es com a rede.</p> <p>A ferramenta de diagn\u00f3stico explorada nessa etapa chama-se traceroute. Por meio de intera\u00e7\u00f5es com mecanismos t\u00edpicos da camada de internet e da camada de transporte, essa ferramenta consegue extrair de redes qual o caminho percorrido por determinado pacote. Para tanto, basta que seu usu\u00e1rio indique um ip alvo para que a aplica\u00e7\u00e3o realize o processo de tra\u00e7ado da rota.</p> <pre><code>$ traceroute ip_do_alvo\n</code></pre>"},{"location":"debian/experimento_04/#questoes-para-estudo","title":"Quest\u00f5es para Estudo","text":"<ol> <li>A descri\u00e7\u00e3o de informa\u00e7\u00f5es espec\u00edficas sobre a interface de rede obtida atrav\u00e9s da execu\u00e7\u00e3o do comando ifconfig \u00e9 bem extensa. Partindo do resultado da execu\u00e7\u00e3o do comando em seu equipamento e tomando como refer\u00eancia a interface que foi usada nos testes, descreva em detalhes o significado de cada um dos itens discriminados na segunda coluna de sa\u00edda do comando.</li> <li>Equipamentos que implementam a pilha de protocolos TCP/IP apresentam, tipicamente, uma sa\u00edda padr\u00e3o durante a execu\u00e7\u00e3o do comando ifconfig. Indique que sa\u00edda \u00e9 essa e como ela se faz \u00fatil na constru\u00e7\u00e3o de sistemas que funcionar\u00e3o sobre redes de comunica\u00e7\u00f5es.</li> <li>A execu\u00e7\u00e3o do comando ping em uma rede \u00e9 uma das primeiras medidas para verifica\u00e7\u00e3o de continuidade de servi\u00e7o. Embora seja um comando muito simples de invocar e cujos resultados pr\u00e1ticos s\u00e3o muito f\u00e1ceis de interpretar, a riqueza de detalhes da sa\u00edda t\u00edpica de execu\u00e7\u00e3o do ping \u00e9 grande. Descreva cada um dos itens que comp\u00f5em a sa\u00edda de execu\u00e7\u00e3o t\u00edpica de um comando ping.</li> <li>Em rela\u00e7\u00e3o \u00e0 Etapa 5 do presente roteiro, descreva cada um dos itens que comp\u00f5em a sa\u00edda de execu\u00e7\u00e3o t\u00edpica de um comando netstat -nr. Qual seria a sintaxe usada para extrair a mesma informa\u00e7\u00e3o, por\u00e9m a partir do comando ip?</li> <li>Em rela\u00e7\u00e3o \u00e0 Etapa 6 do presente roteiro, descreva o processo t\u00edpico de detec\u00e7\u00e3o da rota percorrida por um pacote atrav\u00e9s da execu\u00e7\u00e3o do comando traceroute.</li> </ol>"},{"location":"debian/experimento_04/#referencias-bibliograficas","title":"Refer\u00eancias Bibliogr\u00e1ficas","text":""},{"location":"debian/experimento_05/","title":"Camada de Aplica\u00e7\u00e3o (DHCP)","text":"<p>Baixar como PDF</p>  <p>Pr\u00e1tica de Laborat\u00f3rio 05</p> <p>Camada de Aplica\u00e7\u00e3o (DHCP)</p>"},{"location":"debian/experimento_05/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Para o correto funcionamento de redes, alguns servi\u00e7os de n\u00edvel de aplica\u00e7\u00e3o complementam as fun\u00e7\u00f5es b\u00e1sicas de rede, oferecendo funcionalidades que facilitam a administra\u00e7\u00e3o da rede. Um dos mais \u00fateis servi\u00e7os de rede em uso nas redes TCP/IP hoje, \u00e9 implementado pelo protocolo DHCP (Dynamic Host Configuration Protocol).</p>"},{"location":"debian/experimento_05/#objetivos","title":"Objetivos","text":"<ol> <li>Visualizar a import\u00e2ncia dos servi\u00e7os de atribui\u00e7\u00e3o din\u00e2mica de configura\u00e7\u00f5es.</li> <li>Entender como funciona a implementa\u00e7\u00e3o do DHCP no FreeBSD, e configur\u00e1-la.</li> </ol>"},{"location":"debian/experimento_05/#teoria-abordada-no-experimento","title":"Teoria abordada no experimento","text":"<p>Objetivo e funcionamento do protocolo DHCP.</p>"},{"location":"debian/experimento_05/#material-necessario","title":"Material Necess\u00e1rio","text":"<ul> <li>Interfaces de rede (NIC's)</li> <li>M\u00e1quinas com sistema FreeBSD</li> <li>Cabos de rede \u2013 par tran\u00e7ado normal</li> <li>Switches ou HUBs</li> <li>Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico, pacotes de servidor DHCP (isc-dhcp44-server)</li> <li>Acesso \u00e0 Internet \u2013 necess\u00e1rio para instala\u00e7\u00e3o de ferramentas</li> <li>Desligar o servidor DHCP para as m\u00e1quinas de aula</li> </ul>"},{"location":"debian/experimento_05/#roteiro","title":"Roteiro","text":""},{"location":"debian/experimento_05/#1-montagem-de-rede-interconectada-para-o-experimento","title":"1. Montagem de rede interconectada para o experimento","text":"<ul> <li>H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4) e R/eth0 (192.168.1.1).</li> </ul> <p>  </p>"},{"location":"debian/experimento_05/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es.","text":"<p>Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01.</p>"},{"location":"debian/experimento_05/#3-instalacao-do-pacote-de-servidor-dhcp","title":"3. Instala\u00e7\u00e3o do pacote de servidor DHCP","text":"<p>Para a execu\u00e7\u00e3o deste experimento \u00e9 essencial a instala\u00e7\u00e3o do pacote isc-dhcp44-server, que n\u00e3o \u00e9 incluso por padr\u00e3o no FreeBSD. Para prosseguir com a instala\u00e7\u00e3o, execute o seguinte comando:</p> <pre><code>$ pkg install isc-dhcp44-server\n</code></pre> <p>ATEN\u00c7\u00c3O: \u00c9 normal ocorrer uma falha, pois, ao finalizar a instala\u00e7\u00e3o, ele tenta iniciar o servidor que n\u00e3o tem nenhum escopo DHCP criado ainda.</p>"},{"location":"debian/experimento_05/#4-configuracao-do-servidor-dhcp","title":"4. Configura\u00e7\u00e3o do Servidor DHCP","text":"<p>Os arquivos mais importantes do servidor DHCP a ser usado, s\u00e3o:</p> <p>/etc/dhcp3/dhcpd.conf : configura\u00e7\u00f5es para o servidor DHCP</p> <p>/var/lib/dhcp/dhcpd.leases : leases j\u00e1 ofertados pelo servidor DHCP</p> <p>A configura\u00e7\u00e3o do servidor est\u00e1 toda no arquivo dhcpd.conf. Segue abaixo um exemplo comentado:</p> <pre><code># ddns=update-style none -&gt; nao vai aceitar atualiza\u00e7\u00f5es din\u00e2micas de dns\n# Exemplo de configura\u00e7\u00e3o\n# Tempo de lease: default m\u00ednimo (10 min) e maximo (2 hs)\n# Outros valores: 86400 (1 dia), 604800 (1 semana) e 2592000 (30 dias)\ndefault-lease-time 600; OK\nmax-lease-time 7200; OK\n# Reconhece e corrige pedidos de endere\u00e7os incoerentes\nauthoritative; -&gt; torna o servidor DHCP autoritativo da rede, servidor dhcp oficial da rede local OK\noption domain-name-servers 192.168.1.1, 192.168.1.2; #endere\u00e7o dos servidores dns (roteador e 8.8.8.8 da internet) OK\noption domain-name \"mydomain.org\"; #nome de dominio OK\n# Pode-se incluir opcoes especificas para uma subrede (configura\u00e7\u00f5es de subrede onde cria os escopos)\nsubnet 192.168.1.0 netmask 255.255.255.0 { #ip do escopo (onde a rede esta) e mascara da sub rede\n range 192.168.1.10 192.168.1.100; #faixa de ip que vai usar na rede\n range 192.168.1.150 192.168.1.200; #faixa de ip que vai usar na rede\n # Opcoes de rede comuns\n option subnet-mask 255.255.255.0; #mascara de sub rede\n option broadcast-address 192.168.1.255; #endere\u00e7o de broadcast da rede\n option routers 192.168.1.254; #gateway padrao\n}\n# Para designar WINS server para estacoes WIN\n#option netbios-name-servers 192.168.1.1;\n# Para atribuir um endereco especifico para um MAC - suporte a clientes\n# BOOTP\nhost haagen {\n option host-name \u201cleao.labredes.unb.br\u201d;\n hardware ethernet 08:00:2b:4c:59:23;\n fixed-address 192.168.1.222;\n}\n</code></pre> <p>O comando abaixo pode ser executado para verificar a sintaxe do arquivo dhcpd.conf com o objetivo de garantir que nenhum erro de digita\u00e7\u00e3o foi cometido:</p> <pre><code>$ dhcpd -t\n</code></pre> <p>Em caso de nenhum erro de sintaxe indicado pelo comando acima, deve-se reiniciar o servidor para que as altera\u00e7\u00f5es tenham efeito.</p> <pre><code>$ service isc-dhcp-server start ou service isc-dhcpd start\n</code></pre> <p>esta \u00e9 a maneira correta de disparar servi\u00e7os num servidor FreeBSD, por\u00e9m queremos ver o que est\u00e1 acontecendo com o servidor na sua tela. Por isso vamos disparar o servidor \u201cna m\u00e3o\u201d com o comando:</p> <pre><code>$ dhcpd -d -f &lt;interface de rede&gt;\n</code></pre> <p>a op\u00e7\u00e3o -d habilita o modo de depura\u00e7\u00e3o, que fornece um rastreamento mais detalhado do processo de inicializa\u00e7\u00e3o do servidor DHCP e a op\u00e7\u00e3o -f especifica qual interface de rede deve ser usada.</p> <p>Para disparar o servi\u00e7o somente numa interface sempre, acrescente a op\u00e7\u00e3o da interface no arquivo /etc/default/isc-dhcp-server:</p> <pre><code>INTERFACES=\"em0\";\n</code></pre> <p>Ap\u00f3s a configura\u00e7\u00e3o do servidor DHCP, caso apresente algum problema e n\u00e3o esteja funcionando, pode ser necess\u00e1rio verificar os arquivos de log do sistema (/var/log/syslog), com o seguinte comando:</p> <pre><code>$ grep dhcpd /var/log/syslog\n</code></pre>"},{"location":"debian/experimento_05/#5-configuracao-do-cliente-dhcp","title":"5. Configura\u00e7\u00e3o do cliente DHCP","text":"<p>No FreeBSD, configure o arquivo rc.conf (/etc/rc.conf) citado em experi\u00eancias anteriores e ponha a interface em quest\u00e3o configur\u00e1vel via dhcp, adicionando a linha abaixo:</p> <pre><code>ifconfig_em0=\u201dDHCP\u201d\n</code></pre> <p>Para for\u00e7ar a configura\u00e7\u00e3o da interface de rede, d\u00ea o comando:</p> <pre><code>$ ifup &lt;interface&gt;\n</code></pre> <p>Para verificar o endere\u00e7o obtido do servidor DHCP:</p> <pre><code>$ ifconfig\n</code></pre> <p>ATEN\u00c7\u00c3O: Caso o comando ifconfig n\u00e3o aponte o ip adquirido atrav\u00e9s do DHCP, pode ser necessario reiniciar a interface de rede (ifdown &lt;interface&gt; + ifup &lt;interface&gt;) ou dhclient &lt;interface&gt;</p> <p>Verifique se o cliente est\u00e1 usando o servidor DHCP correto:</p> <pre><code>$ dhclient -v\n</code></pre> <p>Atraves do arquivo de leases, verifque as concess\u00f5es ativas do servidor dhcp:</p> <pre><code>$ cat /var/lib/dhcp/dhcpd.leases | less\n</code></pre> <p>Visualize as mensagens sendo trocadas entre cliente e servidor DHCP com um analisador de protocolos. Altere as configura\u00e7\u00f5es do servidor DHCP de forma que um dos hosts tenha IP previamente definido em fun\u00e7\u00e3o de seu endere\u00e7o MAC. Verifique se as mudan\u00e7as foram aplicadas aos hosts de sua rede.</p>"},{"location":"debian/experimento_05/#questoes-para-estudo","title":"Quest\u00f5es para Estudo","text":"<ol> <li>DHCP pode funcionar atrav\u00e9s de redes ligadas por roteadores?</li> <li>O que \u00e9 a fun\u00e7\u00e3o de BOOTP/DHCP relay?</li> <li>Analise as poss\u00edveis configura\u00e7\u00f5es do arquivo dhcpd.conf. Que op\u00e7\u00f5es de configura\u00e7\u00e3o se pode passar automaticamente via DHCP para hosts numa rede? Isto pode ser usado em outros servi\u00e7os de rede?</li> <li>Qual a vantagem de se fixar IP's por endere\u00e7o MAC?</li> <li>Podemos ter mais de um servidor DHCP numa rede? Pode haver alguma confus\u00e3o? O que acontece se houver?</li> </ol>"},{"location":"debian/experimento_05/#referencias-bibliograficas","title":"Refer\u00eancias Bibliogr\u00e1ficas","text":""},{"location":"debian/experimento_06/","title":"Camada de Internet (NAT)","text":"<p>Baixar como PDF</p>  <p>Pr\u00e1tica de Laborat\u00f3rio 06</p> <p>Camada de Internet (NAT)</p>"},{"location":"debian/experimento_06/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Para o correto funcionamento de redes, alguns servi\u00e7os de n\u00edvel de aplica\u00e7\u00e3o complementam as fun\u00e7\u00f5es b\u00e1sicas de rede, oferecendo funcionalidades que facilitam a administra\u00e7\u00e3o da rede. Em fun\u00e7\u00e3o da escassez de endere\u00e7os IPv4, os projetistas de Internet desenvolveram artif\u00edcios que permitiam um re\u00faso de IPs. A primeiro conceito envolvido nesse tipo de t\u00e9cnica \u00e9 o da segrega\u00e7\u00e3o do espa\u00e7o de endere\u00e7amento entre endere\u00e7os IPs v\u00e1lidos e endere\u00e7os de IPs de aplica\u00e7\u00e3o restrita. O NAT (Network Address Translation) \u00e9 um esquema que torna vi\u00e1vel montar uma rede endere\u00e7ada por meio de um conjunto de IPs restritos de forma que todos os hosts compartilham um n\u00famero pequeno de IPs v\u00e1lidos e, ainda sim, s\u00e3o capazes de manter conex\u00f5es regulares com equipamentos na Internet.</p>"},{"location":"debian/experimento_06/#objetivos","title":"Objetivos","text":"<ol> <li>Visualizar a import\u00e2ncia dos servi\u00e7os de compartilhamento de IPs.</li> <li>Entender como funciona a implementa\u00e7\u00e3o do NAT no Linux, e configur\u00e1-la.</li> </ol>"},{"location":"debian/experimento_06/#teoria-abordada-no-experimento","title":"Teoria abordada no experimento","text":"<p>Objetivo e funcionamento do esquema ARP.</p>"},{"location":"debian/experimento_06/#material-necessario","title":"Material Necess\u00e1rio","text":"<ul> <li>Interfaces de rede (NIC's)</li> <li>M\u00e1quinas com sistema FreeBSD</li> <li>Cabos de rede \u2013 par tran\u00e7ado normal</li> <li>Switches ou HUBs</li> <li>Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico</li> <li>Acesso \u00e0 Internet \u2013 necess\u00e1rio</li> <li>Desligar o servidor DHCP para as m\u00e1quinas de aula</li> </ul>"},{"location":"debian/experimento_06/#roteiro","title":"Roteiro","text":""},{"location":"debian/experimento_06/#1-montagem-de-rede-interconectada-para-o-experimento","title":"1. Montagem de rede interconectada para o experimento","text":"<p>Monte uma topologia com 3 ou mais m\u00e1quinas. Escolha uma para ser o gateway da topologia e lhe d\u00ea dois endere\u00e7os de IP: um IP fixo e v\u00e1lido para a rede de sa\u00edda e um IP restrito, inv\u00e1lido.</p> <p>  </p>"},{"location":"debian/experimento_06/#2-configuracao-do-servidor-dhcp-opcional","title":"2. Configura\u00e7\u00e3o do Servidor DHCP (opcional)","text":"<p>Se for do interesse da equipe que executa o experimento evitar configura\u00e7\u00f5es nas m\u00e1quinas que usar\u00e3o o gateway com NAT, \u00e9 conveniente implantar o servi\u00e7o de DHCP em algum servidor da rede local (privada) que usar\u00e1 o equipamento com NAT como gateway.</p>"},{"location":"debian/experimento_06/#3-configuracao-do-nat","title":"3. Configura\u00e7\u00e3o do NAT","text":"<p>No FreeBSD, configure o arquivo rc.conf (/etc/rc.conf) citado em experi\u00eancias anteriores e ponha uma interface em quest\u00e3o, a interface de sa\u00edda, configurada de forma fixa usando um IP v\u00e1lido da rede de sa\u00edda. Use o comando ifconfig para verificar o endere\u00e7o configurado.</p> <p>Em seguida, crie uma rede privada e configure o IP da outra interface de rede do equipamento gateway para que possua o primeiro IP do espa\u00e7o de endere\u00e7amento privado. Caso tenha optado por instalar DHCP nesta interface, n\u00e3o ser\u00e1 necess\u00e1ria a configura\u00e7\u00e3o dos clientes que acessar\u00e3o a Internet atrav\u00e9s do NAT; se esse n\u00e3o for seu caso, configure uma m\u00e1quina cliente de testes no espa\u00e7o de endere\u00e7amento da rede privada rec\u00e9m criada e conecte o cliente ao servidor NAT.</p>"},{"location":"debian/experimento_06/#4-configuracao-do-pf-filtro-de-pacotes","title":"4. Configura\u00e7\u00e3o do PF (filtro de pacotes)","text":"<p>Identifique as interfaces configuradas no passo acima e realize os ajustes adequados. Doravante, chamaremos ethSaida a interface de sa\u00edda e ethPriv a interface interna (com ou sem DHCP).</p> <p>Realize a limpeza de eventuais regras de firewall presentes no equipamento:</p> <pre><code>$ iptables --flush\n$ iptables --table nat --flush\n$ iptables --delete-chain\n$ iptables --table nat --delete-chain \n$ iptables --table nat --append POSTROUTING --out-interface ethSaida -j MASQUERADE -m state --state RELATED,ESTABLISHED -j ACCEPT\n$ iptables --append FORWARD --in-interface ethPriv --out-interface ethSaida -j ACCEPT\n</code></pre> <p>Teste as configura\u00e7\u00f5es de rede usando as ferramentas discutidas em pr\u00e1ticas anteriores. Recomenda-se as seguintes etapas de testes: teste de conectividade entre equipamentos da rede privada e o gateway com NAT, teste de conectividade entre equipamentos da rede privada e equipamentos situados na rede de sa\u00edda do gateway e teste de conectividade entre equipamentos da rede privada e equipamentos na Internet.</p>"},{"location":"debian/experimento_06/#questoes-para-estudo","title":"Quest\u00f5es para Estudo","text":"<ol> <li>Alguns passos foram omitidos nesse roteiro. A partir da metodologia de testes, identifique o problema e apresente a solu\u00e7\u00e3o para que a rede privada rec\u00e9m criada seja capaz de conectar-se \u00e0 Internet.</li> <li>Consulte a documenta\u00e7\u00e3o das ferramentas usadas na implementa\u00e7\u00e3o do NAT e indique o resultado de cada um dos comandos necess\u00e1rios \u00e0 implementa\u00e7\u00e3o do NAT.</li> <li>Como voc\u00ea sugere verificar se est\u00e1 acessando a Internet atrav\u00e9s de um NAT?</li> <li>Reinicie o seu equipamento usado para a implementa\u00e7\u00e3o de um NAT usando o sistema operacional Linux e verifique se as suas configura\u00e7\u00f5es ainda funcionam. Descreva que tipo de procedimentos foram realizados para tornar as configura\u00e7\u00f5es de NAT persistentes.</li> <li>Utilizando o sistema operacional FreeBSD, quais ser\u00e3o as etapas necess\u00e1rias para a implementa\u00e7\u00e3o de um NAT de comportamento semelhante ao que foi implementado em sala de aula com o Linux?</li> </ol>"},{"location":"debian/experimento_06/#referencias-bibliograficas","title":"Refer\u00eancias Bibliogr\u00e1ficas","text":""},{"location":"debian/experimento_07/","title":"Camada de Rede (ARP)","text":"<p>Baixar como PDF</p>  <p>Pr\u00e1tica de Laborat\u00f3rio 07</p> <p>Camada de Rede (ARP)</p>"},{"location":"debian/experimento_07/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Para o correto funcionamento de redes, alguns servi\u00e7os de n\u00edvel de camada de rede s\u00e3o primordiais para a adequada coopera\u00e7\u00e3o da pilha de protocolos sobre a qual reside a Internet.</p>"},{"location":"debian/experimento_07/#objetivos","title":"Objetivos","text":"<ol> <li>Exercitar conceitos discutidos nas aulas te\u00f3ricas da disciplina referentes \u00e0 camada de rede.</li> <li>Entender o papel do protocolo ARP e como acontecem suas intera\u00e7\u00f5es.</li> </ol>"},{"location":"debian/experimento_07/#teoria-abordada-no-experimento","title":"Teoria abordada no experimento","text":"<p>Objetivo e funcionamento do esquema NAT.</p>"},{"location":"debian/experimento_07/#material-necessario","title":"Material Necess\u00e1rio","text":"<ul> <li>Interfaces de rede (NIC's)</li> <li>M\u00e1quinas com sistema FreeBSD</li> <li>Cabos de rede \u2013 par tran\u00e7ado normal</li> <li>Switches ou HUBs</li> <li>Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico</li> <li>Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio</li> <li>Desligar o servidor DHCP para as m\u00e1quinas de aula</li> </ul>"},{"location":"debian/experimento_07/#roteiro","title":"Roteiro","text":""},{"location":"debian/experimento_07/#1-montagem-de-rede-interconectada-para-o-experimento","title":"1. Montagem de rede interconectada para o experimento","text":"<p>Monte uma topologia com 3 ou mais m\u00e1quinas. Escolha uma para ser o gateway da topologia e lhe d\u00ea dois endere\u00e7os de IP: um IP fixo e v\u00e1lido para a rede de sa\u00edda e um IP restrito, inv\u00e1lido.</p> <p>  </p>"},{"location":"debian/experimento_07/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es","text":"<p>Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01.</p>"},{"location":"debian/experimento_07/#3-verificacao-das-entradas-presentes-na-tabela-arp","title":"3. Verifica\u00e7\u00e3o das entradas presentes na tabela ARP","text":"<p>Em uma janela distinta, dispare a ferramenta de captura de pacotes:</p> <pre><code>$ tcpdump -e\n</code></pre> <p>Execute o seguinte comando:</p> <pre><code>$ arp -a\n</code></pre> <p>Proceda apenas se n\u00e3o constarem entradas na tabela ARP ou se constar apena a entrada do endere\u00e7o MAC do gateway da rede de testes.</p> <p>Em seguida, encontre algum equipamento da rede em que esteja sendo provido um servi\u00e7o, como um servidor HTTP (porta 80), por exemplo. Anote o IP do host e execute o seguinte comando</p> <pre><code>$ telnet ip_do_host porta_do_servico\n</code></pre> <p>Repita o comando arp:</p> <pre><code>$ arp -a\n</code></pre> <p>Tente, nessa etapa, a conex\u00e3o a um IP n\u00e3o existente na rede.</p> <pre><code>$ telnet ip_do_host_inexistente porta_do_servico\n</code></pre> <p>Em seguida, repita o comando arp.</p>"},{"location":"debian/experimento_07/#questoes-para-estudo","title":"Quest\u00f5es para Estudo","text":"<ol> <li>Qual foi a diferen\u00e7a de sa\u00eddas observadas entre a primeira e as duas \u00faltimas chamadas ao comando ARP?</li> <li>Suponha que uma aplica\u00e7\u00e3o utilize um esquema de controle de acesso baseado no valor do MAC address das placas de rede. Haveria algum problema de seguran\u00e7a nessa abordagem? Justifique.</li> <li>\u00c9 poss\u00edvel que o protocolo ARP interfira no desempenho de uma rede? Elabore sua resposta, apresentando exemplos/justificativas.</li> <li>H\u00e1, na literatura, ataques que envolvem o protocolo ARP? Se a resposta for afirmativa, cite exemplos.</li> </ol>"},{"location":"debian/experimento_07/#referencias-bibliograficas","title":"Refer\u00eancias Bibliogr\u00e1ficas","text":""},{"location":"debian/experimento_08/","title":"Firewall","text":"<p>Baixar como PDF</p>  <p>Pr\u00e1tica de Laborat\u00f3rio 08</p> <p>Firewall</p>"},{"location":"debian/experimento_08/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Firewall \u00e9 uma solu\u00e7\u00e3o de seguran\u00e7a baseada em hardware ou software (mais comum) que, a partir de um conjunto de regras ou instru\u00e7\u00f5es, analisa o tr\u00e1fego de rede para determinar quais opera\u00e7\u00f5es de transmiss\u00e3o ou recep\u00e7\u00e3o de dados podem ser executadas. \"Parede de fogo\", a tradu\u00e7\u00e3o literal do nome, j\u00e1 deixa claro que o firewall se enquadra em uma esp\u00e9cie de barreira de defesa. A sua miss\u00e3o, por assim dizer, consiste basicamente em bloquear tr\u00e1fego de dados indesejado e liberar acessos bem-vindos. [1]</p> <p>IPFW \u00e9 um firewall de pacotes do sistema operacional FreeBSD. Ele fornece controles detalhados para os pacotes IP que passam pelo firewall. Com ele, \u00e9 poss\u00edvel criar regras para permitir ou negar pacotes com base em crit\u00e9rios como origem, destino, porta, protocolo, tempo de execu\u00e7\u00e3o, prioridade e muito mais. \u00c9 poss\u00edvel criar regras para permitir ou negar o acesso a servi\u00e7os espec\u00edficos ou a segmentos da rede. IPFW tamb\u00e9m suporta o NAT (Network Address Translation) para permitir o uso de endere\u00e7os IP privados em uma rede p\u00fablica.</p>"},{"location":"debian/experimento_08/#objetivos","title":"Objetivos","text":"<ol> <li>Entender como funciona a implementa\u00e7\u00e3o de firewalls usando o FreeBSD.</li> </ol>"},{"location":"debian/experimento_08/#teoria-abordada-no-experimento","title":"Teoria abordada no experimento","text":"<p>Objetivo e funcionamento de firewalls.</p>"},{"location":"debian/experimento_08/#material-necessario","title":"Material Necess\u00e1rio","text":"<ul> <li>Interfaces de rede (NIC's)</li> <li>M\u00e1quinas com sistema FreeBSD</li> <li>Cabos de rede \u2013 par tran\u00e7ado normal</li> <li>Switches ou HUBs</li> <li>Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico</li> <li>Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio</li> </ul>"},{"location":"debian/experimento_08/#roteiro","title":"Roteiro","text":""},{"location":"debian/experimento_08/#1-montagem-de-rede-interconectada-para-o-experimento","title":"1. Montagem de rede interconectada para o experimento","text":"<ul> <li>R/eth1 (172.25.0.1) e S1 (172.25.0.2).</li> <li>H1 (192.168.1.3), H2 (192.168.1.2) e R/eth0 (192.168.1.1).</li> <li>OPCIONAL: R/eth2 (184.45.0.1) e S2 (184.45.0.2).</li> </ul> <p>Os equipamentos H1 e S1 dever\u00e3o prover o servi\u00e7o SSH na porta 22.</p> <p>  </p>"},{"location":"debian/experimento_08/#2-habilitar-o-ipfw","title":"2. Habilitar o IPFW","text":"<p>Primeiramente, \u00e9 necess\u00e1rio verificar se o IPFW j\u00e1 se encontra habilitado. Para isso, execute o seguinte comando:</p> <pre><code>$ ipfw show\n</code></pre> <p>ATEN\u00c7\u00c3O: Caso a resposta seja Protocol not available, significa que n\u00e3o est\u00e1 habilitado.</p> <p>Existem duas formas de habilitar o IPFW, via m\u00f3dulo ou via kernel. </p>"},{"location":"debian/experimento_08/#21-habilitar-ipfw-via-modulo","title":"2.1 Habilitar IPFW via m\u00f3dulo","text":"<p>Para habilitar o IPFW via m\u00f3dulo:</p> <pre><code>$ kldload ipfw\n</code></pre> <p>ATEN\u00c7\u00c3O: Ao habilitar o m\u00f3dulo, o padr\u00e3o ser\u00e1 uma regra de pol\u00edtica fechada: ou seja, a primeira regra \u00e9 \"negar tudo\". Para transformar essa pol\u00edtica em aberta, ou seja, que a primeira regra seja \"permitir tudo\", deve-se alterar a sysctl com o seguinte comando:</p> <pre><code>$ sysctl net.inet.ip.fw.default_to_accept=1\n</code></pre>"},{"location":"debian/experimento_08/#22-habilitar-ipfw-via-kernel","title":"2.2 Habilitar IPFW via kernel","text":"<p>Para habilitar o IPFW via kernel, configure o arquivo rc.conf (/etc/rc.conf), adicionando a seguinte linha ao arquivo:</p> <pre><code>firewall_enable=\"YES\"\n</code></pre> <p>Depois, basta executar o comando:</p> <pre><code>$ service ipfw start\n</code></pre>"},{"location":"debian/experimento_08/#3-configuracao-de-regras-de-filtragem-etapa-1","title":"3. Configura\u00e7\u00e3o de regras de filtragem: Etapa 1","text":"<p>Em R, montar as seguintes regras:</p> <ul> <li>H1 pode apenas fazer ping em S1.<ul> <li>Apenas pacotes ICMP ping poder\u00e3o se encaminhados de H1 para S1.</li> </ul> </li> </ul> <pre><code>$ # caso o padr\u00e3o seja uma regra de pol\u00edtica aberta\n$ ipfw add 50 deny all from 192.168.1.3 to 172.25.0.2 not icmp\n$ # permitir apenas pacotes ICMP\n$ ipfw add 60 allow icmp from 192.168.1.3 to 172.25.0.2\n</code></pre>  <ul> <li>S1 n\u00e3o pode fazer ping em H1.<ul> <li>Todos os pacotes de S1 dever\u00e3o alcan\u00e7ar H1, exceto os de ICMP ping request.</li> </ul> </li> </ul> <pre><code>$ # negar apenas pacotes ICMP\n$ ipfw add 70 deny icmp from 172.25.0.2 to 192.168.1.3\n$ # caso o padr\u00e3o seja uma regra de pol\u00edtica fechada\n$ ipfw add 80 allow all from 172.25.0.2 to 192.168.1.3 not icmp\n</code></pre>"},{"location":"debian/experimento_08/#4-testes-validacao-das-intervencoes-da-etapa-1","title":"4. Testes: Valida\u00e7\u00e3o das interven\u00e7\u00f5es da Etapa 1","text":"<p>Verificar se H1 faz ping em S1 e se S1 faz ping em H1 com as regras da quest\u00e3o anterior. </p> <p>Verificar se \u00e9 poss\u00edvel abrir uma conex\u00e3o SSH de H1 para S1.</p> <p>Verificar se \u00e9 poss\u00edvel abrir uma conex\u00e3o SSH de S1 para H1.</p> <p>Executar Nmap da seguinte maneira:</p> <ul> <li>varrer as portas de H1 usando S1 como origem.</li> <li>varrer as portas de S1 usando H1 como origem.</li> </ul>"},{"location":"debian/experimento_08/#5-configuracao-de-regras-de-filtragem-etapa-2","title":"5. Configura\u00e7\u00e3o de regras de filtragem: Etapa 2","text":"<p>Crie regras em R de modo que H1 possa fazer SSH em S1, por\u00e9m atrav\u00e9s de um esquema de DNAT, onde uma porta de R ir\u00e1 redirecionar o tr\u00e1fego para a porta que prov\u00ea SSH em S1. </p> <pre><code>$ ipfw add 90 fwd 172.25.0.2,22 tcp from 192.168.1.3 to me dst-port 22\n$ ipfw add 100 allow tcp from 192.168.1.3 to 172.25.0.2 dst-port 22\n</code></pre> <p>Crie regras em R de modo que S1 n\u00e3o seja capaz de encaminhar pacotes UDP para o segmento de rede onde reside H1.</p> <pre><code>$ ipfw add 110 deny udp from 172.25.0.2 to 192.168.1.3\n</code></pre> <p>ATEN\u00c7\u00c3O: \u00c9 importante mencionar que as regras de firewall s\u00e3o baseadas na ordem de cria\u00e7\u00e3o, ent\u00e3o a ordem destas regras \u00e9 importante para garantir que elas estejam funcionando corretamente.</p>"},{"location":"debian/experimento_08/#6-testes-validacao-das-intervencoes-da-etapa-2","title":"6. Testes: Valida\u00e7\u00e3o das interven\u00e7\u00f5es da Etapa 2","text":"<p>Para testar as regras de filtragem UDP da Etapa 2, use o envio de consultas DNS para provocar a transmiss\u00e3o de pacotes DNS.</p> <p>Experimente realizar a conex\u00e3o SSH entre H1 e S1 usando a regra de DNAT criada.</p> <p>ATEN\u00c7\u00c3O: \u00c9 poss\u00edvel verificar o log do firewall usando o comando ipfw show log ou ipfw show log verbose para obter informa\u00e7\u00f5es adicionais, como endere\u00e7os IP e portas. Para verificar o log do sistema, voc\u00ea pode usar o comando tail -f /var/log/messages ou syslog que ir\u00e1 exibir as mensagens de log geradas pelo sistema operacional.</p>"},{"location":"debian/experimento_08/#questoes-para-estudo","title":"Quest\u00f5es para Estudo","text":"<ol> <li>O servi\u00e7o ssh \u00e9 sobre o TCP ou UDP? Conferir com o tcpdump, simulando a situa\u00e7\u00e3o onde S1 faz ssh em H1.</li> <li>Em rela\u00e7\u00e3o aos testes do Item 4 (testes da Etapa 1) do roteiro, como \u00e9 poss\u00edvel ao Nmap indicar a eventual presen\u00e7a de portas filtradas atrav\u00e9s do roteador R que atua como Firewall?</li> </ol>"},{"location":"debian/experimento_08/#referencias-bibliograficas","title":"Refer\u00eancias Bibliogr\u00e1ficas","text":"<p>[1] https://pt.wikipedia.org/wiki/Firewall</p> <p>https://www.youtube.com/watch?v=_tIP4E22O_0</p> <p>https://docs.freebsd.org/en/books/handbook/firewalls/#firewalls-ipfw</p> <p>https://sempreupdate.com.br/freebsd-como-configurar-um-firewall-usando-ipfw/</p>"},{"location":"debian/experimento_09/","title":"Camada de Aplica\u00e7\u00e3o (Proxy)","text":"<p>Baixar como PDF</p>  <p>Pr\u00e1tica de Laborat\u00f3rio 09</p> <p>Camada de Aplica\u00e7\u00e3o (Proxy)</p>"},{"location":"debian/experimento_09/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Em redes de computadores, um proxy \u00e9 um servidor (um sistema de computador ou uma aplica\u00e7\u00e3o) que age como um intermedi\u00e1rio para requisi\u00e7\u00f5es de clientes solicitando recursos de outros servidores. </p> <p>Um cliente conecta-se ao servidor proxy, solicitando algum servi\u00e7o, como um arquivo, conex\u00e3o, p\u00e1gina web ou outros recursos dispon\u00edveis de um servidor diferente e o proxy avalia a solicita\u00e7\u00e3o como um meio de simplificar e controlar sua complexidade. Os proxies foram inventados para adicionar estrutura e encapsulamento a sistemas distribu\u00eddos. Hoje, a maioria dos proxies \u00e9 proxy web, facilitando o acesso ao conte\u00fado na World Wide Web e fornecendo anonimato. [1]</p>"},{"location":"debian/experimento_09/#objetivos","title":"Objetivos","text":"<ol> <li>Permitir que os alunos tenham contato com regras de Proxy em m\u00e1quinas FreeBSD.</li> </ol>"},{"location":"debian/experimento_09/#teoria-abordada-no-experimento","title":"Teoria abordada no experimento","text":"<p>Objetivo e funcionamento de um proxy de aplica\u00e7\u00e3o.</p>"},{"location":"debian/experimento_09/#material-necessario","title":"Material Necess\u00e1rio","text":"<ul> <li>Interfaces de rede (NIC's)</li> <li>M\u00e1quinas com sistema FreeBSD</li> <li>Cabos de rede \u2013 par tran\u00e7ado normal</li> <li>Switches ou HUBs</li> <li>Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico, pacote DNS server (bind9)</li> <li>Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio (instalar o squid)</li> </ul>"},{"location":"debian/experimento_09/#roteiro","title":"Roteiro","text":""},{"location":"debian/experimento_09/#1-montagem-de-rede-interconectada-para-o-experimento","title":"1. Montagem de rede interconectada para o experimento","text":"<p>Monte uma topologia de acordo com o seguinte diagrama:</p> <p>  </p>"},{"location":"debian/experimento_09/#2-configuracao-dos-equipamentos-etapa-1","title":"2. Configura\u00e7\u00e3o dos equipamentos: etapa 1","text":"<p>Em R, instalar o SQUID (proxy server) com as seguintes funcionalidades: (i) controle de acesso web por m\u00e1quina (IP), (ii) black list (BL) para h1 e h2, (iii) White list (wl) para h1 (e/ou h2). Na resposta, verificar e descrever qual o n\u00edvel de preval\u00eancia entre wl e bl.</p> <p>Ajustar h1 e h2 para que percebam a presen\u00e7a do proxy para o acesso Internet (configura\u00e7\u00e3o manual). Obs.: R possui acesso Internet, mas n\u00e3o possui NAT.</p>"},{"location":"debian/experimento_09/#3-configuracao-dos-equipamentos-etapa-2","title":"3. Configura\u00e7\u00e3o dos equipamentos: etapa 2","text":"<p>Montar a configura\u00e7\u00e3o de rede abaixo e seguir os requisitos descritos a seguir.</p> <p>  </p> <p>Transferir a fun\u00e7\u00e3o de proxy para S1, incluindo as restri\u00e7\u00f5es definidas nos itens (a) e (b).</p> <p>Montar um SNAT em R para que S1 possa acessar a Internet.</p> <p>Ajustar a tabela de rotas para que h1 e h2 consigam pingar em S1.</p> <p>Montar regras em R (e onde for preciso) para garantir o proxy transparente (ou seja, h1 e h2 n\u00e3o sabem da presen\u00e7a de um proxy Obs.: Verificar se \u00e9 poss\u00edvel resolver o desvio para o proxy usando um chain.</p>"},{"location":"debian/experimento_09/#questoes-para-estudo","title":"Quest\u00f5es para Estudo","text":"<ol>   </ol>"},{"location":"debian/experimento_09/#referencias-bibliograficas","title":"Refer\u00eancias Bibliogr\u00e1ficas","text":"<p>[1] https://pt.wikipedia.org/wiki/Proxy</p>"},{"location":"debian/experimento_10/","title":"Camada de Aplica\u00e7\u00e3o (DNS)","text":"<p>Baixar como PDF</p>  <p>Pr\u00e1tica de Laborat\u00f3rio 10</p> <p>Camada de Aplica\u00e7\u00e3o (DNS)</p>"},{"location":"debian/experimento_10/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>O Domain Name System (DNS) \u00e9 um importante componente da Internet, respons\u00e1vel por fazer a tradu\u00e7\u00e3o de nomes de dom\u00ednio para endere\u00e7os IP e vice-versa. Isso permite que os usu\u00e1rios acessem sites e servi\u00e7os atrav\u00e9s de nomes de dom\u00ednio, em vez de ter que digitar os endere\u00e7os IP correspondentes.</p> <p>O objetivo deste experimento \u00e9 demonstrar como configurar um servidor DNS no sistema operacional FreeBSD, utilizando o utilit\u00e1rio \"named\". O experimento inclui a instala\u00e7\u00e3o do \"bind\", a edi\u00e7\u00e3o do arquivo de configura\u00e7\u00e3o, a cria\u00e7\u00e3o dos arquivos de zona, a inicializa\u00e7\u00e3o do daemon \"named\" e a verifica\u00e7\u00e3o do funcionamento do servidor DNS.</p>"},{"location":"debian/experimento_10/#objetivos","title":"Objetivos","text":"<ol> <li>Demonstrar o funcionamento do DNS e sua import\u00e2ncia na Internet</li> <li>Mostrar como configurar um servidor DNS no FreeBSD</li> <li>Verificar o funcionamento do servidor DNS atrav\u00e9s de consultas utilizando o comando \"dig\"</li> </ol>"},{"location":"debian/experimento_10/#teoria-abordada-no-experimento","title":"Teoria abordada no experimento","text":"<p>\"DNS e BIND\" (Albitz, Liu, 2013)</p> <p>\"FreeBSD Handbook\" (FreeBSD Documentation Project, 2021)</p> <p>\"BIND 9 Administrator Reference Manual\" (ISC, 2021)</p>"},{"location":"debian/experimento_10/#material-necessario","title":"Material Necess\u00e1rio","text":"<ul>  </ul>"},{"location":"debian/experimento_10/#roteiro","title":"Roteiro","text":"<ol> <li> <p>Instale o \"bind\" atrav\u00e9s do gerenciador de pacotes do FreeBSD, usando o comando \"pkg install bind\"</p> </li> <li> <p>Edite o arquivo de configura\u00e7\u00e3o do \"named\", que se encontra em \"/etc/namedb/named.conf\", usando o editor de texto de sua prefer\u00eancia</p> </li> <li> <p>Crie os arquivos de zona para os dom\u00ednios especificados no arquivo de configura\u00e7\u00e3o</p> </li> <li> <p>Inicie o daemon \"named\" atrav\u00e9s do comando \"service named start\"</p> </li> <li> <p>Verifique se o servidor DNS est\u00e1 funcionando corretamente, usando o comando \"dig\" para fazer consultas ao servidor DNS</p> </li> </ol>"},{"location":"debian/experimento_10/#ou","title":"OU","text":"<ol> <li> <p>Instale o \"bind\" atrav\u00e9s do gerenciador de pacotes do FreeBSD, usando o comando \"pkg install bind\".</p> </li> <li> <p>Edite o arquivo de configura\u00e7\u00e3o do \"named\", que se encontra em \"/etc/namedb/named.conf\", usando o editor de texto de sua prefer\u00eancia (por exemplo, o \"vi\"). No arquivo de configura\u00e7\u00e3o, especifique os dom\u00ednios que o servidor DNS ir\u00e1 resolver, bem como as zonas de pesquisa e os endere\u00e7os IP dos servidores de nomes prim\u00e1rios e secund\u00e1rios.</p> </li> <li> <p>Crie os arquivos de zona para os dom\u00ednios especificados no arquivo de configura\u00e7\u00e3o. Esses arquivos cont\u00eam os registros DNS para os dom\u00ednios, incluindo os endere\u00e7os IP dos servidores de nomes prim\u00e1rios e secund\u00e1rios, os endere\u00e7os IP dos servidores de correio, os endere\u00e7os IP dos servidores web, etc.</p> </li> <li> <p>Inicie o daemon \"named\" atrav\u00e9s do comando \"service named start\".</p> </li> <li> <p>Verifique se o servidor DNS est\u00e1 funcionando corretamente, usando o comando \"dig\" para fazer consultas ao servidor DNS. Por exemplo, use o comando \"dig www.example.com\" para obter o endere\u00e7o IP do servidor web para o dom\u00ednio \"www.example.com\".</p> </li> </ol>"},{"location":"debian/experimento_10/#ou_1","title":"OU","text":"<ol> <li> <p>Instale o \"bind\" atrav\u00e9s do gerenciador de pacotes do FreeBSD, usando o comando \"pkg install bind\". Este pacote inclui o utilit\u00e1rio \"named\", que \u00e9 um daemon que implementa o protocolo DNS.</p> </li> <li> <p>Edite o arquivo de configura\u00e7\u00e3o do \"named\", que se encontra em \"/etc/namedb/named.conf\", usando o editor de texto de sua prefer\u00eancia (por exemplo, o \"vi\"). No arquivo de configura\u00e7\u00e3o, voc\u00ea deve especificar os dom\u00ednios que o servidor DNS ir\u00e1 resolver, bem como as zonas de pesquisa e os endere\u00e7os IP dos servidores de nomes prim\u00e1rios e secund\u00e1rios.</p> </li> <li> <p>Crie os arquivos de zona para os dom\u00ednios especificados no arquivo de configura\u00e7\u00e3o. Esses arquivos devem ser criados na pasta \"/etc/namedb/namedb/\", e devem ter o mesmo nome que os dom\u00ednios especificados no arquivo de configura\u00e7\u00e3o. Por exemplo, se voc\u00ea especificou o dom\u00ednio \"example.com\" no arquivo de configura\u00e7\u00e3o, deve criar um arquivo chamado \"example.com.db\" na pasta \"/etc/namedb/namedb/\". Cada arquivo de zona deve conter os registros DNS para os dom\u00ednios, incluindo os endere\u00e7os IP dos servidores de nomes prim\u00e1rios e secund\u00e1rios, os endere\u00e7os IP dos servidores de correio, os endere\u00e7os IP dos servidores web, etc.</p> </li> <li> <p>Inicie o daemon \"named\" atrav\u00e9s do comando \"service named start\". Isso far\u00e1 com que o servidor DNS comece a escutar por consultas na porta 53.</p> </li> <li> <p>Verifique se o servidor DNS est\u00e1 funcionando corretamente, usando o comando \"dig\" para fazer consultas ao servidor DNS. Por exemplo, use o comando \"dig www.example.com\" para obter o endere\u00e7o IP do servidor web para o dom\u00ednio \"www.example.com\". Voc\u00ea tamb\u00e9m pode usar o comando \"dig -x IP\" para obter o nome de dom\u00ednio associado a um determinado endere\u00e7o IP.</p> </li> </ol>"},{"location":"debian/experimento_10/#para-que-outros-hosts-da-rede-usem-o-servidor-dns-que-voce-configurou","title":"Para que outros hosts da rede usem o servidor DNS que voc\u00ea configurou","text":"<p>Para que outros hosts da rede usem o servidor DNS que voc\u00ea configurou, \u00e9 necess\u00e1rio especificar o endere\u00e7o IP do servidor DNS como sendo o servidor de nomes padr\u00e3o (ou \"nameserver\") desses hosts. Isso pode ser feito de v\u00e1rias maneiras, dependendo do sistema operacional dos hosts e da forma como eles est\u00e3o configurados. Algumas das op\u00e7\u00f5es s\u00e3o:</p> <p>Modificar o arquivo de configura\u00e7\u00e3o do resolv.conf: em alguns sistemas operacionais (como o Linux e o macOS), \u00e9 poss\u00edvel especificar o servidor de nomes padr\u00e3o editando o arquivo \"/etc/resolv.conf\". Neste arquivo, basta adicionar uma linha com o endere\u00e7o IP do servidor DNS, da seguinte forma: \"nameserver IP_DO_SERVIDOR\".</p> <p>Modificar as configura\u00e7\u00f5es de rede do host: em alguns sistemas operacionais (como o Windows e o Android), \u00e9 poss\u00edvel especificar o servidor de nomes padr\u00e3o nas configura\u00e7\u00f5es de rede do host. Por exemplo, no Windows, voc\u00ea pode acessar as configura\u00e7\u00f5es de rede atrav\u00e9s do Painel de Controle, clicando em \"Rede e Internet\" e depois em \"Adaptadores de Rede\". Em seguida, basta selecionar a conex\u00e3o de rede que deseja configurar e clicar em \"Propriedades\". Na janela que aparecer, selecione o protocolo \"TCP/IPv4\" e clique em \"Propriedades\". Na janela de propriedades, basta especificar o endere\u00e7o IP do servidor DNS na caixa de texto \"Servidores de nomes\".</p> <p>Modificar o arquivo hostname.if: em alguns sistemas operacionais (como o FreeBSD), \u00e9 poss\u00edvel especificar o servidor de nomes padr\u00e3o editando o arquivo \"hostname.if\" na pasta \"/etc/\". Neste arquivo, basta adicionar uma linha com o endere\u00e7o IP do servidor DNS, da seguinte forma: \"nameserver IP_DO_SERVIDOR\".</p> <p>Espero que essas sugest\u00f5es ajudem a configurar outros hosts da rede para usar o servidor DNS que voc\u00ea configurou. Se voc\u00ea tiver mais d\u00favidas ou precisar de mais orienta\u00e7\u00f5es, n\u00e3o hesite em perguntar.</p> <p>==========</p> <p>Aqui vai uma sugest\u00e3o de como adicionar uma etapa no roteiro para configurar outro host da rede (com o sistema operacional FreeBSD ou Linux) para usar o servidor DNS configurado:</p> <ol> <li> <p>Configure outro host da rede para usar o servidor DNS configurado.</p> <ul> <li>No host que deseja configurar, edite o arquivo de configura\u00e7\u00e3o do resolv.conf (que se encontra em \"/etc/resolv.conf\" no FreeBSD ou em \"/etc/resolv.conf\" no Linux).</li> <li>Adicione uma linha com o endere\u00e7o IP do servidor DNS, da seguinte forma: \"nameserver IP_DO_SERVIDOR\".</li> <li>Salve as altera\u00e7\u00f5es e feche o arquivo.</li> <li>Verifique se o host est\u00e1 usando o servidor DNS configurado, fazendo uma consulta usando o comando \"dig\". Por exemplo, use o comando \"dig www.example.com\" para obter</li> </ul> </li> </ol>"},{"location":"debian/experimento_10/#questoes-para-estudo","title":"Quest\u00f5es para Estudo","text":"<ol> <li>O que \u00e9 o DNS e qual \u00e9 a sua fun\u00e7\u00e3o na Internet?</li> <li>Qual \u00e9 o nome do daemon que implementa o protocolo DNS no FreeBSD?</li> <li>Onde fica o arquivo de configura\u00e7\u00e3o do \"named\" no FreeBSD?</li> <li>Quais s\u00e3o os arquivos de zona e para que servem?</li> <li>Como voc\u00ea pode verificar o funcionamento do servidor DNS no FreeBSD?</li> </ol>"},{"location":"debian/experimento_10/#referencias-bibliograficas","title":"Refer\u00eancias Bibliogr\u00e1ficas","text":""},{"location":"debian/experimento_11/","title":"Introdu\u00e7\u00e3o ao IPV6","text":"<p>Baixar como PDF</p>  <p>Pr\u00e1tica de Laborat\u00f3rio 11</p> <p>Introdu\u00e7\u00e3o ao IPV6</p>"},{"location":"debian/experimento_11/#introducao","title":"Introdu\u00e7\u00e3o","text":""},{"location":"debian/experimento_11/#objetivos","title":"Objetivos","text":"<ol>   </ol>"},{"location":"debian/experimento_11/#teoria-abordada-no-experimento","title":"Teoria abordada no experimento","text":""},{"location":"debian/experimento_11/#material-necessario","title":"Material Necess\u00e1rio","text":"<ul>  </ul>"},{"location":"debian/experimento_11/#roteiro","title":"Roteiro","text":""},{"location":"debian/experimento_11/#_1","title":"Introdu\u00e7\u00e3o ao IPV6","text":""},{"location":"debian/experimento_11/#_2","title":"Introdu\u00e7\u00e3o ao IPV6","text":""},{"location":"debian/experimento_11/#questoes-para-estudo","title":"Quest\u00f5es para Estudo","text":"<ol>   </ol>"},{"location":"debian/experimento_11/#referencias-bibliograficas","title":"Refer\u00eancias Bibliogr\u00e1ficas","text":""},{"location":"debian/experimento_12/","title":"Camada de Aplica\u00e7\u00e3o (DNS)","text":"<p>Baixar como PDF</p>  <p>Pr\u00e1tica de Laborat\u00f3rio 12</p> <p>Camada de Aplica\u00e7\u00e3o (DNS)</p>"},{"location":"debian/experimento_12/#introducao","title":"Introdu\u00e7\u00e3o","text":""},{"location":"debian/experimento_12/#objetivos","title":"Objetivos","text":"<ol>   </ol>"},{"location":"debian/experimento_12/#referencias-teoricas","title":"Refer\u00eancias Te\u00f3ricas","text":""},{"location":"debian/experimento_12/#material-necessario","title":"Material Necess\u00e1rio","text":"<ul>  </ul>"},{"location":"debian/experimento_12/#roteiro","title":"Roteiro","text":""},{"location":"debian/experimento_12/#_1","title":"Camada de Aplica\u00e7\u00e3o (DNS)","text":""},{"location":"debian/experimento_12/#_2","title":"Camada de Aplica\u00e7\u00e3o (DNS)","text":""},{"location":"debian/experimento_12/#questoes-para-estudo","title":"Quest\u00f5es para Estudo","text":"<ol>   </ol>"},{"location":"freebsd/experimento_01/","title":"Introdu\u00e7\u00e3o \u00e0s Redes de Computadores","text":"<p>Baixar como PDF</p>  <p>Pr\u00e1tica de Laborat\u00f3rio 01</p> <p>Introdu\u00e7\u00e3o \u00e0s Redes de Computadores</p>"},{"location":"freebsd/experimento_01/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Algumas configura\u00e7\u00f5es b\u00e1sicas necess\u00e1rias para o correto funcionamento de equipamentos conectados a redes.</p>"},{"location":"freebsd/experimento_01/#objetivos","title":"Objetivos","text":"<ol> <li>Compreender as configura\u00e7\u00f5es b\u00e1sicas para navegabilidade em uma rede de computadores.</li> <li>Exercitar configura\u00e7\u00f5es b\u00e1sicas e entender como usar ferramentas de diagn\u00f3stico para validar configura\u00e7\u00f5es.</li> </ol>"},{"location":"freebsd/experimento_01/#teoria-abordada-no-experimento","title":"Teoria abordada no experimento","text":"<p>Funcionamento b\u00e1sico de uma rede TCP/IP.</p>"},{"location":"freebsd/experimento_01/#material-necessario","title":"Material Necess\u00e1rio","text":"<ul> <li>Interfaces de rede (NIC's)</li> <li>M\u00e1quinas com sistema FreeBSD</li> <li>Cabos de rede \u2013 par tran\u00e7ado normal</li> <li>Switches ou HUBs</li> <li>Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico</li> <li>Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio</li> <li>Desligar o servidor e cliente DHCP para as m\u00e1quinas do experimento</li> </ul>"},{"location":"freebsd/experimento_01/#roteiro","title":"Roteiro","text":""},{"location":"freebsd/experimento_01/#1-montagem-de-rede-interconectada-para-o-experimento","title":"1. Montagem de rede interconectada para o experimento","text":"<ul> <li>H1 (192.168.1.3), H2 (192.168.1.2) e R/eth0 (192.168.1.1).</li> </ul> <p>  </p>"},{"location":"freebsd/experimento_01/#2-configurar-os-clientes-na-rede-de-testes","title":"2. Configurar os clientes na rede de testes","text":"<p>No FreeBSD, configure o arquivo rc.conf (/etc/rc.conf) e ponha a interface em quest\u00e3o configur\u00e1vel de forma est\u00e1tica, modificando o arquivo para que ele fique semelhante as linhas abaixo:</p> <pre><code>hostname=\u201dfreebsd\u201d\nifconfig_em0=\u201dinet 192.0.2.7 netmask 255.255.255.0\u201d\nifconfig_em0_ipv6=\u201dinet6 accept_rtadv\u201d\nsshd_enable=\u201dYES\u201d\n# Set dumpdev to \u201cAUTO\u201d to enable crash dumps, \u201cNO\u201d to disable\ndumpdev=\u201dAUTO\u201d\ndefaultrouter=\u201d192.0.2.254\u201d\n</code></pre> <p>\u00c9 poss\u00edvel que o equipamento usado para testes possua uma designa\u00e7\u00e3o de interface de rede diferente  de em0. \u00c9 praxe em0 ser vinculada \u00e0 primeira interface de rede Ethernet do computador que executa o  kernel do FreeBSD.</p> <p>Dispondo de privil\u00e9gios de superusu\u00e1rio, execute o seguinte comando para for\u00e7ar a configura\u00e7\u00e3o da mesma:</p> <pre><code>$ ./etc/netstart &lt;interface&gt;\n</code></pre> <p>ATEN\u00c7\u00c3O: substitua &lt;interface&gt; pelo identificador da interface de rede do equipamento de testes.</p> <p>Em seguida, para verificar o endere\u00e7o configurado, use o comando:</p> <pre><code>$ ifconfig\n</code></pre> <p>Tamb\u00e9m \u00e9 poss\u00edvel executar os seguintes comandos para configura\u00e7\u00e3o das interfaces de rede:</p> <pre><code>$ # ifconfig interface-name IP-address netmask Netmask\n$ ifconfig em0 192.168.133.250 netmask 255.255.255.0\n$ route add default 192.168.133.1\n$ route -n\n</code></pre>"},{"location":"freebsd/experimento_01/#3-validando-as-configuracoes","title":"3. Validando as configura\u00e7\u00f5es","text":"<p>Confira a conectividade b\u00e1sica enviando pacotes ICMP para algum outro computador que esteja conectado \u00e0 mesma rede:</p> <pre><code>$ ping &lt;IP-address&gt;\n</code></pre> <p>Confira as configura\u00e7\u00f5es de roteamento enviando pacotes ICMP para algum outro computador que esteja conectado \u00e0 outra rede.</p> <pre><code>$ ping &lt;IP-address&gt;\n</code></pre> <p>Como proceder para configurar o esquema de resolu\u00e7\u00e3o de nomes?</p> <p>Obs.: Esse tipo de configura\u00e7\u00e3o explorada no experimento \u00e9 chamada de Manual ou Est\u00e1tica.</p>"},{"location":"freebsd/experimento_01/#questoes-para-estudo","title":"Quest\u00f5es para Estudo","text":"<ol> <li>H\u00e1 alguma forma mais simples de se realizar a configura\u00e7\u00e3o dos equipamentos para que sejam devidamente conectados \u00e0 rede?</li> <li>Qual \u00e9 a lista m\u00ednima de informa\u00e7\u00f5es necess\u00e1rias para que determinado equipamento fique plenamente operacional em uma rede?</li> <li>O que acontece quando alguma das informa\u00e7\u00f5es necess\u00e1rias \u00e9 suprimida? Elabore melhor os cen\u00e1rios.</li> </ol>"},{"location":"freebsd/experimento_01/#referencias-bibliograficas","title":"Refer\u00eancias Bibliogr\u00e1ficas","text":"<p>RAINVILLE, Shane. How to configure network settings in FreeBSD. Serverlab, 2020. Dispon\u00edvel em: &lt;https://www.serverlab.ca/tutorials/unix/how-to-set-static-ip-and-dhcp-in-freebsd/&gt;. Acesso em: 10 dez. de 2022.</p> <p>ping(8). Dispon\u00edvel em: &lt;https://www.freebsd.org/cgi/man.cgi?ping(8)&gt;. Acesso em: 10 dez. 2022.</p> <p>LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019</p>"},{"location":"freebsd/experimento_02/","title":"Depura\u00e7\u00e3o de Problemas na Camada de Aplica\u00e7\u00e3o","text":"<p>Baixar como PDF</p>  <p>Pr\u00e1tica de Laborat\u00f3rio 02</p> <p>Depura\u00e7\u00e3o de Problemas na Camada de Aplica\u00e7\u00e3o</p>"},{"location":"freebsd/experimento_02/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Quando um computador est\u00e1 devidamente configurado em uma rede de computadores, \u00e9 interessante que ele se comunique com outros equipamentos para o provimento de servi\u00e7os a usu\u00e1rios. Portanto, este experimento apresenta um conjunto m\u00ednimo de ferramentas que permitir\u00e3o a execu\u00e7\u00e3o de um diagn\u00f3stico preciso ao se encarar uma situa\u00e7\u00e3o de interrup\u00e7\u00e3o ou instabilidade de servi\u00e7o t\u00edpico de camada de aplica\u00e7\u00e3o.</p>"},{"location":"freebsd/experimento_02/#objetivos","title":"Objetivos","text":"<ol> <li>Exercitar uma comunica\u00e7\u00e3o t\u00edpica HTTP por meio de ferramenta de diagn\u00f3stico (telnet).</li> <li>Exercitar o in\u00edcio de uma comunica\u00e7\u00e3o t\u00edpica SMTP por meio de ferramenta de diagn\u00f3stico (telnet).</li> <li>Exercitar as configura\u00e7\u00f5es de rede, especialmente no que tange ao servi\u00e7o de resolu\u00e7\u00e3o de nomes.</li> </ol>"},{"location":"freebsd/experimento_02/#teoria-abordada-no-experimento","title":"Teoria abordada no experimento","text":"<p>Funcionamento b\u00e1sico de uma rede TCP/IP.</p> <p>Protocolos de Camada de Aplica\u00e7\u00e3o.</p>"},{"location":"freebsd/experimento_02/#material-necessario","title":"Material Necess\u00e1rio","text":"<ul> <li>Interfaces de rede (NIC's)</li> <li>M\u00e1quinas com sistema FreeBSD</li> <li>Cabos de rede \u2013 par tran\u00e7ado normal</li> <li>Switches ou HUBs</li> <li>Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico</li> <li>Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio</li> <li>Servidores HTTP, DNS e SMTP devidamente configurados</li> <li>Ferramentas de diagn\u00f3stico: ifconfig, ping, traceroute, sockstat, host</li> </ul>"},{"location":"freebsd/experimento_02/#roteiro","title":"Roteiro","text":""},{"location":"freebsd/experimento_02/#1-montagem-de-rede-interconectada-para-o-experimento","title":"1. Montagem de rede interconectada para o experimento","text":"<ul> <li>H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4), H4 (192.168.1.5) e R/eth0 (192.168.1.1).</li> </ul> <p>Al\u00e9m dessa topologia, haver\u00e1 equipamentos que prover\u00e3o os servi\u00e7os necess\u00e1rios \u00e0s pr\u00e1ticas da aula: DNS, HTTP e SMTP.</p> <p>  </p>"},{"location":"freebsd/experimento_02/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es","text":"<p>Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01.</p>"},{"location":"freebsd/experimento_02/#3-interacoes-com-o-servico-de-resolucao-de-nomes-dns","title":"3. Intera\u00e7\u00f5es com o servi\u00e7o de resolu\u00e7\u00e3o de nomes (DNS)","text":"<p>Confira se seu equipamento \u00e9 capaz de executar a resolu\u00e7\u00e3o de nomes usando DNS. Para tanto execute:</p> <pre><code>$ host nome_do_host opt_servidor_dns\n</code></pre> <p>ATEN\u00c7\u00c3O: O par\u00e2metro opt_servidor_dns \u00e9 opcional. Execute o comando sem indicar esse par\u00e2metro inicialmente.</p> <p>Pesquise sobre o arquivo /etc/hosts e seu papel no processo de resolu\u00e7\u00e3o de nomes.</p>"},{"location":"freebsd/experimento_02/#4-interacoes-com-o-servico-http","title":"4. Intera\u00e7\u00f5es com o servi\u00e7o HTTP","text":"<p>Usando os conceitos que foram estudados sobre o protocolo HTTP, use a ferramenta telnet para obter um objeto de determinado site HTTP.</p> <pre><code>$ telnet nome_do_host numero_da_porta\n</code></pre> <p>Uma vez aberto o socket, envie o seguinte comando para obter o objeto index.html</p> <pre><code>GET /index.html HTTP/1.1\n</code></pre> <p>Posteriormente, troque o comando GET pelo comando HEAD.</p> <p>Indique tamb\u00e9m o nome de outro objeto e observe o resultado do comando.</p>"},{"location":"freebsd/experimento_02/#5-interacoes-com-o-servico-smtp","title":"5. Intera\u00e7\u00f5es com o servi\u00e7o SMTP","text":"<p>Usando os conceitos que foram estudados sobre o protocolo SMTP, use a ferramenta telnet para obter um objeto de determinado site HTTP.</p> <pre><code>$ telnet nome_do_host numero_da_porta\n</code></pre> <p>Uma vez aberto o socket, envie o seguinte comando para iniciar uma transa\u00e7\u00e3o SMTP</p> <pre><code>HELO\n</code></pre> <p>DESAFIO: Usando os conceitos sobre Camada de Aplica\u00e7\u00e3o, use o comando telnet para enviar um e-mail a um usu\u00e1rio de determinado servidor de e-mail.</p>"},{"location":"freebsd/experimento_02/#questoes-para-estudo","title":"Quest\u00f5es para Estudo","text":"<ol> <li>Em rela\u00e7\u00e3o ao servi\u00e7o de resolu\u00e7\u00e3o de nomes, h\u00e1 um par\u00e2metro opcional a ser indicado ao comando host. Em que contexto \u00e9 conveniente indicar um valor para esse par\u00e2metro?</li> <li>Qual \u00e9 o papel do arquivo /etc/hosts no processo de resolu\u00e7\u00e3o de nomes?</li> <li>Em rela\u00e7\u00e3o \u00e0s intera\u00e7\u00f5es com o protocolo HTTP, foi poss\u00edvel identificar o cabe\u00e7alho de uma requisi\u00e7\u00e3o t\u00edpica? Em rela\u00e7\u00e3o \u00e0s respostas do servidor, identifique os campos t\u00edpicos da resposta incluindo descri\u00e7\u00f5es sobre as linhas de cabe\u00e7alho e o campo de payload.</li> <li>Em v\u00e1rios dos protocolos ora estudados, foi presenciada uma etapa de autoriza\u00e7\u00e3o que preparava uma sess\u00e3o para a recep\u00e7\u00e3o de comandos de determinado cliente. O SMTP demonstrou-se um protocolo que n\u00e3o demanda uma etapa de autoriza\u00e7\u00e3o. Em que momento isso acontece? O fato de essa etapa ser suprimida resulta em algum risco para um servi\u00e7o de e-mail?</li> </ol>"},{"location":"freebsd/experimento_02/#referencias-bibliograficas","title":"Refer\u00eancias Bibliogr\u00e1ficas","text":"<p>Brasil, HSC. Saiba o que \u00e9 e como funciona o protocolo SMTP. hscbrasil, 2019. Dispon\u00edvel em: &lt;https://www.hscbrasil.com.br/protocolo-smtp/&gt;. Acesso em: 11 dez. de 2022.</p> <p>Costa, Matheus. O que \u00e9 HTTP. canaltech, 2019. Dispon\u00edvel em: &lt;https://canaltech.com.br/internet/o-que-e-http/&gt;. Acesso em: 11 dez. de 2022.</p> <p>Reynolds, Luke. Send an email using Telnet. linuxconfig, 2021. Dispon\u00edvel em: &lt;https://linuxconfig.org/send-an-email-using-telnet&gt;. Acesso em: 11 dez. de 2022.</p> <p>host(1). Dispon\u00edvel em: &lt;https://www.freebsd.org/cgi/man.cgi?query=host&amp;sektion=1&gt;. Acesso em: 11 dez. 2022.</p> <p>telnet(1). Dispon\u00edvel em: &lt;https://www.freebsd.org/cgi/man.cgi?telnet&gt;. Acesso em: 11 dez. 2022.</p> <p>LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.</p>"},{"location":"freebsd/experimento_03/","title":"Depura\u00e7\u00e3o de Problemas na Camada de Transporte","text":"<p>Baixar como PDF</p>  <p>Pr\u00e1tica de Laborat\u00f3rio 03</p> <p>Depura\u00e7\u00e3o de Problemas na Camada de Transporte</p>"},{"location":"freebsd/experimento_03/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Para que haja uma conex\u00e3o por meio de um canal de transmiss\u00e3o confi\u00e1vel, \u00e9 necess\u00e1rio uma s\u00e9rie de mecanismos que protegem a comunica\u00e7\u00e3o quanto a efeitos adversos do meio de transmiss\u00e3o: corrup\u00e7\u00e3o de dados; congestionamentos e perdas de pacote. Portanto, este experimento apresenta um conjunto m\u00ednimo de ferramentas que permitir\u00e3o a execu\u00e7\u00e3o de um diagn\u00f3stico preciso ao se encarar uma situa\u00e7\u00e3o de interrup\u00e7\u00e3o ou instabilidade de servi\u00e7o t\u00edpico de camada de transporte.</p>"},{"location":"freebsd/experimento_03/#objetivos","title":"Objetivos","text":"<ol> <li>Exercitar uma comunica\u00e7\u00e3o t\u00edpica TCP por meio de ferramentas de diagn\u00f3stico (telnet, netcat, sockstat e nmap).</li> </ol>"},{"location":"freebsd/experimento_03/#teoria-abordada-no-experimento","title":"Teoria abordada no experimento","text":"<p>Funcionamento b\u00e1sico de uma rede TCP/IP.</p> <p>Protocolos de Camada de Transporte.</p>"},{"location":"freebsd/experimento_03/#material-necessario","title":"Material Necess\u00e1rio","text":"<ul> <li>Interfaces de rede (NIC's)</li> <li>M\u00e1quinas com sistema FreeBSD</li> <li>Cabos de rede \u2013 par tran\u00e7ado normal</li> <li>Switches ou HUBs</li> <li>Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico</li> <li>Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio</li> <li>Servidores HTTP, DNS e SMTP devidamente configurados</li> <li>Ferramentas de diagn\u00f3stico: telnet, nmap, netcat e sockstat</li> </ul>"},{"location":"freebsd/experimento_03/#roteiro","title":"Roteiro","text":""},{"location":"freebsd/experimento_03/#1-montagem-de-rede-interconectada-para-o-experimento","title":"1. Montagem de rede interconectada para o experimento","text":"<ul> <li>H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4), H4 (192.168.1.5) e R/eth0 (192.168.1.1).</li> </ul> <p>Al\u00e9m dessa topologia, haver\u00e1 equipamentos que prover\u00e3o os servi\u00e7os necess\u00e1rios \u00e0s pr\u00e1ticas da aula: DNS, HTTP e SMTP.</p> <p>  </p>"},{"location":"freebsd/experimento_03/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es","text":"<p>Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01.</p>"},{"location":"freebsd/experimento_03/#3-abertura-de-um-socket-servidor","title":"3. Abertura de um socket servidor","text":"<p>Usando um dos computadores dispon\u00edveis para o experimento e usando privil\u00e9gios administrativos, habilite um socket TCP em estado de escuta. Como ferramenta de apoio, use a aplica\u00e7\u00e3o netcat. Para tanto execute:</p> <pre><code>$ nc -l numero_da_porta\n</code></pre> <p>Para validar a abertura do socket servidor, utilize, no sistema operacional FreeBSD o seguinte comando:</p> <pre><code>$ sockstat -4l\n</code></pre> <p>ATEN\u00c7\u00c3O: A ferramenta netcat precisa continuar executando a escuta do socket TCP para que o comando sockstat -4l o encontre. Portanto, abra outro terminal para executar o segundo comando. No FreeBSD, \u00e9 poss\u00edvel alternar entre terminais usando os atalhos (Alt+F1 e Alt+F2).</p> <p>Esse comando ir\u00e1 exibir todos os processos, IPv4 (-4), em estado de escuta (-l) e que abriram portas. Execute os pr\u00f3ximos passos apenas se for poss\u00edvel identificar o processo da aplica\u00e7\u00e3o netcat vinculado \u00e0 porta indicada.</p>"},{"location":"freebsd/experimento_03/#4-interacoes-com-o-socket-servidor","title":"4. Intera\u00e7\u00f5es com o socket servidor","text":"<p>Na pr\u00e1tica sobre camada de aplica\u00e7\u00e3o, usamos a aplica\u00e7\u00e3o telnet. Essa ferramenta \u00e9 capaz de abrir sockets TCP cliente a servidores.</p> <p>Partindo do princ\u00edpio que h\u00e1 um equipamento em que est\u00e1 aberta uma porta em estado de escuta, ou seja, h\u00e1 um socket servidor de uma aplica\u00e7\u00e3o, utilize a ferramenta telnet para se conectar a esse servidor. Apenas relembrando a sintaxe esperada para execu\u00e7\u00f5es do telnet:</p> <pre><code>$ telnet nome_do_host numero_da_porta\n</code></pre> <p>Uma vez aberto o socket, envie bytes atrav\u00e9s da digita\u00e7\u00e3o de caracteres do teclado. Para demandar o envido, pressione a tecla ENTER ap\u00f3s as digita\u00e7\u00f5es.</p>"},{"location":"freebsd/experimento_03/#5-identificacao-de-servicos-disponiveis-em-um-host","title":"5. Identifica\u00e7\u00e3o de servi\u00e7os dispon\u00edveis em um host","text":"<p>\u00c0s vezes, faz-se necess\u00e1rio verificar se h\u00e1 servi\u00e7os em execu\u00e7\u00e3o em determinado host conectado \u00e0 rede. Por\u00e9m, diferentemente do cen\u00e1rio apresentado na Etapa 3, h\u00e1 situa\u00e7\u00f5es em que n\u00e3o se ter\u00e1 acesso administrativo (ou f\u00edsico) ao equipamento a ser analisado.</p> <p>Nesse contexto, ser\u00e1 necess\u00e1rio empreender um teste do tipo caixa-preta para verificar se determinados servi\u00e7os est\u00e3o ativos. Na verdade, no contexto da camada de transporte, o teste verificar\u00e1 se determinadas portas est\u00e3o abertas e em estado de escuta no equipamento sobre testes.</p> <p>As ferramentas at\u00e9 ent\u00e3o estudadas s\u00e3o capazes de auxiliar o t\u00e9cnico nessa atividade de identifica\u00e7\u00e3o de servi\u00e7os ativos, por\u00e9m demandar\u00e3o uma s\u00e9rie de intera\u00e7\u00f5es do operador ou mesmo a programa\u00e7\u00e3o de scripts que ser\u00e3o executados para varrer determinados conjuntos de par\u00e2metros de interesse.</p> <p>Como as redes TCP/IP j\u00e1 est\u00e3o em produ\u00e7\u00e3o h\u00e1 algumas d\u00e9cadas, \u00e9 natural que algumas ferramentas mais maduras e integradas estejam dispon\u00edveis para a identifica\u00e7\u00e3o mais imediata dos servi\u00e7os dispon\u00edveis. Uma dessas ferramentas \u00e9 o nmap.</p> <p>Para varrer quais s\u00e3o os servi\u00e7os ativos em determinado host, executa-se o seguinte comando:</p> <pre><code>$ nmap nome_do_host\n</code></pre> <p>\u00c9 poss\u00edvel demandar uma varredura de um conjunto de equipamentos, por exemplo, todos os equipamentos pertencentes a uma rede. Basta alterar o comando acima da seguinte maneira:</p> <pre><code>$ nmap faixa_de_ip\n</code></pre> <p>onde faixa_de_ip pode ser uma faixa por intervalos (como 192.168.133.1-20, o que contemplaria todos os IPs entre 192.168.133.1 e 192.168.133.20) ou mesmo a indica\u00e7\u00e3o de uma subrede usando nota\u00e7\u00e3o CIDR.</p>"},{"location":"freebsd/experimento_03/#questoes-para-estudo","title":"Quest\u00f5es para Estudo","text":"<ol> <li>A porta de um servidor que prov\u00ea aplica\u00e7\u00f5es sobre TCP pode se encontrar em diferentes estados. Quais s\u00e3o esses estados e como evolui a comunica\u00e7\u00e3o entre um cliente e um servidor TCP quando a porta se apresenta em cada um dos estados poss\u00edveis?</li> <li>Que tipo de informa\u00e7\u00f5es o arquivo /etc/services prov\u00ea?</li> <li>Que tipo de ferramentas voc\u00ea recomendaria para a repeti\u00e7\u00e3o dos mesmos procedimentos sobre UDP?</li> <li>Em rela\u00e7\u00e3o \u00e0 Etapa 4 do presente roteiro, descreva o que se observou durante as intera\u00e7\u00f5es com o socket servidor.</li> <li>Como voc\u00ea implementaria um transmissor b\u00e1sico de arquivos usando apenas as ferramentas executadas nesse experimento?</li> <li>O nmap \u00e9 considerado uma ferramenta extremamente poderosa. Como voc\u00ea a utilizaria para identificar quais s\u00e3o os equipamentos que est\u00e3o ativos e em execu\u00e7\u00e3o em uma rede?</li> </ol>"},{"location":"freebsd/experimento_03/#referencias-bibliograficas","title":"Refer\u00eancias Bibliogr\u00e1ficas","text":"<p>GITE, Vivek. FreeBSD List/Display Open Ports With sockstat Command. Cyberciti, 2008. Dispon\u00edvel em: &lt;https://www.cyberciti.biz/tips/freebsd-lists-open-internet-unix-domain-sockets.html&gt;. Acesso em: 11 dez. de 2022.</p> <p>ELLINGWOOD, Justin. How To Use Netcat to Establish and Test TCP and UDP Connections. Digital Ocean, 2021. Dispon\u00edvel em: &lt;https://www.digitalocean.com/community/tutorials/how-to-use-netcat-to-establish-and-test-tcp-and-udp-connections&gt;. Acesso em: 11 dez. de 2022.</p> <p>SHIVANANDHAN, Manish. What is Nmap and How to Use it \u2013 A Tutorial for the Greatest Scanning Tool of All Time. FreeCodeCamp, 2021. Dispon\u00edvel em: &lt;https://www.freecodecamp.org/news/what-is-nmap-and-how-to-use-it-a-tutorial-for-the-greatest-scanning-tool-of-all-time/&gt;. Acesso em: 11 dez. de 2022.</p> <p>telnet(1). Dispon\u00edvel em: &lt;https://www.freebsd.org/cgi/man.cgi?telnet&gt;. Acesso em: 11 dez. 2022.</p> <p>nmap(1). Dispon\u00edvel em: &lt;https://www.freebsd.org/cgi/man.cgi?query=nmap&amp;manpath=SuSE+Linux%2Fi386+11.3&gt;. Acesso em: 11 dez. 2022.</p> <p>nc(1). Dispon\u00edvel em: &lt;https://www.freebsd.org/cgi/man.cgi?nc&gt;. Acesso em: 11 dez. 2022.</p> <p>sockstat(1). Dispon\u00edvel em: &lt;https://www.freebsd.org/cgi/man.cgi?query=sockstat&amp;sektion=1&gt;. Acesso em: 11 dez. 2022.</p> <p>LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.</p>"},{"location":"freebsd/experimento_04/","title":"Depura\u00e7\u00e3o de Problemas na Camada de Internet","text":"<p>Baixar como PDF</p>  <p>Pr\u00e1tica de Laborat\u00f3rio 04</p> <p>Depura\u00e7\u00e3o de Problemas na Camada de Internet</p>"},{"location":"freebsd/experimento_04/#introducao","title":"Introdu\u00e7\u00e3o","text":""},{"location":"freebsd/experimento_04/#objetivos","title":"Objetivos","text":"<ol> <li>Exercitar as configura\u00e7\u00f5es b\u00e1sicas para navegabilidade em uma rede de computadores bem como usar ferramentas de diagn\u00f3stico para validar configura\u00e7\u00f5es.</li> <li>Exercitar os princ\u00edpios b\u00e1sicos de uma comunica\u00e7\u00e3o em redes TCP/IP, com \u00eanfase nos servi\u00e7os t\u00edpicos da camada de internet. Conhecer e manipular ferramentas de diagn\u00f3stico (ping, traceroute, netstat e route) para fixa\u00e7\u00e3o de conceitos da camada de internet.</li> </ol>"},{"location":"freebsd/experimento_04/#teoria-abordada-no-experimento","title":"Teoria abordada no experimento","text":"<p>Funcionamento b\u00e1sico de uma rede TCP/IP.</p> <p>Protocolos de Camada de Internet.</p>"},{"location":"freebsd/experimento_04/#material-necessario","title":"Material Necess\u00e1rio","text":"<ul> <li>Interfaces de rede (NIC's)</li> <li>M\u00e1quinas com sistema FreeBSD</li> <li>Cabos de rede \u2013 par tran\u00e7ado normal</li> <li>Switches ou HUBs</li> <li>Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico</li> <li>Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio</li> <li>Servidores HTTP, DNS e SMTP devidamente configurados</li> <li>Ferramentas de diagn\u00f3stico: ping, traceroute, netstat e route</li> </ul>"},{"location":"freebsd/experimento_04/#roteiro","title":"Roteiro","text":""},{"location":"freebsd/experimento_04/#1-montagem-de-rede-interconectada-para-o-experimento","title":"1. Montagem de rede interconectada para o experimento","text":"<ul> <li>H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4), H4 (192.168.1.5) e R/eth0 (192.168.1.1). </li> </ul> <p>Al\u00e9m dessa topologia, haver\u00e1 equipamentos que prover\u00e3o os servi\u00e7os necess\u00e1rios \u00e0s pr\u00e1ticas da aula: DHCP e NAT.</p> <p>  </p>"},{"location":"freebsd/experimento_04/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es.","text":"<p>Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01.</p>"},{"location":"freebsd/experimento_04/#3-conferencia-de-informacoes-sobre-interfaces-de-rede","title":"3. Confer\u00eancia de informa\u00e7\u00f5es sobre interfaces de rede.","text":"<p>Usando um dos computadores dispon\u00edveis para o experimento e usando privil\u00e9gios administrativos, execute a aplica\u00e7\u00e3o ifconfig. </p> <p>Quando executada sem par\u00e2metros, essa aplica\u00e7\u00e3o ir\u00e1 retornar uma tabela de informa\u00e7\u00f5es em que a primeira coluna possui um c\u00f3digo que identifica a interface de rede. Por sua vez, a segunda coluna apresenta informa\u00e7\u00f5es espec\u00edficas sobre o enlace e sobre a rede \u00e0 qual est\u00e1 conectada a interface.</p>"},{"location":"freebsd/experimento_04/#4-interacoes-com-outros-clientes-conectados-a-mesma-rede","title":"4. Intera\u00e7\u00f5es com outros clientes conectados \u00e0 mesma rede","text":"<p>Na nossa primeira aula pr\u00e1tica, pudemos exercitar alguns comandos, por\u00e9m sem conhecer o princ\u00edpio de funcionamento dos mesmos.</p> <p>Um desses comandos (o mais intuitivo deles) foi o comando ping. Repitamos a execu\u00e7\u00e3o do mesmo comando nessa pr\u00e1tica. Sugiro identificar na rede de testes o IP de um equipamento ativo para, em seguida, executar o comando:</p> <pre><code>$ ping ip_do_host\n</code></pre>"},{"location":"freebsd/experimento_04/#5-tabela-de-encaminhamento","title":"5. Tabela de encaminhamento","text":"<p>\u00c0s vezes, faz-se necess\u00e1rio verificar qual \u00e9 o caminho que poder\u00e1 ser seguido por um pacote em uma comunica\u00e7\u00e3o t\u00edpica atrav\u00e9s de uma rede TCP/IP. Ainda no equipamento emissor, pode ser necess\u00e1ria a confer\u00eancia da tabela de encaminhamento em vig\u00eancia. O sistema operacional FreeBSD prov\u00ea algumas ferramentas que permitem a confer\u00eancia da tabela de encaminhamento ativa.</p> <p>O comando netstat \u00e9 uma dessas ferramentas. Embora essa aplica\u00e7\u00e3o j\u00e1 tenha sido utilizada em pr\u00e1ticas anteriores, ela possui uma op\u00e7\u00e3o que indica ao usu\u00e1rio quais s\u00e3o as informa\u00e7\u00f5es constantes na tabela de encaminhamento. Execute o seguinte comando com acesso administrativo:</p> <pre><code>$ netstat -nr\n</code></pre> <p>O retorno ser\u00e1 uma tabela com 8 colunas devidamente identificadas. Voc\u00ea consegue perceber a repeti\u00e7\u00e3o de algumas informa\u00e7\u00f5es contidas na sa\u00edda dessa comando quanto comparada com a sa\u00edda do ifconfig?</p> <p>Para conferir o estado de atividade das interfaces de rede:</p> <pre><code>$ netstat -i\n</code></pre> <p>O comando netstat \u00e9 considerado uma ferramenta cl\u00e1ssica de rede e muitas de suas funcionalidades j\u00e1 foram substitu\u00eddas por outros comandos, como o comando ip.</p>"},{"location":"freebsd/experimento_04/#6-caminho-seguido-por-um-pacote","title":"6. Caminho seguido por um pacote","text":"<p>H\u00e1 uma aplica\u00e7\u00e3o que exercita os servi\u00e7os t\u00edpicos e protocolos da camada de forma a identificar o caminho seguido por um pacote. Esse tipo de informa\u00e7\u00e3o \u00e9 muito \u00fatil para um administrador de redes de computadores que necessita validar a execu\u00e7\u00e3o de suas interven\u00e7\u00f5es no esquema de roteamento seguido por um sistema aut\u00f4nomo.</p> <p>Por\u00e9m, dependendo do tipo da institui\u00e7\u00e3o que se comunica atrav\u00e9s de um sistema aut\u00f4nomo de roteamento, a informa\u00e7\u00e3o do caminho seguido pelo pacote pode classificada como sens\u00edvel. Dessa forma, o acesso dever\u00e1 ser restrito \u00e0queles que dela dependem sustentar o funcionamento do sistema aut\u00f4nomo. Naturalmente, outros usu\u00e1rios n\u00e3o dever\u00e3o ser capazes de extrair essa informa\u00e7\u00e3o de forma trivial a partir de intera\u00e7\u00f5es com a rede.</p> <p>A ferramenta de diagn\u00f3stico explorada nessa etapa chama-se traceroute. Por meio de intera\u00e7\u00f5es com mecanismos t\u00edpicos da camada de internet e da camada de transporte, essa ferramenta consegue extrair de redes qual o caminho percorrido por determinado pacote. Para tanto, basta que seu usu\u00e1rio indique um ip alvo para que a aplica\u00e7\u00e3o realize o processo de tra\u00e7ado da rota.</p> <pre><code>$ traceroute ip_do_alvo\n</code></pre>"},{"location":"freebsd/experimento_04/#questoes-para-estudo","title":"Quest\u00f5es para Estudo","text":"<ol> <li>A descri\u00e7\u00e3o de informa\u00e7\u00f5es espec\u00edficas sobre a interface de rede obtida atrav\u00e9s da execu\u00e7\u00e3o do comando ifconfig \u00e9 bem extensa. Partindo do resultado da execu\u00e7\u00e3o do comando em seu equipamento e tomando como refer\u00eancia a interface que foi usada nos testes, descreva em detalhes o significado de cada um dos itens discriminados na segunda coluna de sa\u00edda do comando.</li> <li>Equipamentos que implementam a pilha de protocolos TCP/IP apresentam, tipicamente, uma sa\u00edda padr\u00e3o durante a execu\u00e7\u00e3o do comando ifconfig. Indique que sa\u00edda \u00e9 essa e como ela se faz \u00fatil na constru\u00e7\u00e3o de sistemas que funcionar\u00e3o sobre redes de comunica\u00e7\u00f5es.</li> <li>A execu\u00e7\u00e3o do comando ping em uma rede \u00e9 uma das primeiras medidas para verifica\u00e7\u00e3o de continuidade de servi\u00e7o. Embora seja um comando muito simples de invocar e cujos resultados pr\u00e1ticos s\u00e3o muito f\u00e1ceis de interpretar, a riqueza de detalhes da sa\u00edda t\u00edpica de execu\u00e7\u00e3o do ping \u00e9 grande. Descreva cada um dos itens que comp\u00f5em a sa\u00edda de execu\u00e7\u00e3o t\u00edpica de um comando ping.</li> <li>Em rela\u00e7\u00e3o \u00e0 Etapa 5 do presente roteiro, descreva cada um dos itens que comp\u00f5em a sa\u00edda de execu\u00e7\u00e3o t\u00edpica de um comando netstat -nr. Qual seria a sintaxe usada para extrair a mesma informa\u00e7\u00e3o, por\u00e9m a partir do comando ip?</li> <li>Em rela\u00e7\u00e3o \u00e0 Etapa 6 do presente roteiro, descreva o processo t\u00edpico de detec\u00e7\u00e3o da rota percorrida por um pacote atrav\u00e9s da execu\u00e7\u00e3o do comando traceroute.</li> </ol>"},{"location":"freebsd/experimento_04/#referencias-bibliograficas","title":"Refer\u00eancias Bibliogr\u00e1ficas","text":""},{"location":"freebsd/experimento_05/","title":"Camada de Aplica\u00e7\u00e3o (DHCP)","text":"<p>Baixar como PDF</p>  <p>Pr\u00e1tica de Laborat\u00f3rio 05</p> <p>Camada de Aplica\u00e7\u00e3o (DHCP)</p>"},{"location":"freebsd/experimento_05/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Para o correto funcionamento de redes, alguns servi\u00e7os de n\u00edvel de aplica\u00e7\u00e3o complementam as fun\u00e7\u00f5es b\u00e1sicas de rede, oferecendo funcionalidades que facilitam a administra\u00e7\u00e3o da rede. Um dos mais \u00fateis servi\u00e7os de rede em uso nas redes TCP/IP hoje, \u00e9 implementado pelo protocolo DHCP (Dynamic Host Configuration Protocol).</p>"},{"location":"freebsd/experimento_05/#objetivos","title":"Objetivos","text":"<ol> <li>Visualizar a import\u00e2ncia dos servi\u00e7os de atribui\u00e7\u00e3o din\u00e2mica de configura\u00e7\u00f5es.</li> <li>Entender como funciona a implementa\u00e7\u00e3o do DHCP no FreeBSD, e configur\u00e1-la.</li> </ol>"},{"location":"freebsd/experimento_05/#teoria-abordada-no-experimento","title":"Teoria abordada no experimento","text":"<p>Objetivo e funcionamento do protocolo DHCP.</p>"},{"location":"freebsd/experimento_05/#material-necessario","title":"Material Necess\u00e1rio","text":"<ul> <li>Interfaces de rede (NIC's)</li> <li>M\u00e1quinas com sistema FreeBSD</li> <li>Cabos de rede \u2013 par tran\u00e7ado normal</li> <li>Switches ou HUBs</li> <li>Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico, pacotes de servidor DHCP (isc-dhcp44-server)</li> <li>Acesso \u00e0 Internet \u2013 necess\u00e1rio</li> <li>Desligar o servidor DHCP para as m\u00e1quinas de aula</li> </ul>"},{"location":"freebsd/experimento_05/#roteiro","title":"Roteiro","text":""},{"location":"freebsd/experimento_05/#1-montagem-de-rede-interconectada-para-o-experimento","title":"1. Montagem de rede interconectada para o experimento","text":"<ul> <li>H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4) e R/eth0 (192.168.1.1).</li> </ul> <p>  </p>"},{"location":"freebsd/experimento_05/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es.","text":"<p>Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01.</p>"},{"location":"freebsd/experimento_05/#3-instalacao-do-pacote-de-servidor-dhcp","title":"3. Instala\u00e7\u00e3o do pacote de servidor DHCP","text":"<p>Para a execu\u00e7\u00e3o deste experimento \u00e9 essencial a instala\u00e7\u00e3o do pacote isc-dhcp44-server, que n\u00e3o \u00e9 incluso por padr\u00e3o no FreeBSD. Para prosseguir com a instala\u00e7\u00e3o, execute o seguinte comando:</p> <pre><code>$ pkg install isc-dhcp44-server\n</code></pre> <p>ATEN\u00c7\u00c3O: \u00c9 normal ocorrer uma falha, pois, ao finalizar a instala\u00e7\u00e3o, ele tenta iniciar o servidor que n\u00e3o tem nenhum escopo DHCP criado ainda.</p>"},{"location":"freebsd/experimento_05/#4-configuracao-do-servidor-dhcp","title":"4. Configura\u00e7\u00e3o do Servidor DHCP","text":"<p>Os arquivos mais importantes do servidor DHCP a ser usado, s\u00e3o:</p> <p>/etc/dhcp3/dhcpd.conf : configura\u00e7\u00f5es para o servidor DHCP</p> <p>/var/lib/dhcp/dhcpd.leases : leases j\u00e1 ofertados pelo servidor DHCP</p> <p>A configura\u00e7\u00e3o do servidor est\u00e1 toda no arquivo dhcpd.conf. Segue abaixo um exemplo comentado:</p> <pre><code># ddns=update-style none -&gt; nao vai aceitar atualiza\u00e7\u00f5es din\u00e2micas de dns\n# Exemplo de configura\u00e7\u00e3o\n# Tempo de lease: default m\u00ednimo (10 min) e maximo (2 hs)\n# Outros valores: 86400 (1 dia), 604800 (1 semana) e 2592000 (30 dias)\ndefault-lease-time 600; OK\nmax-lease-time 7200; OK\n# Reconhece e corrige pedidos de endere\u00e7os incoerentes\nauthoritative; -&gt; torna o servidor DHCP autoritativo da rede, servidor dhcp oficial da rede local OK\noption domain-name-servers 192.168.1.1, 192.168.1.2; #endere\u00e7o dos servidores dns (roteador e 8.8.8.8 da internet) OK\noption domain-name \"mydomain.org\"; #nome de dominio OK\n# Pode-se incluir opcoes especificas para uma subrede (configura\u00e7\u00f5es de subrede onde cria os escopos)\nsubnet 192.168.1.0 netmask 255.255.255.0 { #ip do escopo (onde a rede esta) e mascara da sub rede\n range 192.168.1.10 192.168.1.100; #faixa de ip que vai usar na rede\n range 192.168.1.150 192.168.1.200; #faixa de ip que vai usar na rede\n # Opcoes de rede comuns\n option subnet-mask 255.255.255.0; #mascara de sub rede\n option broadcast-address 192.168.1.255; #endere\u00e7o de broadcast da rede\n option routers 192.168.1.254; #gateway padrao\n}\n# Para designar WINS server para estacoes WIN\n#option netbios-name-servers 192.168.1.1;\n# Para atribuir um endereco especifico para um MAC - suporte a clientes\n# BOOTP\nhost haagen {\n option host-name \u201cleao.labredes.unb.br\u201d;\n hardware ethernet 08:00:2b:4c:59:23;\n fixed-address 192.168.1.222;\n}\n</code></pre> <p>O comando abaixo pode ser executado para verificar a sintaxe do arquivo dhcpd.conf com o objetivo de garantir que nenhum erro de digita\u00e7\u00e3o foi cometido:</p> <pre><code>$ dhcpd -t\n</code></pre> <p>Em caso de nenhum erro de sintaxe indicado pelo comando acima, deve-se reiniciar o servidor para que as altera\u00e7\u00f5es tenham efeito.</p> <pre><code>$ service isc-dhcp-server start ou service isc-dhcpd start\n</code></pre> <p>esta \u00e9 a maneira correta de disparar servi\u00e7os num servidor FreeBSD, por\u00e9m queremos ver o que est\u00e1 acontecendo com o servidor na sua tela. Por isso vamos disparar o servidor \u201cna m\u00e3o\u201d com o comando:</p> <pre><code>$ dhcpd -d -f &lt;interface de rede&gt;\n</code></pre> <p>a op\u00e7\u00e3o -d habilita o modo de depura\u00e7\u00e3o, que fornece um rastreamento mais detalhado do processo de inicializa\u00e7\u00e3o do servidor DHCP e a op\u00e7\u00e3o -f especifica qual interface de rede deve ser usada.</p> <p>Para disparar o servi\u00e7o somente numa interface sempre, acrescente a op\u00e7\u00e3o da interface no arquivo /etc/default/isc-dhcp-server:</p> <pre><code>INTERFACES=\"em0\";\n</code></pre> <p>Ap\u00f3s a configura\u00e7\u00e3o do servidor DHCP, caso apresente algum problema e n\u00e3o esteja funcionando, pode ser necess\u00e1rio verificar os arquivos de log do sistema (/var/log/syslog), com o seguinte comando:</p> <pre><code>$ grep dhcpd /var/log/syslog\n</code></pre>"},{"location":"freebsd/experimento_05/#5-configuracao-do-cliente-dhcp","title":"5. Configura\u00e7\u00e3o do cliente DHCP","text":"<p>No FreeBSD, configure o arquivo rc.conf (/etc/rc.conf) citado em experi\u00eancias anteriores e ponha a interface em quest\u00e3o configur\u00e1vel via dhcp, adicionando a linha abaixo:</p> <pre><code>ifconfig_em0=\u201dDHCP\u201d\n</code></pre> <p>Para for\u00e7ar a configura\u00e7\u00e3o da interface de rede, d\u00ea o comando:</p> <pre><code>$ ifup &lt;interface&gt;\n</code></pre> <p>Para verificar o endere\u00e7o obtido do servidor DHCP:</p> <pre><code>$ ifconfig\n</code></pre> <p>ATEN\u00c7\u00c3O: Caso o comando ifconfig n\u00e3o aponte o ip adquirido atrav\u00e9s do DHCP, pode ser necessario reiniciar a interface de rede (ifdown &lt;interface&gt; + ifup &lt;interface&gt;) ou dhclient &lt;interface&gt;</p> <p>Verifique se o cliente est\u00e1 usando o servidor DHCP correto:</p> <pre><code>$ dhclient -v\n</code></pre> <p>Atraves do arquivo de leases, verifque as concess\u00f5es ativas do servidor dhcp:</p> <pre><code>$ cat /var/lib/dhcp/dhcpd.leases | less\n</code></pre> <p>Visualize as mensagens sendo trocadas entre cliente e servidor DHCP com um analisador de protocolos. Altere as configura\u00e7\u00f5es do servidor DHCP de forma que um dos hosts tenha IP previamente definido em fun\u00e7\u00e3o de seu endere\u00e7o MAC. Verifique se as mudan\u00e7as foram aplicadas aos hosts de sua rede.</p>"},{"location":"freebsd/experimento_05/#questoes-para-estudo","title":"Quest\u00f5es para Estudo","text":"<ol> <li>DHCP pode funcionar atrav\u00e9s de redes ligadas por roteadores?</li> <li>O que \u00e9 a fun\u00e7\u00e3o de BOOTP/DHCP relay?</li> <li>Analise as poss\u00edveis configura\u00e7\u00f5es do arquivo dhcpd.conf. Que op\u00e7\u00f5es de configura\u00e7\u00e3o se pode passar automaticamente via DHCP para hosts numa rede? Isto pode ser usado em outros servi\u00e7os de rede?</li> <li>Qual a vantagem de se fixar IP's por endere\u00e7o MAC?</li> <li>Podemos ter mais de um servidor DHCP numa rede? Pode haver alguma confus\u00e3o? O que acontece se houver?</li> </ol>"},{"location":"freebsd/experimento_05/#referencias-bibliograficas","title":"Refer\u00eancias Bibliogr\u00e1ficas","text":""},{"location":"freebsd/experimento_06/","title":"Camada de Internet (NAT)","text":"<p>Baixar como PDF</p>  <p>Pr\u00e1tica de Laborat\u00f3rio 06</p> <p>Camada de Internet (NAT)</p>"},{"location":"freebsd/experimento_06/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Para o correto funcionamento de redes, alguns servi\u00e7os de n\u00edvel de aplica\u00e7\u00e3o complementam as fun\u00e7\u00f5es b\u00e1sicas de rede, oferecendo funcionalidades que facilitam a administra\u00e7\u00e3o da rede. Em fun\u00e7\u00e3o da escassez de endere\u00e7os IPv4, os projetistas de Internet desenvolveram artif\u00edcios que permitiam um re\u00faso de IPs. O primeiro conceito envolvido nesse tipo de t\u00e9cnica \u00e9 o da segrega\u00e7\u00e3o do espa\u00e7o de endere\u00e7amento entre endere\u00e7os IPs v\u00e1lidos e endere\u00e7os de IPs de aplica\u00e7\u00e3o restrita. O NAT (Network Address Translation) \u00e9 um esquema que torna vi\u00e1vel montar uma rede endere\u00e7ada por meio de um conjunto de IPs restritos de forma que todos os hosts compartilham um n\u00famero pequeno de IPs v\u00e1lidos e, ainda sim, s\u00e3o capazes de manter conex\u00f5es regulares com equipamentos na Internet.</p>"},{"location":"freebsd/experimento_06/#objetivos","title":"Objetivos","text":"<ol> <li>Visualizar a import\u00e2ncia dos servi\u00e7os de compartilhamento de IPs.</li> <li>Entender como funciona a implementa\u00e7\u00e3o do NAT no FreeBSD, e configur\u00e1-la.</li> </ol>"},{"location":"freebsd/experimento_06/#teoria-abordada-no-experimento","title":"Teoria abordada no experimento","text":"<p>Objetivo e funcionamento do esquema NAT.</p>"},{"location":"freebsd/experimento_06/#material-necessario","title":"Material Necess\u00e1rio","text":"<ul> <li>Interfaces de rede (NIC's)</li> <li>M\u00e1quinas com sistema FreeBSD</li> <li>Cabos de rede \u2013 par tran\u00e7ado normal</li> <li>Switches ou HUBs</li> <li>Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico</li> <li>Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio</li> <li>Desligar o servidor DHCP para as m\u00e1quinas de aula</li> </ul>"},{"location":"freebsd/experimento_06/#roteiro","title":"Roteiro","text":""},{"location":"freebsd/experimento_06/#1-montagem-de-rede-interconectada-para-o-experimento","title":"1. Montagem de rede interconectada para o experimento","text":"<p>Monte uma topologia com 3 ou mais m\u00e1quinas. Escolha uma para ser o gateway da topologia e lhe d\u00ea dois endere\u00e7os de IP: um IP fixo e v\u00e1lido para a rede de sa\u00edda e um IP restrito, inv\u00e1lido.</p> <ul> <li>H1 (192.168.1.3), H2 (192.168.1.2) e G/eth0 (192.168.1.1).</li> <li>S1 (172.25.0.2) e G/eth1 (172.25.0.1).</li> </ul> <p>  </p>"},{"location":"freebsd/experimento_06/#2-configuracao-do-servidor-dhcp-opcional","title":"2. Configura\u00e7\u00e3o do Servidor DHCP (opcional)","text":"<p>Se for do interesse da equipe que executa o experimento evitar configura\u00e7\u00f5es nas m\u00e1quinas que usar\u00e3o o gateway com NAT, \u00e9 conveniente implantar o servi\u00e7o de DHCP em algum servidor da rede local (privada) que usar\u00e1 o equipamento com NAT como gateway.</p> <p>Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 05.</p>"},{"location":"freebsd/experimento_06/#3-configuracao-do-nat","title":"3. Configura\u00e7\u00e3o do NAT","text":"<p>No FreeBSD, configure o arquivo rc.conf (/etc/rc.conf), do gateway, citado em experi\u00eancias anteriores e ponha uma interface em quest\u00e3o, a interface de sa\u00edda, configurada de forma fixa usando um IP v\u00e1lido da rede de sa\u00edda. Use o comando ifconfig para verificar o endere\u00e7o configurado.</p> <p>Em seguida, crie uma rede privada e configure o IP da outra interface de rede do equipamento gateway para que possua o primeiro IP do espa\u00e7o de endere\u00e7amento privado. Caso tenha optado por instalar DHCP nesta interface, n\u00e3o ser\u00e1 necess\u00e1ria a configura\u00e7\u00e3o dos clientes que acessar\u00e3o a rede externa atrav\u00e9s do NAT; se esse n\u00e3o for seu caso, configure uma m\u00e1quina cliente de testes no espa\u00e7o de endere\u00e7amento da rede privada rec\u00e9m criada e conecte o cliente ao servidor NAT.</p> <p>Edite o arquivo sysctl.conf (/etc/sysctl.conf) para ativar o encaminhamento de pacotes IP (IP forwarding), descomente a seguinte linha:</p> <pre><code>net.inet.ip.forwarding=1\n</code></pre> <p>Ative a configura\u00e7\u00e3o.</p> <pre><code>$ sysctl net.inet.ip.forwarding=1\n</code></pre>"},{"location":"freebsd/experimento_06/#4-configuracao-do-packet-filter-pf","title":"4. Configura\u00e7\u00e3o do Packet Filter (PF)","text":"<p>Identifique as interfaces configuradas no passo acima e realize os ajustes adequados. Doravante, chamaremos ethSaida a interface de sa\u00edda e ethPriv a interface interna (com ou sem DHCP).</p> <p>Configure o arquivo de configura\u00e7\u00e3o do pf (/etc/pf.conf) para executar o NAT na interface de sa\u00edda para quaisquer pacotes provenientes da rede interna, substituindo o endere\u00e7o privado pelo endere\u00e7o externo:</p> <pre><code>pass out on ethSaida inet from ethPriv:network to any nat-to (ethSaida)\n</code></pre> <p>H\u00e1 v\u00e1rias maneiras de configurar o arquivo pf.conf para funcionar como NAT, mas a maneira descrita \u00e9 a que funciona melhor para os mais variados tipos de endere\u00e7amento de rede, seja ele manual ou din\u00e2mico.</p> <p>Para visualizar as tradu\u00e7\u00f5es NAT ativas, o utilit\u00e1rio pfctl(8) \u00e9 usado com o par\u00e2metro -s state. Esta op\u00e7\u00e3o listar\u00e1 todas as sess\u00f5es NAT atuais.</p> <p>Teste as configura\u00e7\u00f5es de rede usando as ferramentas discutidas em pr\u00e1ticas anteriores. Recomenda-se as seguintes etapas de testes: teste de conectividade entre equipamentos da rede privada e o gateway com NAT, teste de conectividade entre equipamentos da rede privada e equipamentos situados na rede de sa\u00edda do gateway e teste de conectividade entre equipamentos da rede privada e equipamentos na rede externa.</p>"},{"location":"freebsd/experimento_06/#questoes-para-estudo","title":"Quest\u00f5es para Estudo","text":"<ol> <li>Alguns passos foram omitidos nesse roteiro. A partir da metodologia de testes, identifique o problema e apresente a solu\u00e7\u00e3o para que a rede privada rec\u00e9m criada seja capaz de conectar-se \u00e0 rede externa.</li> <li>Consulte a documenta\u00e7\u00e3o das ferramentas usadas na implementa\u00e7\u00e3o do NAT e indique o resultado de cada um dos comandos necess\u00e1rios \u00e0 implementa\u00e7\u00e3o do NAT.</li> <li>Como voc\u00ea sugere verificar se est\u00e1 acessando a rede externa atrav\u00e9s de um NAT?</li> <li>Reinicie o seu equipamento usado para a implementa\u00e7\u00e3o de um NAT usando o sistema operacional FreeBSD e verifique se as suas configura\u00e7\u00f5es ainda funcionam. Descreva que tipo de procedimentos foram realizados para tornar as configura\u00e7\u00f5es de NAT persistentes.</li> </ol>"},{"location":"freebsd/experimento_06/#referencias-bibliograficas","title":"Refer\u00eancias Bibliogr\u00e1ficas","text":"<p>https://www.openbsd.org/faq/pf/nat.html</p>"},{"location":"freebsd/experimento_07/","title":"Camada de Rede (ARP)","text":"<p>Baixar como PDF</p>  <p>Pr\u00e1tica de Laborat\u00f3rio 07</p> <p>Camada de Rede (ARP)</p>"},{"location":"freebsd/experimento_07/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Para o correto funcionamento de redes, alguns servi\u00e7os de n\u00edvel de camada de rede s\u00e3o primordiais para a adequada coopera\u00e7\u00e3o da pilha de protocolos sobre a qual reside a Internet.</p>"},{"location":"freebsd/experimento_07/#objetivos","title":"Objetivos","text":"<ol> <li>Exercitar conceitos discutidos nas aulas te\u00f3ricas da disciplina referentes \u00e0 camada de rede.</li> <li>Entender o papel do protocolo ARP e como acontecem suas intera\u00e7\u00f5es.</li> </ol>"},{"location":"freebsd/experimento_07/#teoria-abordada-no-experimento","title":"Teoria abordada no experimento","text":"<p>Objetivo e funcionamento do esquema ARP.</p>"},{"location":"freebsd/experimento_07/#material-necessario","title":"Material Necess\u00e1rio","text":"<ul> <li>Interfaces de rede (NIC's)</li> <li>M\u00e1quinas com sistema FreeBSD</li> <li>Cabos de rede \u2013 par tran\u00e7ado normal</li> <li>Switches ou HUBs</li> <li>Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico</li> <li>Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio</li> <li>Desligar o servidor DHCP para as m\u00e1quinas de aula</li> </ul>"},{"location":"freebsd/experimento_07/#roteiro","title":"Roteiro","text":""},{"location":"freebsd/experimento_07/#1-montagem-de-rede-interconectada-para-o-experimento","title":"1. Montagem de rede interconectada para o experimento","text":"<p>Monte uma topologia com 3 ou mais m\u00e1quinas. Escolha uma para ser o gateway da topologia e lhe d\u00ea dois endere\u00e7os de IP: um IP fixo e v\u00e1lido para a rede de sa\u00edda e um IP restrito, inv\u00e1lido.</p> <p>Al\u00e9m dessa topologia, haver\u00e1 equipamentos que prover\u00e3o os servi\u00e7os necess\u00e1rios \u00e0s pr\u00e1ticas da aula: HTTP.</p> <ul> <li>H1 (192.168.1.3), H2 (192.168.1.2) e G/eth0 (192.168.1.1).</li> <li>S1 (172.25.0.2) e G/eth1 (172.25.0.1).</li> </ul> <p>  </p>"},{"location":"freebsd/experimento_07/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es","text":"<p>Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01.</p>"},{"location":"freebsd/experimento_07/#3-verificacao-das-entradas-presentes-na-tabela-arp","title":"3. Verifica\u00e7\u00e3o das entradas presentes na tabela ARP","text":"<p>Em uma janela distinta, dispare a ferramenta de captura de pacotes:</p> <pre><code>$ tcpdump -e\n</code></pre> <p>Execute o seguinte comando:</p> <pre><code>$ arp -a\n</code></pre> <p>Proceda apenas se n\u00e3o constarem entradas na tabela ARP ou se constar apena a entrada do endere\u00e7o MAC do gateway da rede de testes.</p> <p>Em seguida, encontre algum equipamento da rede em que esteja sendo provido um servi\u00e7o, como um servidor HTTP (porta 80), por exemplo. Anote o IP do host e execute o seguinte comando:</p> <pre><code>$ telnet ip_do_host porta_do_servico\n</code></pre> <p>Repita o comando arp:</p> <pre><code>$ arp -a\n</code></pre> <p>Tente, nessa etapa, a conex\u00e3o a um IP n\u00e3o existente na rede.</p> <pre><code>$ telnet ip_do_host_inexistente porta_do_servico\n</code></pre> <p>Em seguida, repita o comando arp.</p>"},{"location":"freebsd/experimento_07/#questoes-para-estudo","title":"Quest\u00f5es para Estudo","text":"<ol> <li>Qual foi a diferen\u00e7a de sa\u00eddas observadas entre a primeira e as duas \u00faltimas chamadas ao comando ARP?</li> <li>Suponha que uma aplica\u00e7\u00e3o utilize um esquema de controle de acesso baseado no valor do MAC address das placas de rede. Haveria algum problema de seguran\u00e7a nessa abordagem? Justifique.</li> <li>\u00c9 poss\u00edvel que o protocolo ARP interfira no desempenho de uma rede? Elabore sua resposta, apresentando exemplos/justificativas.</li> <li>H\u00e1, na literatura, ataques que envolvem o protocolo ARP? Se a resposta for afirmativa, cite exemplos.</li> </ol>"},{"location":"freebsd/experimento_07/#referencias-bibliograficas","title":"Refer\u00eancias Bibliogr\u00e1ficas","text":""},{"location":"freebsd/experimento_08/","title":"Firewall","text":"<p>Baixar como PDF</p>  <p>Pr\u00e1tica de Laborat\u00f3rio 08</p> <p>Firewall</p>"},{"location":"freebsd/experimento_08/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Firewall \u00e9 uma solu\u00e7\u00e3o de seguran\u00e7a baseada em hardware ou software (mais comum) que, a partir de um conjunto de regras ou instru\u00e7\u00f5es, analisa o tr\u00e1fego de rede para determinar quais opera\u00e7\u00f5es de transmiss\u00e3o ou recep\u00e7\u00e3o de dados podem ser executadas. \"Parede de fogo\", a tradu\u00e7\u00e3o literal do nome, j\u00e1 deixa claro que o firewall se enquadra em uma esp\u00e9cie de barreira de defesa. A sua miss\u00e3o, por assim dizer, consiste basicamente em bloquear tr\u00e1fego de dados indesejado e liberar acessos bem-vindos. [1]</p> <p>IPFW \u00e9 um firewall de pacotes do sistema operacional FreeBSD. Ele fornece controles detalhados para os pacotes IP que passam pelo firewall. Com ele, \u00e9 poss\u00edvel criar regras para permitir ou negar pacotes com base em crit\u00e9rios como origem, destino, porta, protocolo, tempo de execu\u00e7\u00e3o, prioridade e muito mais. \u00c9 poss\u00edvel criar regras para permitir ou negar o acesso a servi\u00e7os espec\u00edficos ou a segmentos da rede. IPFW tamb\u00e9m suporta o NAT (Network Address Translation) para permitir o uso de endere\u00e7os IP privados em uma rede p\u00fablica.</p>"},{"location":"freebsd/experimento_08/#objetivos","title":"Objetivos","text":"<ol> <li>Entender como funciona a implementa\u00e7\u00e3o de firewalls usando o FreeBSD.</li> </ol>"},{"location":"freebsd/experimento_08/#teoria-abordada-no-experimento","title":"Teoria abordada no experimento","text":"<p>Objetivo e funcionamento de firewalls.</p>"},{"location":"freebsd/experimento_08/#material-necessario","title":"Material Necess\u00e1rio","text":"<ul> <li>Interfaces de rede (NIC's)</li> <li>M\u00e1quinas com sistema FreeBSD</li> <li>Cabos de rede \u2013 par tran\u00e7ado normal</li> <li>Switches ou HUBs</li> <li>Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico</li> <li>Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio</li> </ul>"},{"location":"freebsd/experimento_08/#roteiro","title":"Roteiro","text":""},{"location":"freebsd/experimento_08/#1-montagem-de-rede-interconectada-para-o-experimento","title":"1. Montagem de rede interconectada para o experimento","text":"<ul> <li>R/eth1 (172.25.0.1) e S1 (172.25.0.2).</li> <li>H1 (192.168.1.3), H2 (192.168.1.2) e R/eth0 (192.168.1.1).</li> <li>OPCIONAL: R/eth2 (184.45.0.1) e S2 (184.45.0.2).</li> </ul> <p>Os equipamentos H1 e S1 dever\u00e3o prover o servi\u00e7o SSH na porta 22.</p> <p>  </p>"},{"location":"freebsd/experimento_08/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es","text":"<p>Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01.</p>"},{"location":"freebsd/experimento_08/#3-habilitar-o-ipfw","title":"3. Habilitar o IPFW","text":"<p>Primeiramente, \u00e9 necess\u00e1rio verificar se o IPFW j\u00e1 se encontra habilitado. Para isso, execute o seguinte comando:</p> <pre><code>$ ipfw show\n</code></pre> <p>ATEN\u00c7\u00c3O: Caso a resposta seja Protocol not available, significa que n\u00e3o est\u00e1 habilitado.</p> <p>Existem duas formas de habilitar o IPFW, via m\u00f3dulo ou via kernel. </p>"},{"location":"freebsd/experimento_08/#31-habilitar-ipfw-via-modulo","title":"3.1 Habilitar IPFW via m\u00f3dulo","text":"<p>Para habilitar o IPFW via m\u00f3dulo:</p> <pre><code>$ kldload ipfw\n</code></pre> <p>ATEN\u00c7\u00c3O: Ao habilitar o m\u00f3dulo, o padr\u00e3o ser\u00e1 uma regra de pol\u00edtica fechada: ou seja, a primeira regra \u00e9 \"negar tudo\". Para transformar essa pol\u00edtica em aberta, ou seja, que a primeira regra seja \"permitir tudo\", deve-se alterar a sysctl com o seguinte comando:</p> <pre><code>$ sysctl net.inet.ip.fw.default_to_accept=1\n</code></pre>"},{"location":"freebsd/experimento_08/#32-habilitar-ipfw-via-kernel","title":"3.2 Habilitar IPFW via kernel","text":"<p>Para habilitar o IPFW via kernel, configure o arquivo rc.conf (/etc/rc.conf), adicionando a seguinte linha ao arquivo:</p> <pre><code>firewall_enable=\"YES\"\n</code></pre> <p>Depois, basta executar o comando:</p> <pre><code>$ service ipfw start\n</code></pre>"},{"location":"freebsd/experimento_08/#4-configuracao-de-regras-de-filtragem-etapa-1","title":"4. Configura\u00e7\u00e3o de regras de filtragem: Etapa 1","text":"<p>Em R, montar as seguintes regras:</p> <ul> <li>H1 pode apenas fazer ping em S1.<ul> <li>Apenas pacotes ICMP ping poder\u00e3o se encaminhados de H1 para S1.</li> </ul> </li> </ul> <pre><code>$ # caso o padr\u00e3o seja uma regra de pol\u00edtica aberta\n$ ipfw add 50 deny all from 192.168.1.3 to 172.25.0.2 not icmp\n$ # permitir apenas pacotes ICMP\n$ ipfw add 60 allow icmp from 192.168.1.3 to 172.25.0.2\n</code></pre>  <ul> <li>S1 n\u00e3o pode fazer ping em H1.<ul> <li>Todos os pacotes de S1 dever\u00e3o alcan\u00e7ar H1, exceto os de ICMP ping request.</li> </ul> </li> </ul> <pre><code>$ # negar apenas pacotes ICMP\n$ ipfw add 70 deny icmp from 172.25.0.2 to 192.168.1.3\n$ # caso o padr\u00e3o seja uma regra de pol\u00edtica fechada\n$ ipfw add 80 allow all from 172.25.0.2 to 192.168.1.3 not icmp\n</code></pre>"},{"location":"freebsd/experimento_08/#5-testes-validacao-das-intervencoes-da-etapa-1","title":"5. Testes: Valida\u00e7\u00e3o das interven\u00e7\u00f5es da Etapa 1","text":"<p>Verificar se H1 faz ping em S1 e se S1 faz ping em H1 com as regras da quest\u00e3o anterior. </p> <p>Verificar se \u00e9 poss\u00edvel abrir uma conex\u00e3o SSH de H1 para S1.</p> <p>Verificar se \u00e9 poss\u00edvel abrir uma conex\u00e3o SSH de S1 para H1.</p> <p>Executar Nmap da seguinte maneira:</p> <ul> <li>varrer as portas de H1 usando S1 como origem.</li> <li>varrer as portas de S1 usando H1 como origem.</li> </ul>"},{"location":"freebsd/experimento_08/#6-configuracao-de-regras-de-filtragem-etapa-2","title":"6. Configura\u00e7\u00e3o de regras de filtragem: Etapa 2","text":"<p>Crie regras em R de modo que H1 possa fazer SSH em S1, por\u00e9m atrav\u00e9s de um esquema de DNAT, onde uma porta de R ir\u00e1 redirecionar o tr\u00e1fego para a porta que prov\u00ea SSH em S1. </p> <pre><code>$ ipfw add 90 fwd 172.25.0.2,22 tcp from 192.168.1.3 to me dst-port 22\n$ ipfw add 100 allow tcp from 192.168.1.3 to 172.25.0.2 dst-port 22\n</code></pre> <p>Crie regras em R de modo que S1 n\u00e3o seja capaz de encaminhar pacotes UDP para o segmento de rede onde reside H1.</p> <pre><code>$ ipfw add 110 deny udp from 172.25.0.2 to 192.168.1.3\n</code></pre> <p>ATEN\u00c7\u00c3O: \u00c9 importante mencionar que as regras de firewall s\u00e3o baseadas na ordem de cria\u00e7\u00e3o, ent\u00e3o a ordem destas regras \u00e9 importante para garantir que elas estejam funcionando corretamente.</p>"},{"location":"freebsd/experimento_08/#7-testes-validacao-das-intervencoes-da-etapa-2","title":"7. Testes: Valida\u00e7\u00e3o das interven\u00e7\u00f5es da Etapa 2","text":"<p>Para testar as regras de filtragem UDP da Etapa 2, use o envio de consultas DNS para provocar a transmiss\u00e3o de pacotes DNS.</p> <p>Experimente realizar a conex\u00e3o SSH entre H1 e S1 usando a regra de DNAT criada.</p> <p>ATEN\u00c7\u00c3O: \u00c9 poss\u00edvel verificar o log do firewall usando o comando ipfw show log ou ipfw show log verbose para obter informa\u00e7\u00f5es adicionais, como endere\u00e7os IP e portas. Para verificar o log do sistema, voc\u00ea pode usar o comando tail -f /var/log/messages ou syslog que ir\u00e1 exibir as mensagens de log geradas pelo sistema operacional.</p>"},{"location":"freebsd/experimento_08/#questoes-para-estudo","title":"Quest\u00f5es para Estudo","text":"<ol> <li>O servi\u00e7o ssh \u00e9 sobre o TCP ou UDP? Conferir com o tcpdump, simulando a situa\u00e7\u00e3o onde S1 faz ssh em H1.</li> <li>Em rela\u00e7\u00e3o aos testes do Item 4 (testes da Etapa 1) do roteiro, como \u00e9 poss\u00edvel ao Nmap indicar a eventual presen\u00e7a de portas filtradas atrav\u00e9s do roteador R que atua como Firewall?</li> </ol>"},{"location":"freebsd/experimento_08/#referencias-bibliograficas","title":"Refer\u00eancias Bibliogr\u00e1ficas","text":"<p>[1] https://pt.wikipedia.org/wiki/Firewall</p> <p>https://www.youtube.com/watch?v=_tIP4E22O_0</p> <p>https://docs.freebsd.org/en/books/handbook/firewalls/#firewalls-ipfw</p> <p>https://sempreupdate.com.br/freebsd-como-configurar-um-firewall-usando-ipfw/</p>"},{"location":"freebsd/experimento_09/","title":"Camada de Aplica\u00e7\u00e3o (Proxy)","text":"<p>Baixar como PDF</p>  <p>Pr\u00e1tica de Laborat\u00f3rio 09</p> <p>Camada de Aplica\u00e7\u00e3o (Proxy)</p>"},{"location":"freebsd/experimento_09/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Em redes de computadores, um proxy \u00e9 um servidor (um sistema de computador ou uma aplica\u00e7\u00e3o) que age como um intermedi\u00e1rio para requisi\u00e7\u00f5es de clientes solicitando recursos de outros servidores. </p> <p>Um cliente conecta-se ao servidor proxy, solicitando algum servi\u00e7o, como um arquivo, conex\u00e3o, p\u00e1gina web ou outros recursos dispon\u00edveis de um servidor diferente e o proxy avalia a solicita\u00e7\u00e3o como um meio de simplificar e controlar sua complexidade. Os proxies foram inventados para adicionar estrutura e encapsulamento a sistemas distribu\u00eddos. Hoje, a maioria dos proxies \u00e9 proxy web, facilitando o acesso ao conte\u00fado na World Wide Web e fornecendo anonimato. [1]</p>"},{"location":"freebsd/experimento_09/#objetivos","title":"Objetivos","text":"<ol> <li>Permitir que os alunos tenham contato com regras de Proxy em m\u00e1quinas FreeBSD.</li> </ol>"},{"location":"freebsd/experimento_09/#teoria-abordada-no-experimento","title":"Teoria abordada no experimento","text":"<p>Objetivo e funcionamento de um proxy de aplica\u00e7\u00e3o.</p>"},{"location":"freebsd/experimento_09/#material-necessario","title":"Material Necess\u00e1rio","text":"<ul> <li>Interfaces de rede (NIC's)</li> <li>M\u00e1quinas com sistema FreeBSD</li> <li>Cabos de rede \u2013 par tran\u00e7ado normal</li> <li>Switches ou HUBs</li> <li>Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico, pacote DNS server (bind9)</li> <li>Acesso \u00e0 Internet \u2013 necess\u00e1rio</li> </ul>"},{"location":"freebsd/experimento_09/#roteiro","title":"Roteiro","text":""},{"location":"freebsd/experimento_09/#1-montagem-de-rede-interconectada-para-o-experimento","title":"1. Montagem de rede interconectada para o experimento","text":"<ul> <li>H1 (192.168.1.3), H2 (192.168.1.2) e R/eth0 (192.168.1.1).</li> </ul> <p>  </p>"},{"location":"freebsd/experimento_09/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es","text":"<p>Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01.</p>"},{"location":"freebsd/experimento_09/#3-configuracao-dos-equipamentos","title":"3. Configura\u00e7\u00e3o dos equipamentos","text":"<p>Em R, instalar o SQUID (proxy server).</p> <pre><code>$ # atualizar os reposit\u00f3rios\n$ pkg update\n$ # instalar SQUID\n$ pkg install squid\n</code></pre> <p>Ap\u00f3s a instala\u00e7\u00e3o, \u00e9 possivel verificar o arquivo de configura\u00e7\u00e3o do SQUID:</p> <pre><code>$ squid -f /usr/local/etc/squid/squid.conf -k parse\n</code></pre> <p>Adicione o servi\u00e7o SQUID a configura\u00e7\u00e3o rc.conf (/etc/rc.conf):</p> <pre><code>squid_enable=yes\n</code></pre> <p>Inicie o servi\u00e7o SQUID:</p> <pre><code>$ service squid start\n</code></pre> <p>ATEN\u00c7\u00c3O: \u00c9 poss\u00edvel verificar o log do SQUID usando o comando tail -f /var/log/squid/access.log.</p>"},{"location":"freebsd/experimento_09/#etapa-1","title":"Etapa 1","text":"<p>Adicionar as seguintes funcionalidades ao SQUID:</p> <ul> <li> <p>controle de acesso web por m\u00e1quina (IP).</p> <p>Edite o arquivo squid.conf (/usr/local/etc/squid/squid.conf) para adicionar uma regra de acesso e adicione a regra criada ao conjunto de regras de acesso HTTP seguido pelo tipo de acesso (allow/deny):</p> </li> </ul> <pre><code># acl nome_da_regra src IP/mascara\nacl meu_ip src 192.168.1.3\n# http_access allow/deny nome_da_regra\nhttp_access allow meu_ip\n</code></pre> <ul> <li> <p>black list (BL) para h1 e h2.</p> <p>Edite o arquivo squid.conf (/usr/local/etc/squid/squid.conf) para adicionar regras de blacklist para os endere\u00e7os IP de H1 e H2 e adicione as regras criadas ao conjunto de regras de acesso HTTP seguido pelo tipo de acesso (deny):</p> </li> </ul> <pre><code># acl nome_da_regra_bl_h1 src IP\nacl blacklist_h1 src 192.168.1.3\n# acl nome_da_regra_bl_h2 src IP\nacl blacklist_h2 src 192.168.1.2\n# http_access allow nome_da_regra_bl_h1\nhttp_access deny blacklist_h1\n# http_access allow nome_da_regra_bl_h2\nhttp_access deny blacklist_h2\n</code></pre> <ul> <li> <p>White list (WL) para h1 (e/ou h2).</p> <p>Edite o arquivo squid.conf (/usr/local/etc/squid/squid.conf) para adicionar regras de whitelist para os endere\u00e7os IP de H1 e adicione as regras criadas ao conjunto de regras de acesso HTTP seguido pelo tipo de acesso (allow):</p> </li> </ul> <pre><code># acl nome_da_regra_wl_h1 src IP\nacl whitelist_h1 src 192.168.1.3\n# http_access allow nome_da_regra_wl_h1\nhttp_access allow whitelist_h1\n</code></pre> <p>Salve e reinicie o SQUID para que as configura\u00e7\u00f5es tenham efeito.</p> <pre><code>$ service squid restart\n</code></pre> <p>Verificar e descrever qual o n\u00edvel de preval\u00eancia entre wl e bl.</p> <p>ATEN\u00c7\u00c3O: As regras de acesso s\u00e3o aplicadas na ordem em que s\u00e3o definidas, por isso, \u00e9 importante posicionar as regras de blacklist depois de qualquer outra regra de acesso, para garantir que essas regras sejam aplicadas corretamente.</p> <p>Ajustar h1 e h2 para que percebam a presen\u00e7a do proxy para o acesso Internet (configura\u00e7\u00e3o manual). Obs.: R possui acesso Internet, mas n\u00e3o possui NAT.</p> <ul> <li>Em h1 e h2 adicionar seguinte configura\u00e7\u00e3o (tamb\u00e9m pode ser feito utilizando a configura\u00e7\u00e3o do browser):</li> </ul> <pre><code>$ sysctl net.inet.http.proxy=192.168.1.1:3128\n</code></pre> <ul> <li>Em R, edite o arquivo sysctl.conf (/etc/sysctl.conf), para ativar o encaminhamento de pacotes IP (IP forwarding), descomente a seguinte linha:</li> </ul> <pre><code>net.inet.ip.forwarding=1\n</code></pre> <ul> <li>Ative a configura\u00e7\u00e3o.</li> </ul> <pre><code>$ sysctl net.inet.ip.forwarding=1\n</code></pre> <ul> <li>Configure e reinicie o firewall para permitir as conex\u00f5es de H1 e H2:</li> </ul> <pre><code>$ ipfw add 120 allow all from 192.168.1.2 to any\n$ ipfw add 130 allow all from 192.168.1.3 to any\n$ service ipfw restart\n</code></pre>"},{"location":"freebsd/experimento_09/#etapa-2","title":"Etapa 2","text":"<p>Montar a configura\u00e7\u00e3o de rede abaixo e seguir os requisitos descritos a seguir.</p> <ul> <li>R/eth1 (172.25.0.1) e S1 (172.25.0.2).</li> <li>H1 (192.168.1.3), H2 (192.168.1.2) e R/eth0 (192.168.1.1).</li> </ul> <p>  </p> <ul> <li> <p>Transferir a fun\u00e7\u00e3o de proxy para S1, incluindo as restri\u00e7\u00f5es definidas anteriormente.</p> <p>Instale o SQUID no S1 e configure-o para atuar como um proxy para as conex\u00f5es de H1 e H2. Isso incluiria configurar as regras de controle de acesso por IP, black list (BL) e white list (WL) para H1 e H2.</p> <p>Configure R para encaminhar as conex\u00f5es de H1 e H2 para S1:</p> </li> </ul> <pre><code>$ ipfw add 140 forward ip from 192.168.1.2 to any via 172.25.0.2\n$ ipfw add 150 forward ip from 192.168.1.3 to any via 172.25.0.2\n</code></pre> <ul> <li> <p>Montar um SNAT em R para que S1 possa acessar a Internet.</p> <p>Isso pode ser feito usando o recurso de NAT do firewall de R, adicionando as seguintes regras:</p> </li> </ul> <pre><code>$ # &lt;interface&gt; \u00e9 o nome da interface de rede que est\u00e1 conectada \u00e0 Internet\n$ ipfw add 160 nat 1 ip from 172.25.0.2 to any out via &lt;interface&gt;\n</code></pre> <ul> <li>Ajustar a tabela de rotas para que h1 e h2 consigam pingar em S1.</li> </ul> <pre><code>$ route add -net 172.25.0.0/24 172.25.0.2\n</code></pre> <ul> <li>Montar regras em R (e onde for preciso) para garantir o proxy transparente (ou seja, h1 e h2 n\u00e3o sabem da presen\u00e7a de um proxy). Obs.: Verificar se \u00e9 poss\u00edvel resolver o desvio para o proxy usando um chain.</li> </ul> <pre><code>$ ipfw add redirect_port tcp from 192.168.1.2 80 to 172.25.0.2 8080\n$ ipfw add redirect_port tcp from 192.168.1.3 80 to 172.25.0.2 8080\n</code></pre>"},{"location":"freebsd/experimento_09/#questoes-para-estudo","title":"Quest\u00f5es para Estudo","text":"<ol> <li>Como o protocolo HTTP funciona e como ele \u00e9 usado pelo Squid para implementar o proxy?</li> <li>Como o uso de chains no firewall IPFW pode ser usado para implementar pol\u00edticas de firewall mais avan\u00e7adas e flex\u00edveis?</li> <li>Quais s\u00e3o as principais diferen\u00e7as entre o proxy e o firewall e como eles podem ser usados \u200b\u200bjuntos para melhorar a seguran\u00e7a da rede?</li> <li>Como o Squid possui configura\u00e7\u00e3o para melhorar a seguran\u00e7a do proxy? Explique.</li> </ol>"},{"location":"freebsd/experimento_09/#referencias-bibliograficas","title":"Refer\u00eancias Bibliogr\u00e1ficas","text":"<p>[1] https://pt.wikipedia.org/wiki/Proxy</p>"},{"location":"freebsd/experimento_10/","title":"Camada de Aplica\u00e7\u00e3o (DNS)","text":"<p>Baixar como PDF</p>  <p>Pr\u00e1tica de Laborat\u00f3rio 10</p> <p>Camada de Aplica\u00e7\u00e3o (DNS)</p>"},{"location":"freebsd/experimento_10/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>O Domain Name System (DNS) \u00e9 um importante componente da Internet, respons\u00e1vel por fazer a tradu\u00e7\u00e3o de nomes de dom\u00ednio para endere\u00e7os IP e vice-versa. Isso permite que os usu\u00e1rios acessem sites e servi\u00e7os atrav\u00e9s de nomes de dom\u00ednio, em vez de ter que digitar os endere\u00e7os IP correspondentes.</p>"},{"location":"freebsd/experimento_10/#objetivos","title":"Objetivos","text":"<ol> <li>Demonstrar o funcionamento do DNS e sua import\u00e2ncia na Internet.</li> <li>Mostrar como configurar um servidor DNS no FreeBSD.</li> <li>Verificar o funcionamento do servidor DNS atrav\u00e9s de consultas utilizando os comandos dig e nslookup.</li> </ol>"},{"location":"freebsd/experimento_10/#teoria-abordada-no-experimento","title":"Teoria abordada no experimento","text":"<p>Objetivo e funcionamento do protocolo DNS.</p>"},{"location":"freebsd/experimento_10/#material-necessario","title":"Material Necess\u00e1rio","text":"<ul> <li>Interfaces de rede (NIC's)</li> <li>M\u00e1quinas com sistema FreeBSD</li> <li>Cabos de rede \u2013 par tran\u00e7ado normal</li> <li>Switches ou HUBs</li> <li>Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico, pacotes de servidor DNS (bind9)</li> <li>Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio</li> <li>Desligar o servidor DNS para as m\u00e1quinas de aula</li> </ul>"},{"location":"freebsd/experimento_10/#roteiro","title":"Roteiro","text":""},{"location":"freebsd/experimento_10/#1-montagem-de-rede-interconectada-para-o-experimento","title":"1. Montagem de rede interconectada para o experimento","text":"<ul> <li>H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4) e R/eth0 (192.168.1.1).</li> </ul> <p>  </p>"},{"location":"freebsd/experimento_10/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es","text":"<p>Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01.</p>"},{"location":"freebsd/experimento_10/#3-instalacao-do-pacote-de-servidor-dns","title":"3. Instala\u00e7\u00e3o do pacote de servidor DNS","text":"<p>Para a execu\u00e7\u00e3o deste experimento \u00e9 essencial a instala\u00e7\u00e3o do pacote bind9, que n\u00e3o \u00e9 incluso por padr\u00e3o no FreeBSD. Para prosseguir com a instala\u00e7\u00e3o, execute o seguinte comando:</p> <pre><code>$ pkg install bind9\n$ service named start\n</code></pre> <p>Verifique se o servidor DNS est\u00e1 funcionando corretamente com o seguinte comando:</p> <pre><code>$ nslookup localhost\n</code></pre>"},{"location":"freebsd/experimento_10/#4-configuracao-do-servidor-dns","title":"4. Configura\u00e7\u00e3o do Servidor DNS","text":"<p>Edite o arquivo de configura\u00e7\u00e3o do DNS, named.conf (/usr/local/etc/namedb/named.conf) e adicione as seguintes linhas para configurar as suas zonas de busca direta e inversa:</p> <pre><code>zone \"exemplo.com\" {\n    type master;\n    file \"/usr/local/etc/namedb/master/exemplo.com.db\";\n};\n\nzone \"1.168.192.in-addr.arpa\" {\n    type master;\n    file \"/usr/local/etc/namedb/master/192.168.1.db\";\n};\n</code></pre> <p>Crie os arquivos de zona de busca direta e inversa. O arquivo de zona de busca direta, exemplo.com.db (/usr/local/etc/namedb/master/exemplo.com.db), deve conter informa\u00e7\u00f5es sobre os seus servidores de nomes e endere\u00e7os IP:</p> <pre><code>$TTL    86400\n@       IN      SOA     ns1.exemplo.com. admin.exemplo.com. (\n                        20201022      ;Serial\n                        3600          ;Refresh\n                        1800          ;Retry\n                        604800        ;Expire\n                        86400 )       ;Minimum TTL\n;\n@       IN      NS      ns1.exemplo.com.\n@       IN      A       192.168.1.3\nns1     IN      A       192.168.1.3\nwww     IN      A       192.168.1.3\nH1      IN      A       192.168.1.2\nH2      IN      A       192.168.1.4\n</code></pre> <p>O arquivo de zona de busca inversa, 192.168.1.db (/usr/local/etc/namedb/master/192.168.1.db), deve conter informa\u00e7\u00f5es sobre os seus endere\u00e7os IP e nomes de host:</p> <pre><code>$TTL    86400\n@       IN      SOA     ns1.exemplo.com. admin.exemplo.com. (\n                        20201022      ;Serial\n                        3600          ;Refresh\n                        1800          ;Retry\n                        604800        ;Expire\n                        86400 )       ;Minimum TTL\n;\n@       IN      NS      ns1.exemplo.com.\n2       IN      PTR     H1.exemplo.com.\n3       IN      PTR     ns1.exemplo.com.\n4       IN      PTR     H2.exemplo.com.\n</code></pre> <p>Reinicie o servi\u00e7o DNS usando o seguinte comando: </p> <pre><code>$ service named restart.\n</code></pre> <p>Fa\u00e7a consultas ao servidor DNS para verificar se est\u00e1 funcionando corretamente:</p> <pre><code>$ nslookup host_da_rede\n</code></pre>"},{"location":"freebsd/experimento_10/#5-configuracao-do-cliente-dns","title":"5. Configura\u00e7\u00e3o do cliente DNS","text":"<p>Para que outros hosts da rede usem o servidor DNS que voc\u00ea configurou, \u00e9 necess\u00e1rio especificar o endere\u00e7o IP do servidor DNS como sendo o servidor de nomes padr\u00e3o (ou nameserver) desses hosts.</p> <p>No FreeBSD, configure o arquivo resolv.conf (/etc/resolv.conf) especificando o servidor de nomes padr\u00e3o:</p> <pre><code>nameserver 192.168.1.4\n</code></pre> <p>Verifique se o host est\u00e1 usando o servidor DNS configurado, fazendo uma consulta.</p> <pre><code>$ nslookup host_da_rede\n</code></pre>"},{"location":"freebsd/experimento_10/#questoes-para-estudo","title":"Quest\u00f5es para Estudo","text":"<ol> <li>Como voc\u00ea faria para adicionar um registro MX (Mail Exchange) ao seu arquivo de zona de busca direta?</li> <li>Como voc\u00ea faria para configurar uma zona secund\u00e1ria (slave) no seu servidor DNS?</li> <li>Como voc\u00ea faria para monitorar e solucionar problemas comuns de desempenho em um servidor DNS, como consultas de DNS n\u00e3o autorizadas ou ataques de nega\u00e7\u00e3o de servi\u00e7o (DoS)?</li> <li>Como voc\u00ea faria para configurar o seu servidor DNS para fornecer servi\u00e7os de resolu\u00e7\u00e3o de nomes para redes privadas usando NAT?</li> </ol>"},{"location":"freebsd/experimento_10/#referencias-bibliograficas","title":"Refer\u00eancias Bibliogr\u00e1ficas","text":""},{"location":"freebsd/experimento_11/","title":"Introdu\u00e7\u00e3o ao IPv6","text":"<p>Baixar como PDF</p>  <p>Pr\u00e1tica de Laborat\u00f3rio 11</p> <p>Introdu\u00e7\u00e3o ao IPv6</p>"},{"location":"freebsd/experimento_11/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>O IPv6 \u00e9 o sucessor do IPv4 e foi criado para resolver os problemas de escassez de endere\u00e7os IP que ocorriam no IPv4. Ele fornece uma quantidade praticamente ilimitada de endere\u00e7os IP, permitindo que as redes cres\u00e7am e evoluam de forma mais flex\u00edvel e escal\u00e1vel. Neste experimento pr\u00e1tico, vamos explorar como configurar o IPv6 no sistema operacional FreeBSD atrav\u00e9s da utiliza\u00e7\u00e3o de comandos e configura\u00e7\u00f5es no arquivo rc.conf (/etc/rc.conf).</p>"},{"location":"freebsd/experimento_11/#objetivos","title":"Objetivos","text":"<ol> <li>Compreender as configura\u00e7\u00f5es b\u00e1sicas para navegabilidade em uma rede de computadores utilizando o IPv6.</li> <li>Exercitar configura\u00e7\u00f5es b\u00e1sicas e entender como usar ferramentas de diagn\u00f3stico para validar configura\u00e7\u00f5es.</li> </ol>"},{"location":"freebsd/experimento_11/#teoria-abordada-no-experimento","title":"Teoria abordada no experimento","text":"<p>Conceitos b\u00e1sicos do IPv6 e o funcionamento b\u00e1sico de uma rede TCP/IP utilizando o IPv6.</p>"},{"location":"freebsd/experimento_11/#material-necessario","title":"Material Necess\u00e1rio","text":"<ul> <li>Interfaces de rede (NIC's)</li> <li>M\u00e1quinas com sistema FreeBSD</li> <li>Cabos de rede \u2013 par tran\u00e7ado normal</li> <li>Switches ou HUBs</li> <li>Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico</li> <li>Acesso \u00e0 Internet \u2013 necess\u00e1rio</li> <li>Desligar o servidor e cliente DHCP para as m\u00e1quinas do experimento</li> </ul>"},{"location":"freebsd/experimento_11/#roteiro","title":"Roteiro","text":""},{"location":"freebsd/experimento_11/#1-montagem-de-rede-interconectada-para-o-experimento","title":"1. Montagem de rede interconectada para o experimento","text":"<ul> <li>H1 (2001:0db8:0:f100::2/64), H2 (2001:0db8:0:f100::3/64) e R/eth0 (2001:0db8:0:f100::1/64).</li> </ul> <p>  </p>"},{"location":"freebsd/experimento_11/#2-configurar-os-clientes-na-rede-de-testes","title":"2. Configurar os clientes na rede de testes","text":""},{"location":"freebsd/experimento_11/#21-configuracao-manual-usando-ifconfig8","title":"2.1 Configura\u00e7\u00e3o manual usando ifconfig(8)","text":"<p>Para ver o estado atual da interface de rede que esta sendo usada na maquina, execute:</p> <pre><code>$ ifconfig &lt;interface&gt;\n</code></pre> <p>Caso o comando mostre na sa\u00edda a linha nd6 options com a op\u00e7\u00e3o IFDISABLED, significa que o IPv6 esta desabilitado nesta interface. Caso esteja desabilitado, execute o comando:</p> <pre><code>$ ifconfig &lt;interface&gt; inet6 -ifdisabled\n</code></pre> <p>Ap\u00f3s a habilita\u00e7\u00e3o, verifique novamente o estado atual da interface de rede. Dever\u00e1 ser capaz de ver a linha inet6, que ser\u00e1 o endere\u00e7o IPv6 configurado para a interface em quest\u00e3o.</p> <p>Envie pacotes icmp (ping) para testar a configura\u00e7\u00e3o:</p> <pre><code>$ ping &lt;inet6_address&gt;\n</code></pre> <p>Execute o servi\u00e7o SSH no FreeBSD e fa\u00e7a um teste para verificar se \u00e9 poss\u00edvel conectar no SSH atrav\u00e9s do IPv6.</p> <pre><code>$ ssh -v &lt;inet6_address&gt;\n</code></pre> <p>ATEN\u00c7\u00c3O: Este teste ir\u00e1 falhar caso o par\u00e2metro AddressFamily, no arquivo de configura\u00e7\u00e3o do sshd_config(8), estiver definido como inet. Veja a sa\u00edda de sockstat -6 | grep sshd para verificar se SSH escuta o soquete IPv6.</p>"},{"location":"freebsd/experimento_11/#22-enderecos-multicast-uteis","title":"2.2 Endere\u00e7os Multicast \u00dateis","text":"<p>Um endere\u00e7o Multicast identifica um conjunto de interfaces, onde um pacote enviado a um endere\u00e7o multicast \u00e9 entregue a todas as interfaces associadas a esse endere\u00e7o.</p> <p>A seguir est\u00e3o representados dois importantes endere\u00e7os Multicast:</p> <ul> <li>ff02::1 - endere\u00e7o multicast de todos os n\u00f3s da rede no escopo link-local.</li> <li>ff02::2 - endere\u00e7o multicast de todos os roteadores da rede no escopo link-local.</li> </ul> <p>\u00c9 poss\u00edvel enviar pacotes ICMPv6 para visualizar os n\u00f3s da rede que est\u00e3o conectados no mesmo link:</p> <pre><code>$ ping ff02::1\n</code></pre> <p>ATEN\u00c7\u00c3O: \u00c9 necess\u00e1rio informar o identificador de zona no comando anterior. </p> <p>A partir das informa\u00e7\u00f5es dadas, fa\u00e7a a mesma coisa para visualizar os roteadores que est\u00e3o conectados no mesmo link.</p>"},{"location":"freebsd/experimento_11/#23-configuracao-de-host-ipv6","title":"2.3 Configura\u00e7\u00e3o de host IPv6","text":"<p>No IPv6 \u00e9 poss\u00edvel configurar mais de um endere\u00e7o em uma \u00fanica interface:</p> <pre><code>$ ifconfig &lt;interface&gt; inet6 fe80::1/64\n</code></pre> <p>Envie pacotes icmp (ping) para testar a configura\u00e7\u00e3o:</p> <pre><code>$ ping fe80::1/64\n</code></pre> <p>Execute o servi\u00e7o SSH no FreeBSD e fa\u00e7a um teste para verificar se \u00e9 poss\u00edvel conectar no SSH atrav\u00e9s do IPv6.</p> <pre><code>$ ssh -v &lt;inet6_address&gt;\n</code></pre> <p>Para remover um endere\u00e7o espec\u00edfico, pode-se usar o par\u00e2metro -alias:</p> <pre><code>$ ifconfig &lt;interface&gt; inet6 fe80::1/64 -alias\n</code></pre>"},{"location":"freebsd/experimento_11/#24-configuracao-manual-usando-o-arquivo-rcconf","title":"2.4 Configura\u00e7\u00e3o manual usando o arquivo rc.conf","text":"<p>Para configurar o IPv6 no arquivo rc.conf (/etc/rc.conf) utiliza-se o par\u00e2metro ifconfig_&lt;interface&gt;_ipv6 para indicar que a interface &lt;interface&gt; \u00e9 compat\u00edvel com IPv6. Na seguinte configura\u00e7\u00e3o apenas um endere\u00e7o de link-local \u00e9 configurado automaticamente:</p> <pre><code>ifconfig_bge0_ipv6=\"inet6 auto_linklocal\"\n</code></pre> <p>Se voc\u00ea quiser adicionar outro endere\u00e7o de link-local manualmente, voc\u00ea pode adicionar a linha inet6 em ifconfig_&lt;interface&gt;_ipv6.</p> <pre><code>ifconfig_bge0_ipv6=\"inet6 fe80::1/64\"\n</code></pre> <p>Mais endere\u00e7os podem ainda ser adicionados usando a linha ifconfig_&lt;interface&gt;_alias0:</p> <pre><code>ifconfig_bge0_ipv6=\"inet6 fe80::1/64\"\nifconfig_bge0_alias0=\"inet6 2001:db8::1/64\"\n</code></pre> <p>A partir dos exemplos dados at\u00e9 aqui, configure uma topologia semelhante a apresentada no inicio do experimento. Ap\u00f3s configurar os endere\u00e7os execute o seguinte comando para reconfigurar a interface:</p> <pre><code>$ service netif restart &lt;interface&gt;\n</code></pre> <p>ATEN\u00c7\u00c3O: No FreeBSD a linha <code>ifconfig_&lt;interface&gt;</code> do arquivo rc.conf (/etc/rc.conf) n\u00e3o pode estar vazia, pois ela serve para dizer que a interface em quest\u00e3o est\u00e1 ativa. Caso n\u00e3o seja necess\u00e1rio ativar o ipv4 da maquina pode ser definido <code>ifconfig_&lt;interface&gt;=\"up\"</code>.</p>"},{"location":"freebsd/experimento_11/#3-validando-as-configuracoes","title":"3. Validando as configura\u00e7\u00f5es","text":"<p>Confira a conectividade b\u00e1sica enviando pacotes ICMPv6 para algum outro computador que esteja conectado \u00e0 mesma rede:</p> <pre><code>$ ping &lt;inet6_address&gt;\n</code></pre> <p>Como proceder para configurar o esquema de resolu\u00e7\u00e3o de nomes?</p>"},{"location":"freebsd/experimento_11/#4-internet-em-ipv6","title":"4. Internet em IPv6","text":""},{"location":"freebsd/experimento_11/#41-configuracao-manual","title":"4.1 Configura\u00e7\u00e3o manual","text":"<p>Ao configurar e validar uma topologia semelhante a apresentada no inicio do experimento, pode ter ficado a duvida de como acessar destinos fora da rede local. Para que isso seja poss\u00edvel primeiro \u00e9 necess\u00e1rio adicionar a seguinte linha ao arquivo rc.conf (/etc/rc.conf):</p> <pre><code>ipv6_defaultrouter=\"&lt;inet6_address&gt;\"\n</code></pre> <p>Esta vari\u00e1vel especifica o roteador padr\u00e3o.</p> <p>Caso voc\u00ea n\u00e3o saiba o endere\u00e7o ipv6 do seu roteador voc\u00ea pode executar comandos que foram explicados anteriormente neste experimento. Tente!</p> <p>Ap\u00f3s especificar o roteador padr\u00e3o no arquivo \u00e9 necess\u00e1rio reconfigurar a interface atrav\u00e9s do utilit\u00e1rio service, ja apresentado no presente experimento.</p> <p>Verifique o estado atual da interface de rede:</p> <pre><code>$ ifconfig &lt;interface&gt;\n</code></pre> <p>Ap\u00f3s configurado o endere\u00e7o padr\u00e3o do roteador voc\u00ea pode enviar pacotes ICMPv6 atrav\u00e9s da internet:</p> <pre><code>$ ping www.freebsd.org\n</code></pre> <p>Observe que a resolu\u00e7\u00e3o de nomes de dom\u00ednio DNS \u00e9 executada pelos servidores de nomes listados em resolv.conf (/etc/resolv.conf). Se o seu roteador IPv6 funcionar como um proxy DNS, voc\u00ea pode colocar o endere\u00e7o IPv6 assim:</p> <pre><code>nameserver &lt;inet6_address&gt;\n</code></pre>"},{"location":"freebsd/experimento_11/#42-configuracao-automatica-de-endereco-global-slaac","title":"4.2 Configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o global (SLAAC)","text":"<p>O IPv6 possui recursos de configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o atrav\u00e9s de mensagens RA do roteador (protocolo NDP). \u00c9 poss\u00edvel configurar um endere\u00e7o IPv6 automaticamente, caso o seu roteador ofere\u00e7a suporte \u00e0s mensagens RA.</p> <p>Para verificar se o seu roteador IPv6 oferece suporte a mensagens RA, voc\u00ea pode usar o utilit\u00e1rio rtsol com  um sinalizador -D. Ele envia uma mensagem RS e mostra as mensagens RA dos roteadores:</p> <pre><code>$ rtsol -D &lt;interface&gt;\n</code></pre> <p>Caso a resposta contenha a linha received RA from, significa que \u00e9 poss\u00edvel utilizar a configura\u00e7\u00e3o autom\u00e1tica. No arquivo rc.conf (/etc/rc.conf) atualizar o valor da vari\u00e1vel ifconfig_&lt;interface&gt;_ipv6:</p> <pre><code>$ ifconfig_bge0_ipv6=\"inet6 accept_rtadv\"\n</code></pre> <p>O valor inet6 accept_rtadv permite que a interface bge0 aceite mensagens RA para configurar a interface.</p> <p>Verifique o estado atual da interface de rede:</p> <pre><code>$ ifconfig &lt;interface_nome&gt;\n</code></pre> <p>A palavra-chave autoconf deve ser mostrada logo ap\u00f3s o endere\u00e7o.</p> <p>ATEN\u00c7\u00c3O: No caso da configura\u00e7\u00e3o autom\u00e1tica, n\u00e3o \u00e9 necess\u00e1rio definir o roteador padr\u00e3o no arquivo rc.conf (/etc/rc.conf). Pois, o valor inet6 accept_rtadv configura um endere\u00e7o IPv6 global e o roteador padr\u00e3o.</p>"},{"location":"freebsd/experimento_11/#6-configuracao-de-um-roteador-ipv6","title":"6. Configura\u00e7\u00e3o de um roteador IPv6","text":"<p>A topologia a seguir mostra um exemplo de um rede que possui um roteador IPv6 para ter duas redes independentes. A LAN 1 e a LAN 2 s\u00e3o conectadas entre si pelo roteador, e outro roteador oferece acessibilidade \u00e0 Internet IPv6.</p> <ul> <li>H1 (2001:0db8:0:f100::2/64) e R/bge1 (2001:0db8:0:f100::1/64).</li> <li>H2 (2001:0db8:0:f101::3/64), R/bge0 (2001:0db8:0:f101::2/64) e R (2001:0db8:0:f101::1/64)</li> </ul> <p>  </p> <p>Para habilitar o encaminhamento de pacotes, \u00e9 necess\u00e1rio a vari\u00e1vel ipv6_gateway_enable no arquivo rc.conf (/etc/rc.conf). Assumindo que bge0 e bge1 s\u00e3o as interfaces de rede do roteador para LAN 1 e LAN 2 respectivamente, o arquivo ficara semelhante a isso:</p> <pre><code>ipv6_gateway_enable=\"YES\"\nipv6_defaultrouter=\"fe80::5a52:8aff:fe10:e323%bge0\" #router link-local address\nifconfig_bge0=\"up\"\nifconfig_bge0_ipv6=\"inet6 2001:0db8:0:f101::2/64\"\nifconfig_bge1=\"up\"\nifconfig_bge1_ipv6=\"inet6 2001:0db8:0:f100::1/64\"\n</code></pre> <p>A interface que conecta a LAN 1 (bge0) n\u00e3o tem conhecimento da rota para a interface da LAN 2 (bge1). Por isso, \u00e9 necess\u00e1rio adicionar uma configura\u00e7\u00e3o de rota est\u00e1tica nela usando um endere\u00e7o de link-local da interface bge1.</p> <pre><code>$ route add -inet6  2001:0db8:0:f100::1/64 -interface bge1\n</code></pre> <p>Verifique se a rota foi adicionada com sucesso.</p> <pre><code>$ route show\n</code></pre> <p>Por\u00e9m, o roteador FreeBSD ainda n\u00e3o habilitou o envio de mensagens RA, para configura\u00e7\u00e3o autom\u00e1tica de hosts na rede. Para enviar mensagens RA, voc\u00ea precisa do servi\u00e7o rtadvd(8) que pode ser ativado no arquivo rc.conf (/etc/rc.conf).</p> <pre><code>ipv6_gateway_enable=\"YES\"\nipv6_defaultrouter=\"fe80::5a52:8aff:fe10:e323%bge0\"\nifconfig_bge0=\"up\"\nifconfig_bge0_ipv6=\"inet6 2001:db8:0:1::1/64\"\nifconfig_bge1=\"up\"\nifconfig_bge1_ipv6=\"inet6 2001:db8:0:2::1/64\"\nrtadvd_enable=\"YES\"\nrtadvd_interfaces=\"bge1\"\n</code></pre> <p>Configure H1 para utilizar a configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o e verifique se est\u00e1 tudo ocorrendo da maneira correta.</p>"},{"location":"freebsd/experimento_11/#7-usando-dhcpv6","title":"7. Usando DHCPv6","text":"<p>O tipo de configura\u00e7\u00e3o apresentado na se\u00e7\u00e3o 4.2 \u00e9 algo mais pr\u00f3ximo do DHCP no IPv4. No entanto, voc\u00ea n\u00e3o pode controlar qual endere\u00e7o est\u00e1 realmente configurado em cada host porque eles s\u00e3o gerados a partir dos endere\u00e7os MAC. Para um controle mais refinado da configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o, voc\u00ea precisar\u00e1 de outro m\u00e9todo, como DHCPv6.</p> <p>Para configurar um host em uma rede que utiliza o DHCPv6, edite o arquivo rc.conf (/etc/rc.conf):</p> <pre><code>ifconfig_bge0=\"up\"\nifconfig_bge0_ipv6=\"inet6 accept_rtadv\"\nrtsold_enable=\"YES\"\nrtsold_flags=\"-0 /usr/local/etc/dhcp6c.sh bge0\"\n</code></pre> <p>Verifique o estado atual da interface de rede:</p> <pre><code>$ ifconfig &lt;interface&gt;\n</code></pre> <p>Para verificar se o endere\u00e7o foi dinamicamente atribu\u00eddo atrav\u00e9s do DHCPv6, execute:</p> <pre><code>$ ip -f inet6 addr show\n</code></pre> <p>Caso apare\u00e7a a palavra dynamic ao lado do endere\u00e7o IPv6 significa que o host foi configurado atrav\u00e9s do DHCPv6.</p> <p>Procure saber sobre a configura\u00e7\u00e3o de um servidor DHCPv6 utilizando o FreeBSD.</p> <p>ATEN\u00c7\u00c3O: \u00c9 necess\u00e1rio ter um servidor DHCPv6 configurado na rede para que o experimento anterior funcione.</p>"},{"location":"freebsd/experimento_11/#questoes-para-estudo","title":"Quest\u00f5es para Estudo","text":"<ol> <li>Em certo momento do experimento, bastou apenas executar o comando ifconfig &lt;interface&gt; inet6 -ifdisabled para que um IPv6 fosse configurado. Por que ocorreu isso e como desativar essa configura\u00e7\u00e3o autom\u00e1tica?</li> <li>O que \u00e9 StateLess Address AutoConfiguration (SLAAC) e qual sua utilidade na atribui\u00e7\u00e3o de endere\u00e7os IPv6?</li> <li>Explique os tipos de endere\u00e7o IPv6 e seus respectivos prefixos? </li> <li>Para acessar a internet por meio do IPv4 \u00e9 necess\u00e1rio o uso do NAT. No IPv6 tamb\u00e9m \u00e9 necess\u00e1rio? Explique.</li> <li>Um roteador pode ser configurado usando o recurso de configura\u00e7\u00e3o autom\u00e1tica? Explique.</li> <li>Como funciona a configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o atrav\u00e9s do protocolo NDP?</li> <li>Em v\u00e1rios momentos do experimento foi omitido a parte do identificador de zona e isso pode ter causado problemas. O que \u00e9 o identificador de zona e por que \u00e9 necess\u00e1rio ele em um endere\u00e7o de IPv6?</li> </ol>"},{"location":"freebsd/experimento_11/#referencias-bibliograficas","title":"Refer\u00eancias Bibliogr\u00e1ficas","text":""},{"location":"freebsd/experimento_12/","title":"Camada de Aplica\u00e7\u00e3o (DNS)","text":"<p>Baixar como PDF</p>  <p>Pr\u00e1tica de Laborat\u00f3rio 12</p> <p>Camada de Aplica\u00e7\u00e3o (DNS)</p>"},{"location":"freebsd/experimento_12/#introducao","title":"Introdu\u00e7\u00e3o","text":""},{"location":"freebsd/experimento_12/#objetivos","title":"Objetivos","text":"<ol>   </ol>"},{"location":"freebsd/experimento_12/#referencias-teoricas","title":"Refer\u00eancias Te\u00f3ricas","text":""},{"location":"freebsd/experimento_12/#material-necessario","title":"Material Necess\u00e1rio","text":"<ul>  </ul>"},{"location":"freebsd/experimento_12/#roteiro","title":"Roteiro","text":""},{"location":"freebsd/experimento_12/#_1","title":"Camada de Aplica\u00e7\u00e3o (DNS)","text":""},{"location":"freebsd/experimento_12/#_2","title":"Camada de Aplica\u00e7\u00e3o (DNS)","text":""},{"location":"freebsd/experimento_12/#questoes-para-estudo","title":"Quest\u00f5es para Estudo","text":"<ol>   </ol>"}]}