{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Inicio O presente trabalho prop\u00f5e a implementa\u00e7\u00e3o de um conjunto de experimentos pr\u00e1ticos para exercitar a opera\u00e7\u00e3o b\u00e1sica de uma rede de computadores utilizando os sistemas operacionais FreeBSD e Linux (Debian), demonstrando a viabilidade da aprendizagem pr\u00e1tica no ensino de redes de computadores. Sobre o repositorio Este reposit\u00f3rio \u00e9 dedicado a fornecer uma variedade de experimentos pr\u00e1ticos para estudantes e professores interessados em redes de computadores. Aqui, voc\u00ea encontrar\u00e1 instru\u00e7\u00f5es passo a passo para configurar e testar diferentes aspectos da opera\u00e7\u00e3o de uma rede usando o sistema operacional FreeBSD, incluindo configura\u00e7\u00f5es de interface, roteamento, firewalls , servi\u00e7os de rede e t\u00e9cnicas de seguran\u00e7a. Al\u00e9m disso, os experimentos tamb\u00e9m ser\u00e3o realizados com o sistema operacional Debian para comparar as diferen\u00e7as entre os dois sistemas. O objetivo \u00e9 que estes experimentos ajudem a melhorar a compreens\u00e3o dos princ\u00edpios b\u00e1sicos de redes de computadores e forne\u00e7am uma base s\u00f3lida para a aprendizagem pr\u00e1tica. Experimentos e seus objetivos Nesta se\u00e7\u00e3o ser\u00e1 apresentado os 11 experimentos presente neste trabalho e seus respectivos objetivos. Pr\u00e1tica de Laborat\u00f3rio 01 - Introdu\u00e7\u00e3o \u00e0s Redes de Computadores FreeBSD | Debian Algumas configura\u00e7\u00f5es b\u00e1sicas necess\u00e1rias para o correto funcionamento de equipamentos conectados a redes, que tem por objetivo compreender as configura\u00e7\u00f5es b\u00e1sicas para navegabilidade em uma rede de computadores, exercitar configura\u00e7\u00f5es b\u00e1sicas e entender como usar ferramentas de diagn\u00f3stico para validar configura\u00e7\u00f5es. Pr\u00e1tica de Laborat\u00f3rio 02 - Depura\u00e7\u00e3o de Problemas na Camada de Aplica\u00e7\u00e3o FreeBSD | Debian Conjunto m\u00ednimo de ferramentas para permitir a execu\u00e7\u00e3o de um diagn\u00f3stico preciso ao se encarar uma situa\u00e7\u00e3o de interrup\u00e7\u00e3o ou instabilidade de servi\u00e7o t\u00edpico de camada de aplica\u00e7\u00e3o, que tem por objetivo exercitar uma comunica\u00e7\u00e3o t\u00edpica HTTP e SMTP por meio de ferramentas de diagn\u00f3sticos e exercitar as configura\u00e7\u00f5es de rede, especialmente no que tange ao servi\u00e7o de resolu\u00e7\u00e3o de nomes. Pr\u00e1tica de Laborat\u00f3rio 03 - Depura\u00e7\u00e3o de Problemas na Camada de Transporte FreeBSD | Debian Conjunto m\u00ednimo de ferramentas para permitir a execu\u00e7\u00e3o de um diagn\u00f3stico preciso ao se encarar uma situa\u00e7\u00e3o de interrup\u00e7\u00e3o ou instabilidade de servi\u00e7o t\u00edpico de camada de transporte, que tem por objetivo exercitar uma comunica\u00e7\u00e3o t\u00edpica TCP por meio de ferramentas de diagn\u00f3stico. Pr\u00e1tica de Laborat\u00f3rio 04 - Depura\u00e7\u00e3o de Problemas na Camada de Internet FreeBSD | Debian Conjunto m\u00ednimo de ferramentas para permitir a execu\u00e7\u00e3o de um diagn\u00f3stico preciso ao se encarar uma situa\u00e7\u00e3o de interrup\u00e7\u00e3o ou instabilidade de servi\u00e7o t\u00edpico da camada de internet, que tem por objetivo exercitar as configura\u00e7\u00f5es b\u00e1sicas para navegabilidade em uma rede de computadores bem como usar ferramentas de diagn\u00f3stico para validar configura\u00e7\u00f5es e exercitar os princ\u00edpios b\u00e1sicos de uma comunica\u00e7\u00e3o em redes TCP/IP, com \u00eanfase nos servi\u00e7os t\u00edpicos da camada de internet, conhecer e manipular ferramentas de diagn\u00f3stico para fixa\u00e7\u00e3o de conceitos da camada de internet. Pr\u00e1tica de Laborat\u00f3rio 05 - Camada de Internet (DHCP) FreeBSD | Debian Experimento que apresenta um dos mais \u00fateis servi\u00e7os de rede em uso nas redes TCP/IP hoje, \u00e9 implementado pelo protocolo DHCP ( Dynamic Host Configuration Protocol ), que tem por objetivo visualizar a import\u00e2ncia dos servi\u00e7os de atribui\u00e7\u00e3o din\u00e2mica de configura\u00e7\u00f5es e entender como funciona a implementa\u00e7\u00e3o do DHCP nos sistemas operacionais usados, e configur\u00e1-la. Pr\u00e1tica de Laborat\u00f3rio 06 - Camada de Internet (NAT) FreeBSD | Debian Experimento que apresenta o NAT ( Network Address Translation ), um esquema que torna vi\u00e1vel montar uma rede endere\u00e7ada por meio de um conjunto de IPs restritos de forma que todos os hosts compartilham um n\u00famero pequeno de IPs v\u00e1lidos e, ainda sim, sejam capazes de manter conex\u00f5es regulares com equipamentos na Internet, que tem por objetivo visualizar a import\u00e2ncia dos servi\u00e7os de compartilhamento de IPs e entender como funciona a implementa\u00e7\u00e3o do NAT nos sistemas operacionais usados, e configur\u00e1-la. Pr\u00e1tica de Laborat\u00f3rio 07 - Camada de Rede (ARP) FreeBSD | Debian Experimento que apresenta o ARP ( Address Resolution Protocol ), um servi\u00e7o de camada de enlace primordial para a adequada coopera\u00e7\u00e3o da pilha de protocolos sobre a qual reside a Internet, que tem por objetivo exercitar conceitos referentes \u00e0 camada de enlace e entender o papel do protocolo ARP e como acontecem suas intera\u00e7\u00f5es. Pr\u00e1tica de Laborat\u00f3rio 08 - Firewall FreeBSD | Debian Experimento que apresenta conceitos de firewall que consiste basicamente em bloquear tr\u00e1fego de dados indesejado e liberar acessos bem-vindos. Este experimento tem por objetivo entender como funciona a implementa\u00e7\u00e3o de firewalls nos sistemas operacionais usados. Pr\u00e1tica de Laborat\u00f3rio 09 - Camada de Aplica\u00e7\u00e3o (Proxy) FreeBSD | Debian Experimento que apresenta conceitos de proxy , que \u00e9 um servidor (um sistema de computador ou uma aplica\u00e7\u00e3o) que age como um intermedi\u00e1rio para requisi\u00e7\u00f5es de clientes solicitando recursos de outros servidores. Este experimento tem por objetivo permitir que os alunos tenham contato com regras de Proxy nos sistemas operacionais usados. Pr\u00e1tica de Laborat\u00f3rio 10 - Camada de Aplica\u00e7\u00e3o (DNS) FreeBSD | Debian Experimento que apresenta o DNS ( Domain Name System ), um importante componente da Internet, respons\u00e1vel por fazer a tradu\u00e7\u00e3o de nomes de dom\u00ednio para endere\u00e7os IP e vice-versa, que tem por objetivo demonstrar o funcionamento do DNS e sua import\u00e2ncia na Internet, mostrar como configurar um servidor DNS nos sistemas operacionais usados e verificar o funcionamento do servidor DNS atrav\u00e9s de consultas por meio de utilit\u00e1rios. Pr\u00e1tica de Laborat\u00f3rio 11 - Introdu\u00e7\u00e3o ao IPv6 FreeBSD | Debian Experimento pr\u00e1tico que apresenta como configurar o IPv6 nos sistemas operacionais usados atrav\u00e9s da utiliza\u00e7\u00e3o de comandos e configura\u00e7\u00f5es no arquivo de configura\u00e7\u00e3o de rede, que tem por objetivo compreender as configura\u00e7\u00f5es b\u00e1sicas para navegabilidade em uma rede de computadores utilizando o IPv6 e exercitar configura\u00e7\u00f5es b\u00e1sicas e entender como usar ferramentas de diagn\u00f3stico para validar configura\u00e7\u00f5es. Tecnologias usadas nos experimentos Os experimentos s\u00e3o desenvolvidos para serem executados em equipamentos f\u00edsicos que possuem FreeBSD ou Debian como sistema operacional.","title":"Home"},{"location":"#inicio","text":"O presente trabalho prop\u00f5e a implementa\u00e7\u00e3o de um conjunto de experimentos pr\u00e1ticos para exercitar a opera\u00e7\u00e3o b\u00e1sica de uma rede de computadores utilizando os sistemas operacionais FreeBSD e Linux (Debian), demonstrando a viabilidade da aprendizagem pr\u00e1tica no ensino de redes de computadores.","title":"Inicio"},{"location":"#sobre-o-repositorio","text":"Este reposit\u00f3rio \u00e9 dedicado a fornecer uma variedade de experimentos pr\u00e1ticos para estudantes e professores interessados em redes de computadores. Aqui, voc\u00ea encontrar\u00e1 instru\u00e7\u00f5es passo a passo para configurar e testar diferentes aspectos da opera\u00e7\u00e3o de uma rede usando o sistema operacional FreeBSD, incluindo configura\u00e7\u00f5es de interface, roteamento, firewalls , servi\u00e7os de rede e t\u00e9cnicas de seguran\u00e7a. Al\u00e9m disso, os experimentos tamb\u00e9m ser\u00e3o realizados com o sistema operacional Debian para comparar as diferen\u00e7as entre os dois sistemas. O objetivo \u00e9 que estes experimentos ajudem a melhorar a compreens\u00e3o dos princ\u00edpios b\u00e1sicos de redes de computadores e forne\u00e7am uma base s\u00f3lida para a aprendizagem pr\u00e1tica.","title":"Sobre o repositorio"},{"location":"#experimentos-e-seus-objetivos","text":"Nesta se\u00e7\u00e3o ser\u00e1 apresentado os 11 experimentos presente neste trabalho e seus respectivos objetivos.","title":"Experimentos e seus objetivos"},{"location":"#pratica-de-laboratorio-01-introducao-as-redes-de-computadores","text":"","title":"Pr\u00e1tica de Laborat\u00f3rio 01 - Introdu\u00e7\u00e3o \u00e0s Redes de Computadores"},{"location":"#freebsd-debian","text":"Algumas configura\u00e7\u00f5es b\u00e1sicas necess\u00e1rias para o correto funcionamento de equipamentos conectados a redes, que tem por objetivo compreender as configura\u00e7\u00f5es b\u00e1sicas para navegabilidade em uma rede de computadores, exercitar configura\u00e7\u00f5es b\u00e1sicas e entender como usar ferramentas de diagn\u00f3stico para validar configura\u00e7\u00f5es.","title":"FreeBSD | Debian"},{"location":"#pratica-de-laboratorio-02-depuracao-de-problemas-na-camada-de-aplicacao","text":"","title":"Pr\u00e1tica de Laborat\u00f3rio 02 - Depura\u00e7\u00e3o de Problemas na Camada de Aplica\u00e7\u00e3o"},{"location":"#freebsd-debian_1","text":"Conjunto m\u00ednimo de ferramentas para permitir a execu\u00e7\u00e3o de um diagn\u00f3stico preciso ao se encarar uma situa\u00e7\u00e3o de interrup\u00e7\u00e3o ou instabilidade de servi\u00e7o t\u00edpico de camada de aplica\u00e7\u00e3o, que tem por objetivo exercitar uma comunica\u00e7\u00e3o t\u00edpica HTTP e SMTP por meio de ferramentas de diagn\u00f3sticos e exercitar as configura\u00e7\u00f5es de rede, especialmente no que tange ao servi\u00e7o de resolu\u00e7\u00e3o de nomes.","title":"FreeBSD | Debian"},{"location":"#pratica-de-laboratorio-03-depuracao-de-problemas-na-camada-de-transporte","text":"","title":"Pr\u00e1tica de Laborat\u00f3rio 03 - Depura\u00e7\u00e3o de Problemas na Camada de Transporte"},{"location":"#freebsd-debian_2","text":"Conjunto m\u00ednimo de ferramentas para permitir a execu\u00e7\u00e3o de um diagn\u00f3stico preciso ao se encarar uma situa\u00e7\u00e3o de interrup\u00e7\u00e3o ou instabilidade de servi\u00e7o t\u00edpico de camada de transporte, que tem por objetivo exercitar uma comunica\u00e7\u00e3o t\u00edpica TCP por meio de ferramentas de diagn\u00f3stico.","title":"FreeBSD | Debian"},{"location":"#pratica-de-laboratorio-04-depuracao-de-problemas-na-camada-de-internet","text":"","title":"Pr\u00e1tica de Laborat\u00f3rio 04 - Depura\u00e7\u00e3o de Problemas na Camada de Internet"},{"location":"#freebsd-debian_3","text":"Conjunto m\u00ednimo de ferramentas para permitir a execu\u00e7\u00e3o de um diagn\u00f3stico preciso ao se encarar uma situa\u00e7\u00e3o de interrup\u00e7\u00e3o ou instabilidade de servi\u00e7o t\u00edpico da camada de internet, que tem por objetivo exercitar as configura\u00e7\u00f5es b\u00e1sicas para navegabilidade em uma rede de computadores bem como usar ferramentas de diagn\u00f3stico para validar configura\u00e7\u00f5es e exercitar os princ\u00edpios b\u00e1sicos de uma comunica\u00e7\u00e3o em redes TCP/IP, com \u00eanfase nos servi\u00e7os t\u00edpicos da camada de internet, conhecer e manipular ferramentas de diagn\u00f3stico para fixa\u00e7\u00e3o de conceitos da camada de internet.","title":"FreeBSD | Debian"},{"location":"#pratica-de-laboratorio-05-camada-de-internet-dhcp","text":"","title":"Pr\u00e1tica de Laborat\u00f3rio 05 - Camada de Internet (DHCP)"},{"location":"#freebsd-debian_4","text":"Experimento que apresenta um dos mais \u00fateis servi\u00e7os de rede em uso nas redes TCP/IP hoje, \u00e9 implementado pelo protocolo DHCP ( Dynamic Host Configuration Protocol ), que tem por objetivo visualizar a import\u00e2ncia dos servi\u00e7os de atribui\u00e7\u00e3o din\u00e2mica de configura\u00e7\u00f5es e entender como funciona a implementa\u00e7\u00e3o do DHCP nos sistemas operacionais usados, e configur\u00e1-la.","title":"FreeBSD | Debian"},{"location":"#pratica-de-laboratorio-06-camada-de-internet-nat","text":"","title":"Pr\u00e1tica de Laborat\u00f3rio 06 - Camada de Internet (NAT)"},{"location":"#freebsd-debian_5","text":"Experimento que apresenta o NAT ( Network Address Translation ), um esquema que torna vi\u00e1vel montar uma rede endere\u00e7ada por meio de um conjunto de IPs restritos de forma que todos os hosts compartilham um n\u00famero pequeno de IPs v\u00e1lidos e, ainda sim, sejam capazes de manter conex\u00f5es regulares com equipamentos na Internet, que tem por objetivo visualizar a import\u00e2ncia dos servi\u00e7os de compartilhamento de IPs e entender como funciona a implementa\u00e7\u00e3o do NAT nos sistemas operacionais usados, e configur\u00e1-la.","title":"FreeBSD | Debian"},{"location":"#pratica-de-laboratorio-07-camada-de-rede-arp","text":"","title":"Pr\u00e1tica de Laborat\u00f3rio 07 - Camada de Rede (ARP)"},{"location":"#freebsd-debian_6","text":"Experimento que apresenta o ARP ( Address Resolution Protocol ), um servi\u00e7o de camada de enlace primordial para a adequada coopera\u00e7\u00e3o da pilha de protocolos sobre a qual reside a Internet, que tem por objetivo exercitar conceitos referentes \u00e0 camada de enlace e entender o papel do protocolo ARP e como acontecem suas intera\u00e7\u00f5es.","title":"FreeBSD | Debian"},{"location":"#pratica-de-laboratorio-08-firewall","text":"","title":"Pr\u00e1tica de Laborat\u00f3rio 08 - Firewall"},{"location":"#freebsd-debian_7","text":"Experimento que apresenta conceitos de firewall que consiste basicamente em bloquear tr\u00e1fego de dados indesejado e liberar acessos bem-vindos. Este experimento tem por objetivo entender como funciona a implementa\u00e7\u00e3o de firewalls nos sistemas operacionais usados.","title":"FreeBSD | Debian"},{"location":"#pratica-de-laboratorio-09-camada-de-aplicacao-proxy","text":"","title":"Pr\u00e1tica de Laborat\u00f3rio 09 - Camada de Aplica\u00e7\u00e3o (Proxy)"},{"location":"#freebsd-debian_8","text":"Experimento que apresenta conceitos de proxy , que \u00e9 um servidor (um sistema de computador ou uma aplica\u00e7\u00e3o) que age como um intermedi\u00e1rio para requisi\u00e7\u00f5es de clientes solicitando recursos de outros servidores. Este experimento tem por objetivo permitir que os alunos tenham contato com regras de Proxy nos sistemas operacionais usados.","title":"FreeBSD | Debian"},{"location":"#pratica-de-laboratorio-10-camada-de-aplicacao-dns","text":"","title":"Pr\u00e1tica de Laborat\u00f3rio 10 - Camada de Aplica\u00e7\u00e3o (DNS)"},{"location":"#freebsd-debian_9","text":"Experimento que apresenta o DNS ( Domain Name System ), um importante componente da Internet, respons\u00e1vel por fazer a tradu\u00e7\u00e3o de nomes de dom\u00ednio para endere\u00e7os IP e vice-versa, que tem por objetivo demonstrar o funcionamento do DNS e sua import\u00e2ncia na Internet, mostrar como configurar um servidor DNS nos sistemas operacionais usados e verificar o funcionamento do servidor DNS atrav\u00e9s de consultas por meio de utilit\u00e1rios.","title":"FreeBSD | Debian"},{"location":"#pratica-de-laboratorio-11-introducao-ao-ipv6","text":"","title":"Pr\u00e1tica de Laborat\u00f3rio 11 - Introdu\u00e7\u00e3o ao IPv6"},{"location":"#freebsd-debian_10","text":"Experimento pr\u00e1tico que apresenta como configurar o IPv6 nos sistemas operacionais usados atrav\u00e9s da utiliza\u00e7\u00e3o de comandos e configura\u00e7\u00f5es no arquivo de configura\u00e7\u00e3o de rede, que tem por objetivo compreender as configura\u00e7\u00f5es b\u00e1sicas para navegabilidade em uma rede de computadores utilizando o IPv6 e exercitar configura\u00e7\u00f5es b\u00e1sicas e entender como usar ferramentas de diagn\u00f3stico para validar configura\u00e7\u00f5es.","title":"FreeBSD | Debian"},{"location":"#tecnologias-usadas-nos-experimentos","text":"Os experimentos s\u00e3o desenvolvidos para serem executados em equipamentos f\u00edsicos que possuem FreeBSD ou Debian como sistema operacional.","title":"Tecnologias usadas nos experimentos"},{"location":"debian/experimento_01/","text":"Introdu\u00e7\u00e3o \u00e0s Redes de Computadores Pr\u00e1tica de Laborat\u00f3rio 01 Introdu\u00e7\u00e3o \u00e0s Redes de Computadores Introdu\u00e7\u00e3o Algumas configura\u00e7\u00f5es b\u00e1sicas necess\u00e1rias para o correto funcionamento de equipamentos conectados a redes. Objetivos Compreender as configura\u00e7\u00f5es b\u00e1sicas para navegabilidade em uma rede de computadores. Exercitar configura\u00e7\u00f5es b\u00e1sicas e entender como usar ferramentas de diagn\u00f3stico para validar configura\u00e7\u00f5es. Teoria abordada no experimento Funcionamento b\u00e1sico de uma rede TCP/IP. Material Necess\u00e1rio Interfaces de rede (NIC's) M\u00e1quinas com sistema GNU/Linux Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente GNU/Linux b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Desligar o servidor e cliente DHCP para as m\u00e1quinas do experimento Ferramentas de diagn\u00f3stico: ifconfig , ping Roteiro 1. Montagem de rede interconectada para o experimento H1 (192.168.1.3), H2 (192.168.1.2) e R/eth0 (192.168.1.1). 2. Configurar os clientes na rede de testes Certifique-se que eventuais servi\u00e7os de suporte \u00e0s configura\u00e7\u00f5es de rede estejam desativados. No Debian, execute o seguinte comando (com conta de superusu\u00e1rio): $ service network-manager stop No Debian, configure o arquivo interfaes ( /etc/network/interfaces ) e ponha a interface em quest\u00e3o configur\u00e1vel de forma est\u00e1tica, modificando o arquivo para que ele fique semelhante as linhas abaixo: auto eth0 iface eth0 inet static address 192.168.1.3 netmask 255.255.255.0 gateway 192.168.1.1 \u00c9 poss\u00edvel que o equipamento usado para testes possua uma designa\u00e7\u00e3o de interface de rede diferente de eth0. \u00c9 praxe eth0 ser vinculada \u00e0 primeira interface de rede Ethernet do computador que executa o kernel do Linux. Dispondo de privil\u00e9gios de superusu\u00e1rio, execute o seguinte comando para for\u00e7ar a configura\u00e7\u00e3o da mesma: $ ifup <interface> ATEN\u00c7\u00c3O: substitua <interface> pelo identificador da interface de rede do equipamento de testes. Em seguida, para verificar o endere\u00e7o configurado, use o comando: $ ifconfig Tamb\u00e9m \u00e9 poss\u00edvel executar os seguintes comandos para configura\u00e7\u00e3o das interfaces de rede: $ # ifconfig interface-name IP-address netmask Netmask $ ifconfig eth0 192.168.1.3 netmask 255.255.255.0 $ route add default 192.168.1.1 $ route -n 3. Validando as configura\u00e7\u00f5es Confira a conectividade b\u00e1sica enviando pacotes ICMP para algum outro computador que esteja conectado \u00e0 mesma rede: $ ping <IP-address> Confira as configura\u00e7\u00f5es de roteamento enviando pacotes ICMP para algum outro computador que esteja conectado \u00e0 outra rede. $ ping <IP-address> Como proceder para configurar o esquema de resolu\u00e7\u00e3o de nomes? A maioria dos sistemas operacionais possuem ferramentas de aux\u00edlio \u00e0 configura\u00e7\u00e3o de placas de redes. Execute os passos anteriores usando a ferramenta dispon\u00edvel em seu sistema operacional. Obs.: Esse tipo de configura\u00e7\u00e3o explorada no experimento \u00e9 chamada de Manual ou Est\u00e1tica . Quest\u00f5es para Estudo H\u00e1 alguma forma mais simples de se realizar a configura\u00e7\u00e3o dos equipamentos para que sejam devidamente conectados \u00e0 rede? Qual \u00e9 a lista m\u00ednima de informa\u00e7\u00f5es necess\u00e1rias para que determinado equipamento fique plenamente operacional em uma rede? O que acontece quando alguma das informa\u00e7\u00f5es necess\u00e1rias \u00e9 suprimida? Elabore melhor os cen\u00e1rios. Refer\u00eancias Bibliogr\u00e1ficas vitux.com. Network Configuration in Debian 11. Data desconhecida. Vitux. Dispon\u00edvel em: https://vitux.com/network-configuration-in-debian/. Acesso em: 10 jan. de 2023. debian.org. ping(8). Debian Manpages, 2022. Dispon\u00edvel em: hhttps://manpages.debian.org/testing/iputils-ping/ping.8.en.html. Acesso em: 10 jan. 2023. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Introdu\u00e7\u00e3o \u00e0s Redes de Computadores"},{"location":"debian/experimento_01/#introducao-as-redes-de-computadores","text":"Pr\u00e1tica de Laborat\u00f3rio 01 Introdu\u00e7\u00e3o \u00e0s Redes de Computadores","title":"Introdu\u00e7\u00e3o \u00e0s Redes de Computadores"},{"location":"debian/experimento_01/#introducao","text":"Algumas configura\u00e7\u00f5es b\u00e1sicas necess\u00e1rias para o correto funcionamento de equipamentos conectados a redes.","title":"Introdu\u00e7\u00e3o"},{"location":"debian/experimento_01/#objetivos","text":"Compreender as configura\u00e7\u00f5es b\u00e1sicas para navegabilidade em uma rede de computadores. Exercitar configura\u00e7\u00f5es b\u00e1sicas e entender como usar ferramentas de diagn\u00f3stico para validar configura\u00e7\u00f5es.","title":"Objetivos"},{"location":"debian/experimento_01/#teoria-abordada-no-experimento","text":"Funcionamento b\u00e1sico de uma rede TCP/IP.","title":"Teoria abordada no experimento"},{"location":"debian/experimento_01/#material-necessario","text":"Interfaces de rede (NIC's) M\u00e1quinas com sistema GNU/Linux Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente GNU/Linux b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Desligar o servidor e cliente DHCP para as m\u00e1quinas do experimento Ferramentas de diagn\u00f3stico: ifconfig , ping","title":"Material Necess\u00e1rio"},{"location":"debian/experimento_01/#roteiro","text":"","title":"Roteiro"},{"location":"debian/experimento_01/#1-montagem-de-rede-interconectada-para-o-experimento","text":"H1 (192.168.1.3), H2 (192.168.1.2) e R/eth0 (192.168.1.1).","title":"1. Montagem de rede interconectada para o experimento"},{"location":"debian/experimento_01/#2-configurar-os-clientes-na-rede-de-testes","text":"Certifique-se que eventuais servi\u00e7os de suporte \u00e0s configura\u00e7\u00f5es de rede estejam desativados. No Debian, execute o seguinte comando (com conta de superusu\u00e1rio): $ service network-manager stop No Debian, configure o arquivo interfaes ( /etc/network/interfaces ) e ponha a interface em quest\u00e3o configur\u00e1vel de forma est\u00e1tica, modificando o arquivo para que ele fique semelhante as linhas abaixo: auto eth0 iface eth0 inet static address 192.168.1.3 netmask 255.255.255.0 gateway 192.168.1.1 \u00c9 poss\u00edvel que o equipamento usado para testes possua uma designa\u00e7\u00e3o de interface de rede diferente de eth0. \u00c9 praxe eth0 ser vinculada \u00e0 primeira interface de rede Ethernet do computador que executa o kernel do Linux. Dispondo de privil\u00e9gios de superusu\u00e1rio, execute o seguinte comando para for\u00e7ar a configura\u00e7\u00e3o da mesma: $ ifup <interface> ATEN\u00c7\u00c3O: substitua <interface> pelo identificador da interface de rede do equipamento de testes. Em seguida, para verificar o endere\u00e7o configurado, use o comando: $ ifconfig Tamb\u00e9m \u00e9 poss\u00edvel executar os seguintes comandos para configura\u00e7\u00e3o das interfaces de rede: $ # ifconfig interface-name IP-address netmask Netmask $ ifconfig eth0 192.168.1.3 netmask 255.255.255.0 $ route add default 192.168.1.1 $ route -n","title":"2. Configurar os clientes na rede de testes"},{"location":"debian/experimento_01/#3-validando-as-configuracoes","text":"Confira a conectividade b\u00e1sica enviando pacotes ICMP para algum outro computador que esteja conectado \u00e0 mesma rede: $ ping <IP-address> Confira as configura\u00e7\u00f5es de roteamento enviando pacotes ICMP para algum outro computador que esteja conectado \u00e0 outra rede. $ ping <IP-address> Como proceder para configurar o esquema de resolu\u00e7\u00e3o de nomes? A maioria dos sistemas operacionais possuem ferramentas de aux\u00edlio \u00e0 configura\u00e7\u00e3o de placas de redes. Execute os passos anteriores usando a ferramenta dispon\u00edvel em seu sistema operacional. Obs.: Esse tipo de configura\u00e7\u00e3o explorada no experimento \u00e9 chamada de Manual ou Est\u00e1tica .","title":"3. Validando as configura\u00e7\u00f5es"},{"location":"debian/experimento_01/#questoes-para-estudo","text":"H\u00e1 alguma forma mais simples de se realizar a configura\u00e7\u00e3o dos equipamentos para que sejam devidamente conectados \u00e0 rede? Qual \u00e9 a lista m\u00ednima de informa\u00e7\u00f5es necess\u00e1rias para que determinado equipamento fique plenamente operacional em uma rede? O que acontece quando alguma das informa\u00e7\u00f5es necess\u00e1rias \u00e9 suprimida? Elabore melhor os cen\u00e1rios.","title":"Quest\u00f5es para Estudo"},{"location":"debian/experimento_01/#referencias-bibliograficas","text":"vitux.com. Network Configuration in Debian 11. Data desconhecida. Vitux. Dispon\u00edvel em: https://vitux.com/network-configuration-in-debian/. Acesso em: 10 jan. de 2023. debian.org. ping(8). Debian Manpages, 2022. Dispon\u00edvel em: hhttps://manpages.debian.org/testing/iputils-ping/ping.8.en.html. Acesso em: 10 jan. 2023. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Refer\u00eancias Bibliogr\u00e1ficas"},{"location":"debian/experimento_02/","text":"Depura\u00e7\u00e3o de Problemas na Camada de Aplica\u00e7\u00e3o Pr\u00e1tica de Laborat\u00f3rio 02 Depura\u00e7\u00e3o de Problemas na Camada de Aplica\u00e7\u00e3o Introdu\u00e7\u00e3o Quando um computador est\u00e1 devidamente configurado em uma rede de computadores, \u00e9 interessante que ele se comunique com outros equipamentos para o provimento de servi\u00e7os a usu\u00e1rios. Portanto, este experimento apresenta um conjunto m\u00ednimo de ferramentas que permitir\u00e3o a execu\u00e7\u00e3o de um diagn\u00f3stico preciso ao se encarar uma situa\u00e7\u00e3o de interrup\u00e7\u00e3o ou instabilidade de servi\u00e7o t\u00edpico de camada de aplica\u00e7\u00e3o. Objetivos Exercitar uma comunica\u00e7\u00e3o t\u00edpica HTTP por meio de ferramenta de diagn\u00f3stico ( telnet ). Exercitar o in\u00edcio de uma comunica\u00e7\u00e3o t\u00edpica SMTP por meio de ferramenta de diagn\u00f3stico ( telnet ). Exercitar as configura\u00e7\u00f5es de rede, especialmente no que tange ao servi\u00e7o de resolu\u00e7\u00e3o de nomes. Teoria abordada no experimento Funcionamento b\u00e1sico de uma rede TCP/IP. Protocolos da Camada de Aplica\u00e7\u00e3o. Material Necess\u00e1rio Interfaces de rede (NIC's) M\u00e1quinas com sistema GNU/Linux Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente GNU/Linux b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Servidores HTTP, DNS e SMTP devidamente configurados Ferramentas de diagn\u00f3stico: ifconfig , ping , nslookup , telnet Roteiro 1. Montagem de rede interconectada para o experimento H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4), H4 (192.168.1.5) e R/eth0 (192.168.1.1). Nessa topologia, haver\u00e1 equipamentos que prover\u00e3o os servi\u00e7os necess\u00e1rios \u00e0s pr\u00e1ticas da aula: DNS, HTTP e SMTP. 2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es Certifique-se que eventuais servi\u00e7os de suporte \u00e0s configura\u00e7\u00f5es de rede estejam desativados. Lembre-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 . 3. Intera\u00e7\u00f5es com o servi\u00e7o de resolu\u00e7\u00e3o de nomes (DNS) Confira se seu equipamento \u00e9 capaz de executar a resolu\u00e7\u00e3o de nomes usando DNS. Para tanto execute: $ nslookup nome_do_host opt_servidor_dns ATEN\u00c7\u00c3O: O par\u00e2metro opt_servidor_dns \u00e9 opcional. Execute o comando sem indicar esse par\u00e2metro inicialmente. Pesquise sobre o arquivo /etc/hosts e seu papel no processo de resolu\u00e7\u00e3o de nomes. 4. Intera\u00e7\u00f5es com o servi\u00e7o HTTP Usando os conceitos que foram estudados sobre o protocolo HTTP, use a ferramenta telnet para obter um objeto de determinado site HTTP. $ telnet nome_do_host numero_da_porta Uma vez aberto o socket, envie o seguinte comando para obter o objeto index.html : GET /index.html HTTP/1.1 Posteriormente, troque o comando GET pelo comando HEAD. Indique tamb\u00e9m o nome de outro objeto e observe o resultado do comando. 5. Intera\u00e7\u00f5es com o servi\u00e7o SMTP Usando os conceitos que foram estudados sobre o protocolo SMTP, use a ferramenta telnet para obter um objeto de determinado site HTTP. $ telnet nome_do_host numero_da_porta Uma vez aberto o socket, envie o seguinte comando para iniciar uma transa\u00e7\u00e3o SMTP HELO DESAFIO : Usando os conceitos sobre Camada de Aplica\u00e7\u00e3o, use o comando telnet para enviar um e-mail a um usu\u00e1rio de determinado servidor de e-mail. Quest\u00f5es para Estudo Em rela\u00e7\u00e3o ao servi\u00e7o de resolu\u00e7\u00e3o de nomes, h\u00e1 um par\u00e2metro opcional a ser indicado ao comando nslookup . Em que contexto \u00e9 conveniente indicar um valor para esse par\u00e2metro? Qual \u00e9 o papel do arquivo /etc/hosts no processo de resolu\u00e7\u00e3o de nomes? Em rela\u00e7\u00e3o \u00e0s intera\u00e7\u00f5es com o protocolo HTTP, foi poss\u00edvel identificar o cabe\u00e7alho de uma requisi\u00e7\u00e3o t\u00edpica? Em rela\u00e7\u00e3o \u00e0s respostas do servidor, identifique os campos t\u00edpicos da resposta incluindo descri\u00e7\u00f5es sobre as linhas de cabe\u00e7alho e o campo de payload . Em v\u00e1rios dos protocolos ora estudados, foi presenciada uma etapa de autoriza\u00e7\u00e3o que preparava uma sess\u00e3o para a recep\u00e7\u00e3o de comandos de determinado cliente. O SMTP demonstrou-se um protocolo que n\u00e3o demanda uma etapa de autoriza\u00e7\u00e3o. Em que momento isso acontece? O fato de essa etapa ser suprimida resulta em algum risco para um servi\u00e7o de e-mail? Refer\u00eancias Bibliogr\u00e1ficas Brasil, HSC. Saiba o que \u00e9 e como funciona o protocolo SMTP. hscbrasil, 2019. Dispon\u00edvel em: https://www.hscbrasil.com.br/protocolo-smtp/. Acesso em: 11 dez. de 2022. Costa, Matheus. O que \u00e9 HTTP. canaltech, 2019. Dispon\u00edvel em: https://canaltech.com.br/internet/o-que-e-http/. Acesso em: 11 dez. de 2022. Reynolds, Luke. Send an email using Telnet. linuxconfig, 2021. Dispon\u00edvel em: https://linuxconfig.org/send-an-email-using-telnet. Acesso em: 11 dez. de 2022. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Depura\u00e7\u00e3o de Problemas na Camada de Aplica\u00e7\u00e3o"},{"location":"debian/experimento_02/#depuracao-de-problemas-na-camada-de-aplicacao","text":"Pr\u00e1tica de Laborat\u00f3rio 02 Depura\u00e7\u00e3o de Problemas na Camada de Aplica\u00e7\u00e3o","title":"Depura\u00e7\u00e3o de Problemas na Camada de Aplica\u00e7\u00e3o"},{"location":"debian/experimento_02/#introducao","text":"Quando um computador est\u00e1 devidamente configurado em uma rede de computadores, \u00e9 interessante que ele se comunique com outros equipamentos para o provimento de servi\u00e7os a usu\u00e1rios. Portanto, este experimento apresenta um conjunto m\u00ednimo de ferramentas que permitir\u00e3o a execu\u00e7\u00e3o de um diagn\u00f3stico preciso ao se encarar uma situa\u00e7\u00e3o de interrup\u00e7\u00e3o ou instabilidade de servi\u00e7o t\u00edpico de camada de aplica\u00e7\u00e3o.","title":"Introdu\u00e7\u00e3o"},{"location":"debian/experimento_02/#objetivos","text":"Exercitar uma comunica\u00e7\u00e3o t\u00edpica HTTP por meio de ferramenta de diagn\u00f3stico ( telnet ). Exercitar o in\u00edcio de uma comunica\u00e7\u00e3o t\u00edpica SMTP por meio de ferramenta de diagn\u00f3stico ( telnet ). Exercitar as configura\u00e7\u00f5es de rede, especialmente no que tange ao servi\u00e7o de resolu\u00e7\u00e3o de nomes.","title":"Objetivos"},{"location":"debian/experimento_02/#teoria-abordada-no-experimento","text":"Funcionamento b\u00e1sico de uma rede TCP/IP. Protocolos da Camada de Aplica\u00e7\u00e3o.","title":"Teoria abordada no experimento"},{"location":"debian/experimento_02/#material-necessario","text":"Interfaces de rede (NIC's) M\u00e1quinas com sistema GNU/Linux Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente GNU/Linux b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Servidores HTTP, DNS e SMTP devidamente configurados Ferramentas de diagn\u00f3stico: ifconfig , ping , nslookup , telnet","title":"Material Necess\u00e1rio"},{"location":"debian/experimento_02/#roteiro","text":"","title":"Roteiro"},{"location":"debian/experimento_02/#1-montagem-de-rede-interconectada-para-o-experimento","text":"H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4), H4 (192.168.1.5) e R/eth0 (192.168.1.1). Nessa topologia, haver\u00e1 equipamentos que prover\u00e3o os servi\u00e7os necess\u00e1rios \u00e0s pr\u00e1ticas da aula: DNS, HTTP e SMTP.","title":"1. Montagem de rede interconectada para o experimento"},{"location":"debian/experimento_02/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","text":"Certifique-se que eventuais servi\u00e7os de suporte \u00e0s configura\u00e7\u00f5es de rede estejam desativados. Lembre-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 .","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es"},{"location":"debian/experimento_02/#3-interacoes-com-o-servico-de-resolucao-de-nomes-dns","text":"Confira se seu equipamento \u00e9 capaz de executar a resolu\u00e7\u00e3o de nomes usando DNS. Para tanto execute: $ nslookup nome_do_host opt_servidor_dns ATEN\u00c7\u00c3O: O par\u00e2metro opt_servidor_dns \u00e9 opcional. Execute o comando sem indicar esse par\u00e2metro inicialmente. Pesquise sobre o arquivo /etc/hosts e seu papel no processo de resolu\u00e7\u00e3o de nomes.","title":"3. Intera\u00e7\u00f5es com o servi\u00e7o de resolu\u00e7\u00e3o de nomes (DNS)"},{"location":"debian/experimento_02/#4-interacoes-com-o-servico-http","text":"Usando os conceitos que foram estudados sobre o protocolo HTTP, use a ferramenta telnet para obter um objeto de determinado site HTTP. $ telnet nome_do_host numero_da_porta Uma vez aberto o socket, envie o seguinte comando para obter o objeto index.html : GET /index.html HTTP/1.1 Posteriormente, troque o comando GET pelo comando HEAD. Indique tamb\u00e9m o nome de outro objeto e observe o resultado do comando.","title":"4. Intera\u00e7\u00f5es com o servi\u00e7o HTTP"},{"location":"debian/experimento_02/#5-interacoes-com-o-servico-smtp","text":"Usando os conceitos que foram estudados sobre o protocolo SMTP, use a ferramenta telnet para obter um objeto de determinado site HTTP. $ telnet nome_do_host numero_da_porta Uma vez aberto o socket, envie o seguinte comando para iniciar uma transa\u00e7\u00e3o SMTP HELO DESAFIO : Usando os conceitos sobre Camada de Aplica\u00e7\u00e3o, use o comando telnet para enviar um e-mail a um usu\u00e1rio de determinado servidor de e-mail.","title":"5. Intera\u00e7\u00f5es com o servi\u00e7o SMTP"},{"location":"debian/experimento_02/#questoes-para-estudo","text":"Em rela\u00e7\u00e3o ao servi\u00e7o de resolu\u00e7\u00e3o de nomes, h\u00e1 um par\u00e2metro opcional a ser indicado ao comando nslookup . Em que contexto \u00e9 conveniente indicar um valor para esse par\u00e2metro? Qual \u00e9 o papel do arquivo /etc/hosts no processo de resolu\u00e7\u00e3o de nomes? Em rela\u00e7\u00e3o \u00e0s intera\u00e7\u00f5es com o protocolo HTTP, foi poss\u00edvel identificar o cabe\u00e7alho de uma requisi\u00e7\u00e3o t\u00edpica? Em rela\u00e7\u00e3o \u00e0s respostas do servidor, identifique os campos t\u00edpicos da resposta incluindo descri\u00e7\u00f5es sobre as linhas de cabe\u00e7alho e o campo de payload . Em v\u00e1rios dos protocolos ora estudados, foi presenciada uma etapa de autoriza\u00e7\u00e3o que preparava uma sess\u00e3o para a recep\u00e7\u00e3o de comandos de determinado cliente. O SMTP demonstrou-se um protocolo que n\u00e3o demanda uma etapa de autoriza\u00e7\u00e3o. Em que momento isso acontece? O fato de essa etapa ser suprimida resulta em algum risco para um servi\u00e7o de e-mail?","title":"Quest\u00f5es para Estudo"},{"location":"debian/experimento_02/#referencias-bibliograficas","text":"Brasil, HSC. Saiba o que \u00e9 e como funciona o protocolo SMTP. hscbrasil, 2019. Dispon\u00edvel em: https://www.hscbrasil.com.br/protocolo-smtp/. Acesso em: 11 dez. de 2022. Costa, Matheus. O que \u00e9 HTTP. canaltech, 2019. Dispon\u00edvel em: https://canaltech.com.br/internet/o-que-e-http/. Acesso em: 11 dez. de 2022. Reynolds, Luke. Send an email using Telnet. linuxconfig, 2021. Dispon\u00edvel em: https://linuxconfig.org/send-an-email-using-telnet. Acesso em: 11 dez. de 2022. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Refer\u00eancias Bibliogr\u00e1ficas"},{"location":"debian/experimento_03/","text":"Depura\u00e7\u00e3o de Problemas na Camada de Transporte Pr\u00e1tica de Laborat\u00f3rio 03 Depura\u00e7\u00e3o de Problemas na Camada de Transporte Introdu\u00e7\u00e3o Para que haja uma conex\u00e3o por meio de um canal de transmiss\u00e3o confi\u00e1vel, \u00e9 necess\u00e1rio uma s\u00e9rie de mecanismos que protegem a comunica\u00e7\u00e3o quanto a efeitos adversos do meio de transmiss\u00e3o: corrup\u00e7\u00e3o de dados; congestionamentos e perdas de pacote. Portanto, este experimento apresenta um conjunto m\u00ednimo de ferramentas que permitir\u00e3o a execu\u00e7\u00e3o de um diagn\u00f3stico preciso ao se encarar uma situa\u00e7\u00e3o de interrup\u00e7\u00e3o ou instabilidade de servi\u00e7o t\u00edpico de camada de transporte. Objetivos Exercitar uma comunica\u00e7\u00e3o t\u00edpica TCP por meio de ferramentas de diagn\u00f3stico ( telnet , netcat , netstat e nmap ). Teoria abordada no experimento Funcionamento b\u00e1sico de uma rede TCP/IP. Protocolos de Camada de Transporte. Material Necess\u00e1rio Interfaces de rede (NIC's) M\u00e1quinas com sistema GNU/Linux Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente GNU/Linux b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Servidores HTTP, DNS e SMTP devidamente configurados Ferramentas de diagn\u00f3stico: telnet , nmap , netcat e netstat Roteiro 1. Montagem de rede interconectada para o experimento H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4), H4 (192.168.1.5) e R/eth0 (192.168.1.1). Nessa topologia, haver\u00e1 equipamentos que prover\u00e3o os servi\u00e7os necess\u00e1rios \u00e0s pr\u00e1ticas da aula: DNS, HTTP e SMTP. 2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es Certifique-se que eventuais servi\u00e7os de suporte \u00e0s configura\u00e7\u00f5es de rede estejam desativados. Lembre-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 . 3. Abertura de um socket servidor Usando um dos computadores dispon\u00edveis para o experimento e usando privil\u00e9gios administrativos , habilite um socket TCP em estado de escuta. Como ferramenta de apoio, use a aplica\u00e7\u00e3o netcat . Para tanto execute: $ nc -l numero_da_porta Para validar a abertura do socket servidor, utilize, no sistema operacional Linux o seguinte comando: $ netstat -lptn ATEN\u00c7\u00c3O: A ferramenta netcat precisa continuar executando a escuta do socket TCP para que o comando netstat -lptn o encontre. Portanto, abra outro terminal para executar o segundo comando. Esse comando ir\u00e1 exibir todos os processos ( -p ), em estado de escuta ( -l ) e que abriram portas com transporte TCP ( -t ). Execute os pr\u00f3ximos passos apenas se for poss\u00edvel identificar o processo da aplica\u00e7\u00e3o netcat vinculado \u00e0 porta indicada. 4. Intera\u00e7\u00f5es com o socket servidor Na pr\u00e1tica sobre camada de aplica\u00e7\u00e3o, usamos a aplica\u00e7\u00e3o telnet . Essa ferramenta \u00e9 capaz de abrir sockets TCP cliente a servidores. Partindo do princ\u00edpio que h\u00e1 um equipamento em que est\u00e1 aberta uma porta em estado de escuta, ou seja, h\u00e1 um socket servidor de uma aplica\u00e7\u00e3o, utilize a ferramenta telnet para se conectar a esse servidor. Apenas relembrando a sintaxe esperada para execu\u00e7\u00f5es do telnet : $ telnet nome_do_host numero_da_porta Uma vez aberto o socket, envie bytes atrav\u00e9s da digita\u00e7\u00e3o de caracteres do teclado. Para demandar o envido, pressione a tecla ENTER ap\u00f3s as digita\u00e7\u00f5es. 5. Identifica\u00e7\u00e3o de servi\u00e7os dispon\u00edveis em um host \u00c0s vezes, faz-se necess\u00e1rio verificar se h\u00e1 servi\u00e7os em execu\u00e7\u00e3o em determinado host conectado \u00e0 rede. Por\u00e9m, diferentemente do cen\u00e1rio apresentado na etapa 3 , h\u00e1 situa\u00e7\u00f5es em que n\u00e3o se ter\u00e1 acesso administrativo (ou f\u00edsico) ao equipamento a ser analisado. Nesse contexto, ser\u00e1 necess\u00e1rio empreender um teste do tipo caixa-preta para verificar se determinados servi\u00e7os est\u00e3o ativos. Na verdade, no contexto da camada de transporte, o teste verificar\u00e1 se determinadas portas est\u00e3o abertas e em estado de escuta no equipamento sobre testes. As ferramentas at\u00e9 ent\u00e3o estudadas s\u00e3o capazes de auxiliar o t\u00e9cnico nessa atividade de identifica\u00e7\u00e3o de servi\u00e7os ativos, por\u00e9m demandar\u00e3o uma s\u00e9rie de intera\u00e7\u00f5es do operador ou mesmo a programa\u00e7\u00e3o de scripts que ser\u00e3o executados para varrer determinados conjuntos de par\u00e2metros de interesse. Como as redes TCP/IP j\u00e1 est\u00e3o em produ\u00e7\u00e3o h\u00e1 algumas d\u00e9cadas, \u00e9 natural que algumas ferramentas mais maduras e integradas estejam dispon\u00edveis para a identifica\u00e7\u00e3o mais imediata dos servi\u00e7os dispon\u00edveis. Uma dessas ferramentas \u00e9 o nmap . Para varrer quais s\u00e3o os servi\u00e7os ativos em determinado host, executa-se o seguinte comando: $ nmap nome_do_host \u00c9 poss\u00edvel demandar uma varredura de um conjunto de equipamentos, por exemplo, todos os equipamentos pertencentes a uma rede. Basta alterar o comando acima da seguinte maneira: $ nmap faixa_de_ip onde faixa_de_ip pode ser uma faixa por intervalos (como 192.168.1.1-20, o que contemplaria todos os IPs entre 192.168.1.1 e 192.168.1.20) ou mesmo a indica\u00e7\u00e3o de uma subrede usando nota\u00e7\u00e3o CIDR. Quest\u00f5es para Estudo A porta de um servidor que prov\u00ea aplica\u00e7\u00f5es sobre TCP pode se encontrar em diferentes estados. Quais s\u00e3o esses estados e como evolui a comunica\u00e7\u00e3o entre um cliente e um servidor TCP quando a porta se apresenta em cada um dos estados poss\u00edveis? Que tipo de informa\u00e7\u00f5es o arquivo /etc/services prov\u00ea? Que tipo de ferramentas voc\u00ea recomendaria para a repeti\u00e7\u00e3o dos mesmos procedimentos sobre UDP? Em rela\u00e7\u00e3o \u00e0 etapa 4 do presente roteiro, descreva o que se observou durante as intera\u00e7\u00f5es com o socket servidor. Como voc\u00ea implementaria um transmissor b\u00e1sico de arquivos usando apenas as ferramentas executadas nesse experimento? O nmap \u00e9 considerado uma ferramenta extremamente poderosa. Como voc\u00ea a utilizaria para identificar quais s\u00e3o os equipamentos que est\u00e3o ativos e em execu\u00e7\u00e3o em uma rede? Refer\u00eancias Bibliogr\u00e1ficas GITE, Vivek. How to check open ports in Linux using the CLI. Cyberciti, 2022. Dispon\u00edvel em: https://www.cyberciti.biz/faq/how-to-check-open-ports-in-linux-using-the-cli/. Acesso em: 11 jan. de 2023. ELLINGWOOD, Justin. How To Use Netcat to Establish and Test TCP and UDP Connections. Digital Ocean, 2021. Dispon\u00edvel em: https://www.digitalocean.com/community/tutorials/how-to-use-netcat-to-establish-and-test-tcp-and-udp-connections. Acesso em: 11 dez. de 2022. SHIVANANDHAN, Manish. What is Nmap and How to Use it \u2013 A Tutorial for the Greatest Scanning Tool of All Time. FreeCodeCamp, 2021. Dispon\u00edvel em: https://www.freecodecamp.org/news/what-is-nmap-and-how-to-use-it-a-tutorial-for-the-greatest-scanning-tool-of-all-time/. Acesso em: 11 dez. de 2022. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Depura\u00e7\u00e3o de Problemas na Camada de Transporte"},{"location":"debian/experimento_03/#depuracao-de-problemas-na-camada-de-transporte","text":"Pr\u00e1tica de Laborat\u00f3rio 03 Depura\u00e7\u00e3o de Problemas na Camada de Transporte","title":"Depura\u00e7\u00e3o de Problemas na Camada de Transporte"},{"location":"debian/experimento_03/#introducao","text":"Para que haja uma conex\u00e3o por meio de um canal de transmiss\u00e3o confi\u00e1vel, \u00e9 necess\u00e1rio uma s\u00e9rie de mecanismos que protegem a comunica\u00e7\u00e3o quanto a efeitos adversos do meio de transmiss\u00e3o: corrup\u00e7\u00e3o de dados; congestionamentos e perdas de pacote. Portanto, este experimento apresenta um conjunto m\u00ednimo de ferramentas que permitir\u00e3o a execu\u00e7\u00e3o de um diagn\u00f3stico preciso ao se encarar uma situa\u00e7\u00e3o de interrup\u00e7\u00e3o ou instabilidade de servi\u00e7o t\u00edpico de camada de transporte.","title":"Introdu\u00e7\u00e3o"},{"location":"debian/experimento_03/#objetivos","text":"Exercitar uma comunica\u00e7\u00e3o t\u00edpica TCP por meio de ferramentas de diagn\u00f3stico ( telnet , netcat , netstat e nmap ).","title":"Objetivos"},{"location":"debian/experimento_03/#teoria-abordada-no-experimento","text":"Funcionamento b\u00e1sico de uma rede TCP/IP. Protocolos de Camada de Transporte.","title":"Teoria abordada no experimento"},{"location":"debian/experimento_03/#material-necessario","text":"Interfaces de rede (NIC's) M\u00e1quinas com sistema GNU/Linux Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente GNU/Linux b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Servidores HTTP, DNS e SMTP devidamente configurados Ferramentas de diagn\u00f3stico: telnet , nmap , netcat e netstat","title":"Material Necess\u00e1rio"},{"location":"debian/experimento_03/#roteiro","text":"","title":"Roteiro"},{"location":"debian/experimento_03/#1-montagem-de-rede-interconectada-para-o-experimento","text":"H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4), H4 (192.168.1.5) e R/eth0 (192.168.1.1). Nessa topologia, haver\u00e1 equipamentos que prover\u00e3o os servi\u00e7os necess\u00e1rios \u00e0s pr\u00e1ticas da aula: DNS, HTTP e SMTP.","title":"1. Montagem de rede interconectada para o experimento"},{"location":"debian/experimento_03/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","text":"Certifique-se que eventuais servi\u00e7os de suporte \u00e0s configura\u00e7\u00f5es de rede estejam desativados. Lembre-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 .","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es"},{"location":"debian/experimento_03/#3-abertura-de-um-socket-servidor","text":"Usando um dos computadores dispon\u00edveis para o experimento e usando privil\u00e9gios administrativos , habilite um socket TCP em estado de escuta. Como ferramenta de apoio, use a aplica\u00e7\u00e3o netcat . Para tanto execute: $ nc -l numero_da_porta Para validar a abertura do socket servidor, utilize, no sistema operacional Linux o seguinte comando: $ netstat -lptn ATEN\u00c7\u00c3O: A ferramenta netcat precisa continuar executando a escuta do socket TCP para que o comando netstat -lptn o encontre. Portanto, abra outro terminal para executar o segundo comando. Esse comando ir\u00e1 exibir todos os processos ( -p ), em estado de escuta ( -l ) e que abriram portas com transporte TCP ( -t ). Execute os pr\u00f3ximos passos apenas se for poss\u00edvel identificar o processo da aplica\u00e7\u00e3o netcat vinculado \u00e0 porta indicada.","title":"3. Abertura de um socket servidor"},{"location":"debian/experimento_03/#4-interacoes-com-o-socket-servidor","text":"Na pr\u00e1tica sobre camada de aplica\u00e7\u00e3o, usamos a aplica\u00e7\u00e3o telnet . Essa ferramenta \u00e9 capaz de abrir sockets TCP cliente a servidores. Partindo do princ\u00edpio que h\u00e1 um equipamento em que est\u00e1 aberta uma porta em estado de escuta, ou seja, h\u00e1 um socket servidor de uma aplica\u00e7\u00e3o, utilize a ferramenta telnet para se conectar a esse servidor. Apenas relembrando a sintaxe esperada para execu\u00e7\u00f5es do telnet : $ telnet nome_do_host numero_da_porta Uma vez aberto o socket, envie bytes atrav\u00e9s da digita\u00e7\u00e3o de caracteres do teclado. Para demandar o envido, pressione a tecla ENTER ap\u00f3s as digita\u00e7\u00f5es.","title":"4. Intera\u00e7\u00f5es com o socket servidor"},{"location":"debian/experimento_03/#5-identificacao-de-servicos-disponiveis-em-um-host","text":"\u00c0s vezes, faz-se necess\u00e1rio verificar se h\u00e1 servi\u00e7os em execu\u00e7\u00e3o em determinado host conectado \u00e0 rede. Por\u00e9m, diferentemente do cen\u00e1rio apresentado na etapa 3 , h\u00e1 situa\u00e7\u00f5es em que n\u00e3o se ter\u00e1 acesso administrativo (ou f\u00edsico) ao equipamento a ser analisado. Nesse contexto, ser\u00e1 necess\u00e1rio empreender um teste do tipo caixa-preta para verificar se determinados servi\u00e7os est\u00e3o ativos. Na verdade, no contexto da camada de transporte, o teste verificar\u00e1 se determinadas portas est\u00e3o abertas e em estado de escuta no equipamento sobre testes. As ferramentas at\u00e9 ent\u00e3o estudadas s\u00e3o capazes de auxiliar o t\u00e9cnico nessa atividade de identifica\u00e7\u00e3o de servi\u00e7os ativos, por\u00e9m demandar\u00e3o uma s\u00e9rie de intera\u00e7\u00f5es do operador ou mesmo a programa\u00e7\u00e3o de scripts que ser\u00e3o executados para varrer determinados conjuntos de par\u00e2metros de interesse. Como as redes TCP/IP j\u00e1 est\u00e3o em produ\u00e7\u00e3o h\u00e1 algumas d\u00e9cadas, \u00e9 natural que algumas ferramentas mais maduras e integradas estejam dispon\u00edveis para a identifica\u00e7\u00e3o mais imediata dos servi\u00e7os dispon\u00edveis. Uma dessas ferramentas \u00e9 o nmap . Para varrer quais s\u00e3o os servi\u00e7os ativos em determinado host, executa-se o seguinte comando: $ nmap nome_do_host \u00c9 poss\u00edvel demandar uma varredura de um conjunto de equipamentos, por exemplo, todos os equipamentos pertencentes a uma rede. Basta alterar o comando acima da seguinte maneira: $ nmap faixa_de_ip onde faixa_de_ip pode ser uma faixa por intervalos (como 192.168.1.1-20, o que contemplaria todos os IPs entre 192.168.1.1 e 192.168.1.20) ou mesmo a indica\u00e7\u00e3o de uma subrede usando nota\u00e7\u00e3o CIDR.","title":"5. Identifica\u00e7\u00e3o de servi\u00e7os dispon\u00edveis em um host"},{"location":"debian/experimento_03/#questoes-para-estudo","text":"A porta de um servidor que prov\u00ea aplica\u00e7\u00f5es sobre TCP pode se encontrar em diferentes estados. Quais s\u00e3o esses estados e como evolui a comunica\u00e7\u00e3o entre um cliente e um servidor TCP quando a porta se apresenta em cada um dos estados poss\u00edveis? Que tipo de informa\u00e7\u00f5es o arquivo /etc/services prov\u00ea? Que tipo de ferramentas voc\u00ea recomendaria para a repeti\u00e7\u00e3o dos mesmos procedimentos sobre UDP? Em rela\u00e7\u00e3o \u00e0 etapa 4 do presente roteiro, descreva o que se observou durante as intera\u00e7\u00f5es com o socket servidor. Como voc\u00ea implementaria um transmissor b\u00e1sico de arquivos usando apenas as ferramentas executadas nesse experimento? O nmap \u00e9 considerado uma ferramenta extremamente poderosa. Como voc\u00ea a utilizaria para identificar quais s\u00e3o os equipamentos que est\u00e3o ativos e em execu\u00e7\u00e3o em uma rede?","title":"Quest\u00f5es para Estudo"},{"location":"debian/experimento_03/#referencias-bibliograficas","text":"GITE, Vivek. How to check open ports in Linux using the CLI. Cyberciti, 2022. Dispon\u00edvel em: https://www.cyberciti.biz/faq/how-to-check-open-ports-in-linux-using-the-cli/. Acesso em: 11 jan. de 2023. ELLINGWOOD, Justin. How To Use Netcat to Establish and Test TCP and UDP Connections. Digital Ocean, 2021. Dispon\u00edvel em: https://www.digitalocean.com/community/tutorials/how-to-use-netcat-to-establish-and-test-tcp-and-udp-connections. Acesso em: 11 dez. de 2022. SHIVANANDHAN, Manish. What is Nmap and How to Use it \u2013 A Tutorial for the Greatest Scanning Tool of All Time. FreeCodeCamp, 2021. Dispon\u00edvel em: https://www.freecodecamp.org/news/what-is-nmap-and-how-to-use-it-a-tutorial-for-the-greatest-scanning-tool-of-all-time/. Acesso em: 11 dez. de 2022. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Refer\u00eancias Bibliogr\u00e1ficas"},{"location":"debian/experimento_04/","text":"Depura\u00e7\u00e3o de Problemas na Camada de Internet Pr\u00e1tica de Laborat\u00f3rio 04 Depura\u00e7\u00e3o de Problemas na Camada de Internet Introdu\u00e7\u00e3o Uma vez devidamente configurado, um equipamento que se comunica atrav\u00e9s de uma rede de computadores como a Internet, se faz \u00fatil ao interagir com outros equipamentos para o provimento de servi\u00e7os a usu\u00e1rios. O estudo sobre a Camada de Internet introduz v\u00e1rios protocolos que tipicamente d\u00e3o suporte \u00e0s aplica\u00e7\u00f5es em rede, que, por sua vez, prov\u00eam os servi\u00e7os que usamos diariamente. O conjunto de protocolos que cooperam no provimento dos servi\u00e7os t\u00edpicos de camada de internet podem ser separados em duas categorias: protocolos que geram tabelas de encaminhamento, os protocolos de roteamento, e os protocolos que utilizam as tabelas de encaminhamento. Antes de serem introduzidas ferramentas de inspe\u00e7\u00e3o de protocolos de diferentes camadas, faz-se necess\u00e1rio apresentar ao estudante um conjunto m\u00ednimo de ferramentas que permitir\u00e3o a execu\u00e7\u00e3o de um diagn\u00f3stico preciso ao se encarar uma situa\u00e7\u00e3o de interrup\u00e7\u00e3o ou instabilidade de servi\u00e7o t\u00edpico da camada de internet. Objetivos Exercitar as configura\u00e7\u00f5es b\u00e1sicas para navegabilidade em uma rede de computadores bem como usar ferramentas de diagn\u00f3stico para validar configura\u00e7\u00f5es. Exercitar os princ\u00edpios b\u00e1sicos de uma comunica\u00e7\u00e3o em redes TCP/IP, com \u00eanfase nos servi\u00e7os t\u00edpicos da camada de internet. Conhecer e manipular ferramentas de diagn\u00f3stico ( ping , ifconfig , traceroute , netstat e route ) para fixa\u00e7\u00e3o de conceitos da camada de internet. Teoria abordada no experimento Funcionamento b\u00e1sico de uma rede TCP/IP. Protocolos de Camada de Internet. Material Necess\u00e1rio Interfaces de rede (NIC's) M\u00e1quinas com sistema GNU/Linux Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente GNU/Linux b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Servidores HTTP, DNS e SMTP devidamente configurados Ferramentas de diagn\u00f3stico: ping , ifconfig , traceroute , netstat e route Roteiro 1. Montagem de rede interconectada para o experimento H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4), H4 (192.168.1.5) e R/eth0 (192.168.1.1). Al\u00e9m dessa topologia, haver\u00e1 equipamentos que prover\u00e3o os servi\u00e7os necess\u00e1rios \u00e0s pr\u00e1ticas da aula: DHCP e NAT. 2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es Certifique-se que eventuais servi\u00e7os de suporte \u00e0s configura\u00e7\u00f5es de rede estejam desativados. Lembre-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 . 3. Confer\u00eancia de informa\u00e7\u00f5es sobre interfaces de rede Usando um dos computadores dispon\u00edveis para o experimento e usando privil\u00e9gios administrativos, execute a aplica\u00e7\u00e3o ifconfig . Quando executada sem par\u00e2metros, essa aplica\u00e7\u00e3o ir\u00e1 retornar uma tabela de informa\u00e7\u00f5es em que a primeira coluna possui um c\u00f3digo que identifica a interface de rede. Por sua vez, a segunda coluna apresenta informa\u00e7\u00f5es espec\u00edficas sobre o enlace e sobre a rede \u00e0 qual est\u00e1 conectada a interface. 4. Intera\u00e7\u00f5es com outros clientes conectados \u00e0 mesma rede No primeiro experimento pr\u00e1tico, pudemos exercitar alguns comandos, por\u00e9m sem conhecer o princ\u00edpio de funcionamento dos mesmos. Um desses comandos (o mais intuitivo deles) foi o comando ping . Repitamos a execu\u00e7\u00e3o do mesmo comando nessa pr\u00e1tica. Sugiro identificar na rede de testes o IP de um equipamento ativo para, em seguida, executar o comando: $ ping ip_do_host 5. Tabela de encaminhamento \u00c0s vezes, faz-se necess\u00e1rio verificar qual \u00e9 o caminho que poder\u00e1 ser seguido por um pacote em uma comunica\u00e7\u00e3o t\u00edpica atrav\u00e9s de uma rede TCP/IP. Ainda no equipamento emissor, pode ser necess\u00e1ria a confer\u00eancia da tabela de encaminhamento em vig\u00eancia. O sistema operacional Linux prov\u00ea algumas ferramentas que permitem a confer\u00eancia da tabela de encaminhamento ativa. O comando netstat \u00e9 uma dessas ferramentas. Essa aplica\u00e7\u00e3o possui uma op\u00e7\u00e3o que indica ao usu\u00e1rio quais s\u00e3o as informa\u00e7\u00f5es constantes na tabela de encaminhamento. Execute o seguinte comando com acesso administrativo: $ netstat -nr O retorno ser\u00e1 uma tabela com 8 colunas devidamente identificadas. Voc\u00ea consegue perceber a repeti\u00e7\u00e3o de algumas informa\u00e7\u00f5es contidas na sa\u00edda desse comando quanto comparada com a sa\u00edda do ifconfig ? Para conferir o estado de atividade das interfaces de rede: $ netstat -i O comando netstat \u00e9 considerado uma ferramenta cl\u00e1ssica de rede e muitas de suas funcionalidades j\u00e1 foram substitu\u00eddas por outros comandos, como o comando ip . 6. Caminho seguido por um pacote H\u00e1 uma aplica\u00e7\u00e3o que exercita os servi\u00e7os t\u00edpicos e protocolos da camada de forma a identificar o caminho seguido por um pacote. Esse tipo de informa\u00e7\u00e3o \u00e9 muito \u00fatil para um administrador de redes de computadores que necessita validar a execu\u00e7\u00e3o de suas interven\u00e7\u00f5es no esquema de roteamento seguido por um sistema aut\u00f4nomo. Por\u00e9m, dependendo do tipo da institui\u00e7\u00e3o que se comunica atrav\u00e9s de um sistema aut\u00f4nomo de roteamento, a informa\u00e7\u00e3o do caminho seguido pelo pacote pode classificada como sens\u00edvel. Dessa forma, o acesso dever\u00e1 ser restrito \u00e0queles que dela dependem sustentar o funcionamento do sistema aut\u00f4nomo. Naturalmente, outros usu\u00e1rios n\u00e3o dever\u00e3o ser capazes de extrair essa informa\u00e7\u00e3o de forma trivial a partir de intera\u00e7\u00f5es com a rede. A ferramenta de diagn\u00f3stico explorada nessa etapa chama-se traceroute . Por meio de intera\u00e7\u00f5es com mecanismos t\u00edpicos da camada de internet e da camada de transporte, essa ferramenta consegue extrair de redes qual o caminho percorrido por determinado pacote. Para tanto, basta que seu usu\u00e1rio indique um ip alvo para que a aplica\u00e7\u00e3o realize o processo de tra\u00e7ado da rota. $ traceroute ip_do_alvo Quest\u00f5es para Estudo A descri\u00e7\u00e3o de informa\u00e7\u00f5es espec\u00edficas sobre a interface de rede obtida atrav\u00e9s da execu\u00e7\u00e3o do comando ifconfig \u00e9 bem extensa. Partindo do resultado da execu\u00e7\u00e3o do comando em seu equipamento e tomando como refer\u00eancia a interface que foi usada nos testes, descreva em detalhes o significado de cada um dos itens discriminados na segunda coluna de sa\u00edda do comando. Equipamentos que implementam a pilha de protocolos TCP/IP apresentam, tipicamente, uma sa\u00edda padr\u00e3o durante a execu\u00e7\u00e3o do comando ifconfig . Indique que sa\u00edda \u00e9 essa e como ela se faz \u00fatil na constru\u00e7\u00e3o de sistemas que funcionar\u00e3o sobre redes de comunica\u00e7\u00f5es. A execu\u00e7\u00e3o do comando ping em uma rede \u00e9 uma das primeiras medidas para verifica\u00e7\u00e3o de continuidade de servi\u00e7o. Embora seja um comando muito simples de invocar e cujos resultados pr\u00e1ticos s\u00e3o muito f\u00e1ceis de interpretar, a riqueza de detalhes da sa\u00edda t\u00edpica de execu\u00e7\u00e3o do ping \u00e9 grande. Descreva cada um dos itens que comp\u00f5em a sa\u00edda de execu\u00e7\u00e3o t\u00edpica de um comando ping . Em rela\u00e7\u00e3o \u00e0 etapa 5 do presente roteiro, descreva cada um dos itens que comp\u00f5em a sa\u00edda de execu\u00e7\u00e3o t\u00edpica de um comando netstat -nr . Qual seria a sintaxe usada para extrair a mesma informa\u00e7\u00e3o, por\u00e9m a partir do comando ip ? Em rela\u00e7\u00e3o \u00e0 etapa 6 do presente roteiro, descreva o processo t\u00edpico de detec\u00e7\u00e3o da rota percorrida por um pacote atrav\u00e9s da execu\u00e7\u00e3o do comando traceroute . Refer\u00eancias Bibliogr\u00e1ficas debian.org. netstat(8). Debian Manpages, 2022. Dispon\u00edvel em: https://manpages.debian.org/bullseye/net-tools/netstat.8.pt_BR.html. Acesso em: 12 jan. 2023. debian.org. route(8). Debian Manpages, 2022. Dispon\u00edvel em: https://manpages.debian.org/bullseye/net-tools/route.8.pt_BR.html. Acesso em: 12 jan. 2023. debian.org. ping(8). Debian Manpages, 2022. Dispon\u00edvel em: https://manpages.debian.org/testing/iputils-ping/ping.8.en.html. Acesso em: 12 jan. 2023. debian.org. traceroute. Debian Manpages, 2022. Dispon\u00edvel em: https://manpages.debian.org/bullseye/traceroute/traceroute.1.en.html. Acesso em: 12 jan. 2023. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Depura\u00e7\u00e3o de Problemas na Camada de Internet"},{"location":"debian/experimento_04/#depuracao-de-problemas-na-camada-de-internet","text":"Pr\u00e1tica de Laborat\u00f3rio 04 Depura\u00e7\u00e3o de Problemas na Camada de Internet","title":"Depura\u00e7\u00e3o de Problemas na Camada de Internet"},{"location":"debian/experimento_04/#introducao","text":"Uma vez devidamente configurado, um equipamento que se comunica atrav\u00e9s de uma rede de computadores como a Internet, se faz \u00fatil ao interagir com outros equipamentos para o provimento de servi\u00e7os a usu\u00e1rios. O estudo sobre a Camada de Internet introduz v\u00e1rios protocolos que tipicamente d\u00e3o suporte \u00e0s aplica\u00e7\u00f5es em rede, que, por sua vez, prov\u00eam os servi\u00e7os que usamos diariamente. O conjunto de protocolos que cooperam no provimento dos servi\u00e7os t\u00edpicos de camada de internet podem ser separados em duas categorias: protocolos que geram tabelas de encaminhamento, os protocolos de roteamento, e os protocolos que utilizam as tabelas de encaminhamento. Antes de serem introduzidas ferramentas de inspe\u00e7\u00e3o de protocolos de diferentes camadas, faz-se necess\u00e1rio apresentar ao estudante um conjunto m\u00ednimo de ferramentas que permitir\u00e3o a execu\u00e7\u00e3o de um diagn\u00f3stico preciso ao se encarar uma situa\u00e7\u00e3o de interrup\u00e7\u00e3o ou instabilidade de servi\u00e7o t\u00edpico da camada de internet.","title":"Introdu\u00e7\u00e3o"},{"location":"debian/experimento_04/#objetivos","text":"Exercitar as configura\u00e7\u00f5es b\u00e1sicas para navegabilidade em uma rede de computadores bem como usar ferramentas de diagn\u00f3stico para validar configura\u00e7\u00f5es. Exercitar os princ\u00edpios b\u00e1sicos de uma comunica\u00e7\u00e3o em redes TCP/IP, com \u00eanfase nos servi\u00e7os t\u00edpicos da camada de internet. Conhecer e manipular ferramentas de diagn\u00f3stico ( ping , ifconfig , traceroute , netstat e route ) para fixa\u00e7\u00e3o de conceitos da camada de internet.","title":"Objetivos"},{"location":"debian/experimento_04/#teoria-abordada-no-experimento","text":"Funcionamento b\u00e1sico de uma rede TCP/IP. Protocolos de Camada de Internet.","title":"Teoria abordada no experimento"},{"location":"debian/experimento_04/#material-necessario","text":"Interfaces de rede (NIC's) M\u00e1quinas com sistema GNU/Linux Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente GNU/Linux b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Servidores HTTP, DNS e SMTP devidamente configurados Ferramentas de diagn\u00f3stico: ping , ifconfig , traceroute , netstat e route","title":"Material Necess\u00e1rio"},{"location":"debian/experimento_04/#roteiro","text":"","title":"Roteiro"},{"location":"debian/experimento_04/#1-montagem-de-rede-interconectada-para-o-experimento","text":"H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4), H4 (192.168.1.5) e R/eth0 (192.168.1.1). Al\u00e9m dessa topologia, haver\u00e1 equipamentos que prover\u00e3o os servi\u00e7os necess\u00e1rios \u00e0s pr\u00e1ticas da aula: DHCP e NAT.","title":"1. Montagem de rede interconectada para o experimento"},{"location":"debian/experimento_04/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","text":"Certifique-se que eventuais servi\u00e7os de suporte \u00e0s configura\u00e7\u00f5es de rede estejam desativados. Lembre-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 .","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es"},{"location":"debian/experimento_04/#3-conferencia-de-informacoes-sobre-interfaces-de-rede","text":"Usando um dos computadores dispon\u00edveis para o experimento e usando privil\u00e9gios administrativos, execute a aplica\u00e7\u00e3o ifconfig . Quando executada sem par\u00e2metros, essa aplica\u00e7\u00e3o ir\u00e1 retornar uma tabela de informa\u00e7\u00f5es em que a primeira coluna possui um c\u00f3digo que identifica a interface de rede. Por sua vez, a segunda coluna apresenta informa\u00e7\u00f5es espec\u00edficas sobre o enlace e sobre a rede \u00e0 qual est\u00e1 conectada a interface.","title":"3. Confer\u00eancia de informa\u00e7\u00f5es sobre interfaces de rede"},{"location":"debian/experimento_04/#4-interacoes-com-outros-clientes-conectados-a-mesma-rede","text":"No primeiro experimento pr\u00e1tico, pudemos exercitar alguns comandos, por\u00e9m sem conhecer o princ\u00edpio de funcionamento dos mesmos. Um desses comandos (o mais intuitivo deles) foi o comando ping . Repitamos a execu\u00e7\u00e3o do mesmo comando nessa pr\u00e1tica. Sugiro identificar na rede de testes o IP de um equipamento ativo para, em seguida, executar o comando: $ ping ip_do_host","title":"4. Intera\u00e7\u00f5es com outros clientes conectados \u00e0 mesma rede"},{"location":"debian/experimento_04/#5-tabela-de-encaminhamento","text":"\u00c0s vezes, faz-se necess\u00e1rio verificar qual \u00e9 o caminho que poder\u00e1 ser seguido por um pacote em uma comunica\u00e7\u00e3o t\u00edpica atrav\u00e9s de uma rede TCP/IP. Ainda no equipamento emissor, pode ser necess\u00e1ria a confer\u00eancia da tabela de encaminhamento em vig\u00eancia. O sistema operacional Linux prov\u00ea algumas ferramentas que permitem a confer\u00eancia da tabela de encaminhamento ativa. O comando netstat \u00e9 uma dessas ferramentas. Essa aplica\u00e7\u00e3o possui uma op\u00e7\u00e3o que indica ao usu\u00e1rio quais s\u00e3o as informa\u00e7\u00f5es constantes na tabela de encaminhamento. Execute o seguinte comando com acesso administrativo: $ netstat -nr O retorno ser\u00e1 uma tabela com 8 colunas devidamente identificadas. Voc\u00ea consegue perceber a repeti\u00e7\u00e3o de algumas informa\u00e7\u00f5es contidas na sa\u00edda desse comando quanto comparada com a sa\u00edda do ifconfig ? Para conferir o estado de atividade das interfaces de rede: $ netstat -i O comando netstat \u00e9 considerado uma ferramenta cl\u00e1ssica de rede e muitas de suas funcionalidades j\u00e1 foram substitu\u00eddas por outros comandos, como o comando ip .","title":"5. Tabela de encaminhamento"},{"location":"debian/experimento_04/#6-caminho-seguido-por-um-pacote","text":"H\u00e1 uma aplica\u00e7\u00e3o que exercita os servi\u00e7os t\u00edpicos e protocolos da camada de forma a identificar o caminho seguido por um pacote. Esse tipo de informa\u00e7\u00e3o \u00e9 muito \u00fatil para um administrador de redes de computadores que necessita validar a execu\u00e7\u00e3o de suas interven\u00e7\u00f5es no esquema de roteamento seguido por um sistema aut\u00f4nomo. Por\u00e9m, dependendo do tipo da institui\u00e7\u00e3o que se comunica atrav\u00e9s de um sistema aut\u00f4nomo de roteamento, a informa\u00e7\u00e3o do caminho seguido pelo pacote pode classificada como sens\u00edvel. Dessa forma, o acesso dever\u00e1 ser restrito \u00e0queles que dela dependem sustentar o funcionamento do sistema aut\u00f4nomo. Naturalmente, outros usu\u00e1rios n\u00e3o dever\u00e3o ser capazes de extrair essa informa\u00e7\u00e3o de forma trivial a partir de intera\u00e7\u00f5es com a rede. A ferramenta de diagn\u00f3stico explorada nessa etapa chama-se traceroute . Por meio de intera\u00e7\u00f5es com mecanismos t\u00edpicos da camada de internet e da camada de transporte, essa ferramenta consegue extrair de redes qual o caminho percorrido por determinado pacote. Para tanto, basta que seu usu\u00e1rio indique um ip alvo para que a aplica\u00e7\u00e3o realize o processo de tra\u00e7ado da rota. $ traceroute ip_do_alvo","title":"6. Caminho seguido por um pacote"},{"location":"debian/experimento_04/#questoes-para-estudo","text":"A descri\u00e7\u00e3o de informa\u00e7\u00f5es espec\u00edficas sobre a interface de rede obtida atrav\u00e9s da execu\u00e7\u00e3o do comando ifconfig \u00e9 bem extensa. Partindo do resultado da execu\u00e7\u00e3o do comando em seu equipamento e tomando como refer\u00eancia a interface que foi usada nos testes, descreva em detalhes o significado de cada um dos itens discriminados na segunda coluna de sa\u00edda do comando. Equipamentos que implementam a pilha de protocolos TCP/IP apresentam, tipicamente, uma sa\u00edda padr\u00e3o durante a execu\u00e7\u00e3o do comando ifconfig . Indique que sa\u00edda \u00e9 essa e como ela se faz \u00fatil na constru\u00e7\u00e3o de sistemas que funcionar\u00e3o sobre redes de comunica\u00e7\u00f5es. A execu\u00e7\u00e3o do comando ping em uma rede \u00e9 uma das primeiras medidas para verifica\u00e7\u00e3o de continuidade de servi\u00e7o. Embora seja um comando muito simples de invocar e cujos resultados pr\u00e1ticos s\u00e3o muito f\u00e1ceis de interpretar, a riqueza de detalhes da sa\u00edda t\u00edpica de execu\u00e7\u00e3o do ping \u00e9 grande. Descreva cada um dos itens que comp\u00f5em a sa\u00edda de execu\u00e7\u00e3o t\u00edpica de um comando ping . Em rela\u00e7\u00e3o \u00e0 etapa 5 do presente roteiro, descreva cada um dos itens que comp\u00f5em a sa\u00edda de execu\u00e7\u00e3o t\u00edpica de um comando netstat -nr . Qual seria a sintaxe usada para extrair a mesma informa\u00e7\u00e3o, por\u00e9m a partir do comando ip ? Em rela\u00e7\u00e3o \u00e0 etapa 6 do presente roteiro, descreva o processo t\u00edpico de detec\u00e7\u00e3o da rota percorrida por um pacote atrav\u00e9s da execu\u00e7\u00e3o do comando traceroute .","title":"Quest\u00f5es para Estudo"},{"location":"debian/experimento_04/#referencias-bibliograficas","text":"debian.org. netstat(8). Debian Manpages, 2022. Dispon\u00edvel em: https://manpages.debian.org/bullseye/net-tools/netstat.8.pt_BR.html. Acesso em: 12 jan. 2023. debian.org. route(8). Debian Manpages, 2022. Dispon\u00edvel em: https://manpages.debian.org/bullseye/net-tools/route.8.pt_BR.html. Acesso em: 12 jan. 2023. debian.org. ping(8). Debian Manpages, 2022. Dispon\u00edvel em: https://manpages.debian.org/testing/iputils-ping/ping.8.en.html. Acesso em: 12 jan. 2023. debian.org. traceroute. Debian Manpages, 2022. Dispon\u00edvel em: https://manpages.debian.org/bullseye/traceroute/traceroute.1.en.html. Acesso em: 12 jan. 2023. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Refer\u00eancias Bibliogr\u00e1ficas"},{"location":"debian/experimento_05/","text":"Camada de Internet (DHCP) Pr\u00e1tica de Laborat\u00f3rio 05 Camada de Internet (DHCP) Introdu\u00e7\u00e3o Para o correto funcionamento de redes, alguns servi\u00e7os de n\u00edvel de internet complementam as fun\u00e7\u00f5es b\u00e1sicas de rede, oferecendo funcionalidades que facilitam a administra\u00e7\u00e3o da rede. Um dos mais \u00fateis servi\u00e7os de rede em uso nas redes TCP/IP hoje, \u00e9 implementado pelo protocolo DHCP ( Dynamic Host Configuration Protocol ). Objetivos Visualizar a import\u00e2ncia dos servi\u00e7os de atribui\u00e7\u00e3o din\u00e2mica de configura\u00e7\u00f5es. Entender como funciona a implementa\u00e7\u00e3o do DHCP no Linux, e configur\u00e1-la. Teoria abordada no experimento Objetivo e funcionamento do protocolo DHCP. Material Necess\u00e1rio Interfaces de rede (NIC's) M\u00e1quinas com sistema GNU/Linux Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente GNU/Linux b\u00e1sico, pacotes de servidor DHCP ( isc-dhcp-server ) Acesso \u00e0 Internet \u2013 necess\u00e1rio Desligar o servidor DHCP para as m\u00e1quinas de aula Roteiro 1. Montagem de rede interconectada para o experimento H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4) e R/eth0 (192.168.1.1). 2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es Certifique-se que eventuais servi\u00e7os de suporte \u00e0s configura\u00e7\u00f5es de rede estejam desativados. Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 . 3. Instala\u00e7\u00e3o do pacote de servidor DHCP Para a execu\u00e7\u00e3o deste experimento \u00e9 essencial a instala\u00e7\u00e3o do pacote isc-dhcp-server , que n\u00e3o \u00e9 incluso por padr\u00e3o no Debian. Para prosseguir com a instala\u00e7\u00e3o, execute o seguinte comando: $ sudo apt-get update $ sudo apt-get install isc-dhcp-server ATEN\u00c7\u00c3O: \u00c9 normal ocorrer uma falha, pois, ao finalizar a instala\u00e7\u00e3o, ele tenta iniciar o servidor que n\u00e3o tem nenhum escopo DHCP criado ainda. 4. Configura\u00e7\u00e3o do Servidor DHCP Os arquivos mais importantes do servidor DHCP a ser usado, s\u00e3o: /etc/dhcp/dhcpd.conf : configura\u00e7\u00f5es para o servidor DHCP /var/lib/dhcp/dhcpd.leases : leases j\u00e1 ofertados pelo servidor DHCP A configura\u00e7\u00e3o do servidor est\u00e1 toda no arquivo dhcpd.conf . Segue abaixo um exemplo comentado: # Exemplo de configura\u00e7\u00e3o # Tempo de lease: default m\u00ednimo (10 min) e m\u00e1ximo (2 hs) # Outros valores: 86400 (1 dia), 604800 (1 semana) e 2592000 (30 dias) default-lease-time 600; max-lease-time 7200; # Reconhece e corrige pedidos de endere\u00e7os incoerentes authoritative; # Op\u00e7\u00f5es de rede comuns option subnet-mask 255.255.255.0; option broadcast-address 192.168.1.255; option routers 192.168.1.1; option domain-name-servers 192.168.1.1; option domain-name \"mydomain.org\"; # Pode-se incluir op\u00e7\u00f5es especificas para uma subrede subnet 192.168.1.0 netmask 255.255.255.0 { range 192.168.1.2 192.168.1.100; range 192.168.1.150 192.168.1.200; } # Para designar WINS server para estac\u00f5es WIN #option netbios-name-servers 192.168.1.1; # Para atribuir um endere\u00e7o especifico para um MAC - suporte a clientes # BOOTP host haagen { option host-name \u201cleao.labredes.unb.br\u201d; hardware ethernet 08:00:2b:4c:59:23; fixed-address 192.168.1.222; } O comando abaixo pode ser executado para verificar a sintaxe do arquivo dhcpd.conf com o objetivo de garantir que nenhum erro de digita\u00e7\u00e3o foi cometido: $ dhcpd -t Em caso de nenhum erro de sintaxe indicado pelo comando acima, deve-se reiniciar o servidor para que as altera\u00e7\u00f5es tenham efeito. $ /etc/init.d/isc-dhcp-server start esta \u00e9 a maneira correta de disparar servi\u00e7os num servidor Linux, por\u00e9m queremos ver o que est\u00e1 acontecendo com o servidor na sua tela. Por isso vamos disparar o servidor \u201cna m\u00e3o\u201d com o comando: $ dhcpd -d -f <interface de rede> a op\u00e7\u00e3o -d habilita o modo de depura\u00e7\u00e3o, que fornece um rastreamento mais detalhado do processo de inicializa\u00e7\u00e3o do servidor DHCP e a op\u00e7\u00e3o -f especifica qual interface de rede deve ser usada. Para disparar o servi\u00e7o somente numa interface sempre, acrescente a op\u00e7\u00e3o da interface no arquivo /etc/default/isc-dhcp-server : INTERFACESv4=\"eth0\"; Ap\u00f3s a configura\u00e7\u00e3o do servidor DHCP, caso apresente algum problema e n\u00e3o esteja funcionando, pode ser necess\u00e1rio verificar os arquivos de log do sistema ( /var/log/syslog ), com o seguinte comando: $ grep dhcpd /var/log/syslog 5. Configura\u00e7\u00e3o do cliente DHCP No Debian, configure o arquivo interfaces ( /etc/network/interfaces ) citado em experi\u00eancias anteriores e ponha a interface em quest\u00e3o configur\u00e1vel via dhcp, adicionando a linha abaixo: iface <interface> inet dhcp Para for\u00e7ar a configura\u00e7\u00e3o da interface de rede, d\u00ea o comando: $ ifup <interface> Para verificar o endere\u00e7o obtido do servidor DHCP: $ ifconfig ATEN\u00c7\u00c3O: Caso o comando ifconfig n\u00e3o aponte o ip adquirido atrav\u00e9s do DHCP, pode ser necess\u00e1rio reiniciar a interface de rede ( ifdown <interface> + ifup <interface> ) ou dhclient <interface> Verifique se o cliente est\u00e1 usando o servidor DHCP correto: $ dhclient -v Atrav\u00e9s do arquivo de leases , verifique as concess\u00f5es ativas do servidor dhcp: $ cat /var/lib/dhcp/dhcpd.leases | less Visualize as mensagens sendo trocadas entre cliente e servidor DHCP com um analisador de protocolos. Altere as configura\u00e7\u00f5es do servidor DHCP de forma que um dos hosts tenha IP previamente definido em fun\u00e7\u00e3o de seu endere\u00e7o MAC. Verifique se as mudan\u00e7as foram aplicadas aos hosts de sua rede. Quest\u00f5es para Estudo DHCP pode funcionar atrav\u00e9s de redes ligadas por roteadores? O que \u00e9 a fun\u00e7\u00e3o de BOOTP/DHCP relay ? Analise as poss\u00edveis configura\u00e7\u00f5es do arquivo dhcpd.conf . Que op\u00e7\u00f5es de configura\u00e7\u00e3o se pode passar automaticamente via DHCP para hosts numa rede? Isto pode ser usado em outros servi\u00e7os de rede? Qual a vantagem de se fixar IP's por endere\u00e7o MAC? Podemos ter mais de um servidor DHCP numa rede? Pode haver alguma confus\u00e3o? O que acontece se houver? Refer\u00eancias Bibliogr\u00e1ficas REIS, F\u00e1bio. Como configurar um servidor DHCP no Linux. Boson treinamentos, 2013. Dispon\u00edvel em: http://www.bosontreinamentos.com.br/linux/servidor-dhcp-no-linux/. Acesso em: 14 dez. de 2022. REIS, F\u00e1bio. Servidor DHCP no Linux 01 - Instala\u00e7\u00e3o e Configura\u00e7\u00e3o de um Escopo. YouTube, 16 de jun. de 2013. Dispon\u00edvel em: https://www.youtube.com/watch?v=hqS_EuQA6pQ. Acesso em: 14 dez. de 2022. REIS, F\u00e1bio. Servidor DHCP no Linux 02 - Ativando e Testando o Escopo criado. YouTube, 16 de jun. de 2013. Dispon\u00edvel em: https://www.youtube.com/watch?v=0hfJEnYk_6A. Acesso em: 14 dez. de 2022. DROMS, R. Automated configuration of TCP/IP with DHCP. IEEE Internet Computing, 1999. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Camada de Internet (DHCP)"},{"location":"debian/experimento_05/#camada-de-internet-dhcp","text":"Pr\u00e1tica de Laborat\u00f3rio 05 Camada de Internet (DHCP)","title":"Camada de Internet (DHCP)"},{"location":"debian/experimento_05/#introducao","text":"Para o correto funcionamento de redes, alguns servi\u00e7os de n\u00edvel de internet complementam as fun\u00e7\u00f5es b\u00e1sicas de rede, oferecendo funcionalidades que facilitam a administra\u00e7\u00e3o da rede. Um dos mais \u00fateis servi\u00e7os de rede em uso nas redes TCP/IP hoje, \u00e9 implementado pelo protocolo DHCP ( Dynamic Host Configuration Protocol ).","title":"Introdu\u00e7\u00e3o"},{"location":"debian/experimento_05/#objetivos","text":"Visualizar a import\u00e2ncia dos servi\u00e7os de atribui\u00e7\u00e3o din\u00e2mica de configura\u00e7\u00f5es. Entender como funciona a implementa\u00e7\u00e3o do DHCP no Linux, e configur\u00e1-la.","title":"Objetivos"},{"location":"debian/experimento_05/#teoria-abordada-no-experimento","text":"Objetivo e funcionamento do protocolo DHCP.","title":"Teoria abordada no experimento"},{"location":"debian/experimento_05/#material-necessario","text":"Interfaces de rede (NIC's) M\u00e1quinas com sistema GNU/Linux Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente GNU/Linux b\u00e1sico, pacotes de servidor DHCP ( isc-dhcp-server ) Acesso \u00e0 Internet \u2013 necess\u00e1rio Desligar o servidor DHCP para as m\u00e1quinas de aula","title":"Material Necess\u00e1rio"},{"location":"debian/experimento_05/#roteiro","text":"","title":"Roteiro"},{"location":"debian/experimento_05/#1-montagem-de-rede-interconectada-para-o-experimento","text":"H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4) e R/eth0 (192.168.1.1).","title":"1. Montagem de rede interconectada para o experimento"},{"location":"debian/experimento_05/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","text":"Certifique-se que eventuais servi\u00e7os de suporte \u00e0s configura\u00e7\u00f5es de rede estejam desativados. Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 .","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es"},{"location":"debian/experimento_05/#3-instalacao-do-pacote-de-servidor-dhcp","text":"Para a execu\u00e7\u00e3o deste experimento \u00e9 essencial a instala\u00e7\u00e3o do pacote isc-dhcp-server , que n\u00e3o \u00e9 incluso por padr\u00e3o no Debian. Para prosseguir com a instala\u00e7\u00e3o, execute o seguinte comando: $ sudo apt-get update $ sudo apt-get install isc-dhcp-server ATEN\u00c7\u00c3O: \u00c9 normal ocorrer uma falha, pois, ao finalizar a instala\u00e7\u00e3o, ele tenta iniciar o servidor que n\u00e3o tem nenhum escopo DHCP criado ainda.","title":"3. Instala\u00e7\u00e3o do pacote de servidor DHCP"},{"location":"debian/experimento_05/#4-configuracao-do-servidor-dhcp","text":"Os arquivos mais importantes do servidor DHCP a ser usado, s\u00e3o: /etc/dhcp/dhcpd.conf : configura\u00e7\u00f5es para o servidor DHCP /var/lib/dhcp/dhcpd.leases : leases j\u00e1 ofertados pelo servidor DHCP A configura\u00e7\u00e3o do servidor est\u00e1 toda no arquivo dhcpd.conf . Segue abaixo um exemplo comentado: # Exemplo de configura\u00e7\u00e3o # Tempo de lease: default m\u00ednimo (10 min) e m\u00e1ximo (2 hs) # Outros valores: 86400 (1 dia), 604800 (1 semana) e 2592000 (30 dias) default-lease-time 600; max-lease-time 7200; # Reconhece e corrige pedidos de endere\u00e7os incoerentes authoritative; # Op\u00e7\u00f5es de rede comuns option subnet-mask 255.255.255.0; option broadcast-address 192.168.1.255; option routers 192.168.1.1; option domain-name-servers 192.168.1.1; option domain-name \"mydomain.org\"; # Pode-se incluir op\u00e7\u00f5es especificas para uma subrede subnet 192.168.1.0 netmask 255.255.255.0 { range 192.168.1.2 192.168.1.100; range 192.168.1.150 192.168.1.200; } # Para designar WINS server para estac\u00f5es WIN #option netbios-name-servers 192.168.1.1; # Para atribuir um endere\u00e7o especifico para um MAC - suporte a clientes # BOOTP host haagen { option host-name \u201cleao.labredes.unb.br\u201d; hardware ethernet 08:00:2b:4c:59:23; fixed-address 192.168.1.222; } O comando abaixo pode ser executado para verificar a sintaxe do arquivo dhcpd.conf com o objetivo de garantir que nenhum erro de digita\u00e7\u00e3o foi cometido: $ dhcpd -t Em caso de nenhum erro de sintaxe indicado pelo comando acima, deve-se reiniciar o servidor para que as altera\u00e7\u00f5es tenham efeito. $ /etc/init.d/isc-dhcp-server start esta \u00e9 a maneira correta de disparar servi\u00e7os num servidor Linux, por\u00e9m queremos ver o que est\u00e1 acontecendo com o servidor na sua tela. Por isso vamos disparar o servidor \u201cna m\u00e3o\u201d com o comando: $ dhcpd -d -f <interface de rede> a op\u00e7\u00e3o -d habilita o modo de depura\u00e7\u00e3o, que fornece um rastreamento mais detalhado do processo de inicializa\u00e7\u00e3o do servidor DHCP e a op\u00e7\u00e3o -f especifica qual interface de rede deve ser usada. Para disparar o servi\u00e7o somente numa interface sempre, acrescente a op\u00e7\u00e3o da interface no arquivo /etc/default/isc-dhcp-server : INTERFACESv4=\"eth0\"; Ap\u00f3s a configura\u00e7\u00e3o do servidor DHCP, caso apresente algum problema e n\u00e3o esteja funcionando, pode ser necess\u00e1rio verificar os arquivos de log do sistema ( /var/log/syslog ), com o seguinte comando: $ grep dhcpd /var/log/syslog","title":"4. Configura\u00e7\u00e3o do Servidor DHCP"},{"location":"debian/experimento_05/#5-configuracao-do-cliente-dhcp","text":"No Debian, configure o arquivo interfaces ( /etc/network/interfaces ) citado em experi\u00eancias anteriores e ponha a interface em quest\u00e3o configur\u00e1vel via dhcp, adicionando a linha abaixo: iface <interface> inet dhcp Para for\u00e7ar a configura\u00e7\u00e3o da interface de rede, d\u00ea o comando: $ ifup <interface> Para verificar o endere\u00e7o obtido do servidor DHCP: $ ifconfig ATEN\u00c7\u00c3O: Caso o comando ifconfig n\u00e3o aponte o ip adquirido atrav\u00e9s do DHCP, pode ser necess\u00e1rio reiniciar a interface de rede ( ifdown <interface> + ifup <interface> ) ou dhclient <interface> Verifique se o cliente est\u00e1 usando o servidor DHCP correto: $ dhclient -v Atrav\u00e9s do arquivo de leases , verifique as concess\u00f5es ativas do servidor dhcp: $ cat /var/lib/dhcp/dhcpd.leases | less Visualize as mensagens sendo trocadas entre cliente e servidor DHCP com um analisador de protocolos. Altere as configura\u00e7\u00f5es do servidor DHCP de forma que um dos hosts tenha IP previamente definido em fun\u00e7\u00e3o de seu endere\u00e7o MAC. Verifique se as mudan\u00e7as foram aplicadas aos hosts de sua rede.","title":"5. Configura\u00e7\u00e3o do cliente DHCP"},{"location":"debian/experimento_05/#questoes-para-estudo","text":"DHCP pode funcionar atrav\u00e9s de redes ligadas por roteadores? O que \u00e9 a fun\u00e7\u00e3o de BOOTP/DHCP relay ? Analise as poss\u00edveis configura\u00e7\u00f5es do arquivo dhcpd.conf . Que op\u00e7\u00f5es de configura\u00e7\u00e3o se pode passar automaticamente via DHCP para hosts numa rede? Isto pode ser usado em outros servi\u00e7os de rede? Qual a vantagem de se fixar IP's por endere\u00e7o MAC? Podemos ter mais de um servidor DHCP numa rede? Pode haver alguma confus\u00e3o? O que acontece se houver?","title":"Quest\u00f5es para Estudo"},{"location":"debian/experimento_05/#referencias-bibliograficas","text":"REIS, F\u00e1bio. Como configurar um servidor DHCP no Linux. Boson treinamentos, 2013. Dispon\u00edvel em: http://www.bosontreinamentos.com.br/linux/servidor-dhcp-no-linux/. Acesso em: 14 dez. de 2022. REIS, F\u00e1bio. Servidor DHCP no Linux 01 - Instala\u00e7\u00e3o e Configura\u00e7\u00e3o de um Escopo. YouTube, 16 de jun. de 2013. Dispon\u00edvel em: https://www.youtube.com/watch?v=hqS_EuQA6pQ. Acesso em: 14 dez. de 2022. REIS, F\u00e1bio. Servidor DHCP no Linux 02 - Ativando e Testando o Escopo criado. YouTube, 16 de jun. de 2013. Dispon\u00edvel em: https://www.youtube.com/watch?v=0hfJEnYk_6A. Acesso em: 14 dez. de 2022. DROMS, R. Automated configuration of TCP/IP with DHCP. IEEE Internet Computing, 1999. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Refer\u00eancias Bibliogr\u00e1ficas"},{"location":"debian/experimento_06/","text":"Camada de Internet (NAT) Pr\u00e1tica de Laborat\u00f3rio 06 Camada de Internet (NAT) Introdu\u00e7\u00e3o Para o correto funcionamento de redes, alguns servi\u00e7os de n\u00edvel de aplica\u00e7\u00e3o complementam as fun\u00e7\u00f5es b\u00e1sicas de rede, oferecendo funcionalidades que facilitam a administra\u00e7\u00e3o da rede. Em fun\u00e7\u00e3o da escassez de endere\u00e7os IPv4, os projetistas de Internet desenvolveram artif\u00edcios que permitiam um re\u00faso de IPs. O primeiro conceito envolvido nesse tipo de t\u00e9cnica \u00e9 o da segrega\u00e7\u00e3o do espa\u00e7o de endere\u00e7amento entre endere\u00e7os IPs v\u00e1lidos e endere\u00e7os de IPs de aplica\u00e7\u00e3o restrita. O NAT (Network Address Translation) \u00e9 um esquema que torna vi\u00e1vel montar uma rede endere\u00e7ada por meio de um conjunto de IPs restritos de forma que todos os hosts compartilham um n\u00famero pequeno de IPs v\u00e1lidos e, ainda sim, s\u00e3o capazes de manter conex\u00f5es regulares com equipamentos na Internet. Objetivos Visualizar a import\u00e2ncia dos servi\u00e7os de compartilhamento de IPs. Entender como funciona a implementa\u00e7\u00e3o do NAT no Linux, e configur\u00e1-la. Teoria abordada no experimento Objetivo e funcionamento do esquema NAT. Material Necess\u00e1rio Interfaces de rede (NIC's) M\u00e1quinas com sistema GNU/Linux Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente GNU/Linux b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Desligar o servidor DHCP para as m\u00e1quinas de aula Roteiro 1. Montagem de rede interconectada para o experimento Monte uma topologia com 3 ou mais m\u00e1quinas. Escolha uma para ser o gateway da topologia e lhe d\u00ea dois endere\u00e7os de IP: um IP fixo e v\u00e1lido para a rede de sa\u00edda e um IP restrito, inv\u00e1lido. H1, H2 e G/eth0 (/24). S1 e G/eth1. (/16) 2. Configura\u00e7\u00e3o do Servidor DHCP (opcional) Se for do interesse de quem executa o experimento evitar configura\u00e7\u00f5es nas m\u00e1quinas que usar\u00e3o o gateway com NAT, \u00e9 conveniente implantar o servi\u00e7o de DHCP em algum servidor da rede local (privada) que usar\u00e1 o equipamento com NAT como gateway. Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 05 . 3. Configura\u00e7\u00e3o do NAT No Debian, configure o arquivo interfaces ( /etc/network/interfaces ), do gateway, citado em experi\u00eancias anteriores e ponha uma interface em quest\u00e3o, a interface de sa\u00edda, configurada de forma fixa usando um IP v\u00e1lido da rede de sa\u00edda. Use o comando ifconfig para verificar o endere\u00e7o configurado. Em seguida, crie uma rede privada e configure o IP da outra interface de rede do equipamento gateway para que possua o primeiro IP do espa\u00e7o de endere\u00e7amento privado. Caso tenha optado por instalar DHCP nesta interface, n\u00e3o ser\u00e1 necess\u00e1ria a configura\u00e7\u00e3o dos clientes que acessar\u00e3o a rede externa atrav\u00e9s do NAT; se esse n\u00e3o for seu caso, configure uma m\u00e1quina cliente de testes no espa\u00e7o de endere\u00e7amento da rede privada rec\u00e9m criada e conecte o cliente ao servidor NAT. Edite o arquivo sysctl.conf ( /etc/sysctl.conf ) para ativar o encaminhamento de pacotes IP (IP forwarding ), remova o coment\u00e1rio da seguinte linha: net.ipv4.ip_forward=1 Ative a configura\u00e7\u00e3o. $ sysctl net.ipv4.ip_forward=1 4. Configura\u00e7\u00e3o do Iptables Identifique as interfaces configuradas no passo acima e realize os ajustes adequados. Doravante, chamaremos ethSaida a interface de sa\u00edda e ethPriv a interface interna (com ou sem DHCP). Realize a limpeza de eventuais regras de firewall presentes no equipamento: $ iptables --flush $ iptables --table nat --flush $ iptables --delete-chain $ iptables --table nat --delete-chain $ iptables --table nat --append POSTROUTING --out-interface ethSaida -j MASQUERADE -m state --state RELATED,ESTABLISHED -j ACCEPT $ iptables --append FORWARD --in-interface ethPriv --out-interface ethSaida -j ACCEPT Teste as configura\u00e7\u00f5es de rede usando as ferramentas discutidas em pr\u00e1ticas anteriores. Recomenda-se as seguintes etapas de testes: teste de conectividade entre equipamentos da rede privada e o gateway com NAT, teste de conectividade entre equipamentos da rede privada e equipamentos situados na rede de sa\u00edda do gateway e teste de conectividade entre equipamentos da rede privada e equipamentos na rede externa. Quest\u00f5es para Estudo Alguns passos foram omitidos nesse roteiro. A partir da metodologia de testes, identifique o problema e apresente a solu\u00e7\u00e3o para que a rede privada rec\u00e9m criada seja capaz de conectar-se \u00e0 rede externa. Consulte a documenta\u00e7\u00e3o das ferramentas usadas na implementa\u00e7\u00e3o do NAT e indique o resultado de cada um dos comandos necess\u00e1rios \u00e0 implementa\u00e7\u00e3o do NAT. Como voc\u00ea sugere verificar se est\u00e1 acessando a rede externa atrav\u00e9s de um NAT? Reinicie o seu equipamento usado para a implementa\u00e7\u00e3o de um NAT usando o sistema operacional Linux e verifique se as suas configura\u00e7\u00f5es ainda funcionam. Descreva que tipo de procedimentos foram realizados para tornar as configura\u00e7\u00f5es de NAT persistentes. Refer\u00eancias Bibliogr\u00e1ficas Comptia.org. What Is NAT?. Data desconhecida. CompTIA. Dispon\u00edvel em: https://www.comptia.org/content/guides/what-is-network-address-translation. Acesso em: 15 jan. de 2022. DELFINO, Pedro. IPTABLES: Aprenda Como Utilizar A Principal Ferramenta Para Implementar Firewall No Linux. Data desconhecida. Profissionais Linux. Dispon\u00edvel em: https://e-tinet.com/linux/firewall-iptables/. Acesso em: 15 jan. de 2022. grindscale.io. Introduction to the Debian router / gateway. Data desconhecida. Profissionais Linux. Dispon\u00edvel em: https://gridscale.io/en/community/tutorials/debian-router-gateway/. Acesso em: 15 jan. de 2022. WETHERALL, D. J; TANENBAUM, A. S. Computer networks. Pearson Education, 2013. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Camada de Internet (NAT)"},{"location":"debian/experimento_06/#camada-de-internet-nat","text":"Pr\u00e1tica de Laborat\u00f3rio 06 Camada de Internet (NAT)","title":"Camada de Internet (NAT)"},{"location":"debian/experimento_06/#introducao","text":"Para o correto funcionamento de redes, alguns servi\u00e7os de n\u00edvel de aplica\u00e7\u00e3o complementam as fun\u00e7\u00f5es b\u00e1sicas de rede, oferecendo funcionalidades que facilitam a administra\u00e7\u00e3o da rede. Em fun\u00e7\u00e3o da escassez de endere\u00e7os IPv4, os projetistas de Internet desenvolveram artif\u00edcios que permitiam um re\u00faso de IPs. O primeiro conceito envolvido nesse tipo de t\u00e9cnica \u00e9 o da segrega\u00e7\u00e3o do espa\u00e7o de endere\u00e7amento entre endere\u00e7os IPs v\u00e1lidos e endere\u00e7os de IPs de aplica\u00e7\u00e3o restrita. O NAT (Network Address Translation) \u00e9 um esquema que torna vi\u00e1vel montar uma rede endere\u00e7ada por meio de um conjunto de IPs restritos de forma que todos os hosts compartilham um n\u00famero pequeno de IPs v\u00e1lidos e, ainda sim, s\u00e3o capazes de manter conex\u00f5es regulares com equipamentos na Internet.","title":"Introdu\u00e7\u00e3o"},{"location":"debian/experimento_06/#objetivos","text":"Visualizar a import\u00e2ncia dos servi\u00e7os de compartilhamento de IPs. Entender como funciona a implementa\u00e7\u00e3o do NAT no Linux, e configur\u00e1-la.","title":"Objetivos"},{"location":"debian/experimento_06/#teoria-abordada-no-experimento","text":"Objetivo e funcionamento do esquema NAT.","title":"Teoria abordada no experimento"},{"location":"debian/experimento_06/#material-necessario","text":"Interfaces de rede (NIC's) M\u00e1quinas com sistema GNU/Linux Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente GNU/Linux b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Desligar o servidor DHCP para as m\u00e1quinas de aula","title":"Material Necess\u00e1rio"},{"location":"debian/experimento_06/#roteiro","text":"","title":"Roteiro"},{"location":"debian/experimento_06/#1-montagem-de-rede-interconectada-para-o-experimento","text":"Monte uma topologia com 3 ou mais m\u00e1quinas. Escolha uma para ser o gateway da topologia e lhe d\u00ea dois endere\u00e7os de IP: um IP fixo e v\u00e1lido para a rede de sa\u00edda e um IP restrito, inv\u00e1lido. H1, H2 e G/eth0 (/24). S1 e G/eth1. (/16)","title":"1. Montagem de rede interconectada para o experimento"},{"location":"debian/experimento_06/#2-configuracao-do-servidor-dhcp-opcional","text":"Se for do interesse de quem executa o experimento evitar configura\u00e7\u00f5es nas m\u00e1quinas que usar\u00e3o o gateway com NAT, \u00e9 conveniente implantar o servi\u00e7o de DHCP em algum servidor da rede local (privada) que usar\u00e1 o equipamento com NAT como gateway. Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 05 .","title":"2. Configura\u00e7\u00e3o do Servidor DHCP (opcional)"},{"location":"debian/experimento_06/#3-configuracao-do-nat","text":"No Debian, configure o arquivo interfaces ( /etc/network/interfaces ), do gateway, citado em experi\u00eancias anteriores e ponha uma interface em quest\u00e3o, a interface de sa\u00edda, configurada de forma fixa usando um IP v\u00e1lido da rede de sa\u00edda. Use o comando ifconfig para verificar o endere\u00e7o configurado. Em seguida, crie uma rede privada e configure o IP da outra interface de rede do equipamento gateway para que possua o primeiro IP do espa\u00e7o de endere\u00e7amento privado. Caso tenha optado por instalar DHCP nesta interface, n\u00e3o ser\u00e1 necess\u00e1ria a configura\u00e7\u00e3o dos clientes que acessar\u00e3o a rede externa atrav\u00e9s do NAT; se esse n\u00e3o for seu caso, configure uma m\u00e1quina cliente de testes no espa\u00e7o de endere\u00e7amento da rede privada rec\u00e9m criada e conecte o cliente ao servidor NAT. Edite o arquivo sysctl.conf ( /etc/sysctl.conf ) para ativar o encaminhamento de pacotes IP (IP forwarding ), remova o coment\u00e1rio da seguinte linha: net.ipv4.ip_forward=1 Ative a configura\u00e7\u00e3o. $ sysctl net.ipv4.ip_forward=1","title":"3. Configura\u00e7\u00e3o do NAT"},{"location":"debian/experimento_06/#4-configuracao-do-iptables","text":"Identifique as interfaces configuradas no passo acima e realize os ajustes adequados. Doravante, chamaremos ethSaida a interface de sa\u00edda e ethPriv a interface interna (com ou sem DHCP). Realize a limpeza de eventuais regras de firewall presentes no equipamento: $ iptables --flush $ iptables --table nat --flush $ iptables --delete-chain $ iptables --table nat --delete-chain $ iptables --table nat --append POSTROUTING --out-interface ethSaida -j MASQUERADE -m state --state RELATED,ESTABLISHED -j ACCEPT $ iptables --append FORWARD --in-interface ethPriv --out-interface ethSaida -j ACCEPT Teste as configura\u00e7\u00f5es de rede usando as ferramentas discutidas em pr\u00e1ticas anteriores. Recomenda-se as seguintes etapas de testes: teste de conectividade entre equipamentos da rede privada e o gateway com NAT, teste de conectividade entre equipamentos da rede privada e equipamentos situados na rede de sa\u00edda do gateway e teste de conectividade entre equipamentos da rede privada e equipamentos na rede externa.","title":"4. Configura\u00e7\u00e3o do Iptables"},{"location":"debian/experimento_06/#questoes-para-estudo","text":"Alguns passos foram omitidos nesse roteiro. A partir da metodologia de testes, identifique o problema e apresente a solu\u00e7\u00e3o para que a rede privada rec\u00e9m criada seja capaz de conectar-se \u00e0 rede externa. Consulte a documenta\u00e7\u00e3o das ferramentas usadas na implementa\u00e7\u00e3o do NAT e indique o resultado de cada um dos comandos necess\u00e1rios \u00e0 implementa\u00e7\u00e3o do NAT. Como voc\u00ea sugere verificar se est\u00e1 acessando a rede externa atrav\u00e9s de um NAT? Reinicie o seu equipamento usado para a implementa\u00e7\u00e3o de um NAT usando o sistema operacional Linux e verifique se as suas configura\u00e7\u00f5es ainda funcionam. Descreva que tipo de procedimentos foram realizados para tornar as configura\u00e7\u00f5es de NAT persistentes.","title":"Quest\u00f5es para Estudo"},{"location":"debian/experimento_06/#referencias-bibliograficas","text":"Comptia.org. What Is NAT?. Data desconhecida. CompTIA. Dispon\u00edvel em: https://www.comptia.org/content/guides/what-is-network-address-translation. Acesso em: 15 jan. de 2022. DELFINO, Pedro. IPTABLES: Aprenda Como Utilizar A Principal Ferramenta Para Implementar Firewall No Linux. Data desconhecida. Profissionais Linux. Dispon\u00edvel em: https://e-tinet.com/linux/firewall-iptables/. Acesso em: 15 jan. de 2022. grindscale.io. Introduction to the Debian router / gateway. Data desconhecida. Profissionais Linux. Dispon\u00edvel em: https://gridscale.io/en/community/tutorials/debian-router-gateway/. Acesso em: 15 jan. de 2022. WETHERALL, D. J; TANENBAUM, A. S. Computer networks. Pearson Education, 2013. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Refer\u00eancias Bibliogr\u00e1ficas"},{"location":"debian/experimento_07/","text":"Camada de Enlace (ARP) Pr\u00e1tica de Laborat\u00f3rio 07 Camada de Enlace (ARP) Introdu\u00e7\u00e3o Para o correto funcionamento de redes, alguns servi\u00e7os de n\u00edvel de camada de enlace s\u00e3o primordiais para a adequada coopera\u00e7\u00e3o da pilha de protocolos sobre a qual reside a Internet. Objetivos Exercitar conceitos referentes \u00e0 camada de enlace. Entender o papel do protocolo ARP e como acontecem suas intera\u00e7\u00f5es. Teoria abordada no experimento Objetivo e funcionamento do esquema ARP. Material Necess\u00e1rio Interfaces de rede (NIC's) M\u00e1quinas com sistema GNU/Linux Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente GNU/Linux b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Desligar o servidor DHCP para as m\u00e1quinas de aula Roteiro 1. Montagem de rede interconectada para o experimento Monte uma topologia com 3 ou mais m\u00e1quinas. Escolha uma para ser o gateway da topologia e lhe d\u00ea dois endere\u00e7os de IP: um IP fixo e v\u00e1lido para a rede de sa\u00edda e um IP restrito, inv\u00e1lido. Al\u00e9m dessa topologia, haver\u00e1 equipamentos que prover\u00e3o os servi\u00e7os necess\u00e1rios \u00e0s pr\u00e1ticas da aula: HTTP. H1 (192.168.1.3), H2 (192.168.1.2) e G/eth0 (192.168.1.1). S1 (172.25.0.2) e G/eth1 (172.25.0.1). 2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es Certifique-se que eventuais servi\u00e7os de suporte \u00e0s configura\u00e7\u00f5es de rede estejam desativados. Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 . 3. Verifica\u00e7\u00e3o das entradas presentes na tabela ARP Em uma janela distinta, dispare a ferramenta de captura de pacotes: $ tcpdump -e Execute o seguinte comando: $ arp -a Proceda apenas se n\u00e3o constarem entradas na tabela ARP ou se constar apena a entrada do endere\u00e7o MAC do gateway da rede de testes. Em seguida, encontre algum equipamento da rede em que esteja sendo provido um servi\u00e7o, como um servidor HTTP (porta 80), por exemplo. Anote o IP do host e execute o seguinte comando: $ telnet ip_do_host porta_do_servico Repita o comando arp: $ arp -a Tente, nessa etapa, a conex\u00e3o a um IP n\u00e3o existente na rede. $ telnet ip_do_host_inexistente porta_do_servico Em seguida, repita o comando arp. Quest\u00f5es para Estudo Qual foi a diferen\u00e7a de sa\u00eddas observadas entre a primeira e as duas \u00faltimas chamadas ao comando ARP? Suponha que uma aplica\u00e7\u00e3o utilize um esquema de controle de acesso baseado no valor do MAC address das placas de rede. Haveria algum problema de seguran\u00e7a nessa abordagem? Justifique. \u00c9 poss\u00edvel que o protocolo ARP interfira no desempenho de uma rede? Elabore sua resposta, apresentando exemplos/justificativas. H\u00e1, na literatura, ataques que envolvem o protocolo ARP? Se a resposta for afirmativa, cite exemplos. Refer\u00eancias Bibliogr\u00e1ficas Geeksforgeeks.org. How Address Resolution Protocol (ARP) works?. GeeksForGeeks, 2022. Dispon\u00edvel em: https://www.geeksforgeeks.org/how-address-resolution-protocol-arp-works/. Acesso em: 16 dez. de 2022. WETHERALL, D. J; TANENBAUM, A. S. Computer networks. Pearson Education, 2013. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Camada de Enlace (ARP)"},{"location":"debian/experimento_07/#camada-de-enlace-arp","text":"Pr\u00e1tica de Laborat\u00f3rio 07 Camada de Enlace (ARP)","title":"Camada de Enlace (ARP)"},{"location":"debian/experimento_07/#introducao","text":"Para o correto funcionamento de redes, alguns servi\u00e7os de n\u00edvel de camada de enlace s\u00e3o primordiais para a adequada coopera\u00e7\u00e3o da pilha de protocolos sobre a qual reside a Internet.","title":"Introdu\u00e7\u00e3o"},{"location":"debian/experimento_07/#objetivos","text":"Exercitar conceitos referentes \u00e0 camada de enlace. Entender o papel do protocolo ARP e como acontecem suas intera\u00e7\u00f5es.","title":"Objetivos"},{"location":"debian/experimento_07/#teoria-abordada-no-experimento","text":"Objetivo e funcionamento do esquema ARP.","title":"Teoria abordada no experimento"},{"location":"debian/experimento_07/#material-necessario","text":"Interfaces de rede (NIC's) M\u00e1quinas com sistema GNU/Linux Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente GNU/Linux b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Desligar o servidor DHCP para as m\u00e1quinas de aula","title":"Material Necess\u00e1rio"},{"location":"debian/experimento_07/#roteiro","text":"","title":"Roteiro"},{"location":"debian/experimento_07/#1-montagem-de-rede-interconectada-para-o-experimento","text":"Monte uma topologia com 3 ou mais m\u00e1quinas. Escolha uma para ser o gateway da topologia e lhe d\u00ea dois endere\u00e7os de IP: um IP fixo e v\u00e1lido para a rede de sa\u00edda e um IP restrito, inv\u00e1lido. Al\u00e9m dessa topologia, haver\u00e1 equipamentos que prover\u00e3o os servi\u00e7os necess\u00e1rios \u00e0s pr\u00e1ticas da aula: HTTP. H1 (192.168.1.3), H2 (192.168.1.2) e G/eth0 (192.168.1.1). S1 (172.25.0.2) e G/eth1 (172.25.0.1).","title":"1. Montagem de rede interconectada para o experimento"},{"location":"debian/experimento_07/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","text":"Certifique-se que eventuais servi\u00e7os de suporte \u00e0s configura\u00e7\u00f5es de rede estejam desativados. Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 .","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es"},{"location":"debian/experimento_07/#3-verificacao-das-entradas-presentes-na-tabela-arp","text":"Em uma janela distinta, dispare a ferramenta de captura de pacotes: $ tcpdump -e Execute o seguinte comando: $ arp -a Proceda apenas se n\u00e3o constarem entradas na tabela ARP ou se constar apena a entrada do endere\u00e7o MAC do gateway da rede de testes. Em seguida, encontre algum equipamento da rede em que esteja sendo provido um servi\u00e7o, como um servidor HTTP (porta 80), por exemplo. Anote o IP do host e execute o seguinte comando: $ telnet ip_do_host porta_do_servico Repita o comando arp: $ arp -a Tente, nessa etapa, a conex\u00e3o a um IP n\u00e3o existente na rede. $ telnet ip_do_host_inexistente porta_do_servico Em seguida, repita o comando arp.","title":"3. Verifica\u00e7\u00e3o das entradas presentes na tabela ARP"},{"location":"debian/experimento_07/#questoes-para-estudo","text":"Qual foi a diferen\u00e7a de sa\u00eddas observadas entre a primeira e as duas \u00faltimas chamadas ao comando ARP? Suponha que uma aplica\u00e7\u00e3o utilize um esquema de controle de acesso baseado no valor do MAC address das placas de rede. Haveria algum problema de seguran\u00e7a nessa abordagem? Justifique. \u00c9 poss\u00edvel que o protocolo ARP interfira no desempenho de uma rede? Elabore sua resposta, apresentando exemplos/justificativas. H\u00e1, na literatura, ataques que envolvem o protocolo ARP? Se a resposta for afirmativa, cite exemplos.","title":"Quest\u00f5es para Estudo"},{"location":"debian/experimento_07/#referencias-bibliograficas","text":"Geeksforgeeks.org. How Address Resolution Protocol (ARP) works?. GeeksForGeeks, 2022. Dispon\u00edvel em: https://www.geeksforgeeks.org/how-address-resolution-protocol-arp-works/. Acesso em: 16 dez. de 2022. WETHERALL, D. J; TANENBAUM, A. S. Computer networks. Pearson Education, 2013. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Refer\u00eancias Bibliogr\u00e1ficas"},{"location":"debian/experimento_08/","text":"Firewall Pr\u00e1tica de Laborat\u00f3rio 08 Firewall Introdu\u00e7\u00e3o Firewall \u00e9 uma solu\u00e7\u00e3o de seguran\u00e7a baseada em hardware ou software (mais comum) que, a partir de um conjunto de regras ou instru\u00e7\u00f5es, analisa o tr\u00e1fego de rede para determinar quais opera\u00e7\u00f5es de transmiss\u00e3o ou recep\u00e7\u00e3o de dados podem ser executadas. \"Parede de fogo\", a tradu\u00e7\u00e3o literal do nome, j\u00e1 deixa claro que o firewall se enquadra em uma esp\u00e9cie de barreira de defesa. A sua miss\u00e3o, por assim dizer, consiste basicamente em bloquear tr\u00e1fego de dados indesejado e liberar acessos bem-vindos. Objetivos Entender como funciona a implementa\u00e7\u00e3o de firewalls usando o Linux. Teoria abordada no experimento Objetivo e funcionamento de firewalls . Material Necess\u00e1rio Interfaces de rede (NIC's) M\u00e1quinas com sistema GNU/Linux Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente GNU/Linux b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Roteiro 1. Montagem de rede interconectada para o experimento Monte uma topologia com 3 ou mais m\u00e1quinas. Escolha uma para ser o gateway da topologia e lhe d\u00ea dois endere\u00e7os de IP: um IP fixo e v\u00e1lido para a rede de sa\u00edda e um IP restrito, inv\u00e1lido. Os equipamentos H1 e S1 dever\u00e3o prover o servi\u00e7o SSH na porta 22. DICA: Use as configura\u00e7\u00f5es e topologia utilizadas na Pr\u00e1tica de Laborat\u00f3rio 06 . 2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es Certifique-se que eventuais servi\u00e7os de suporte \u00e0s configura\u00e7\u00f5es de rede estejam desativados. Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 . 3. Configura\u00e7\u00e3o de regras de filtragem: Etapa 1 Em R, montar as seguintes regras: H1 pode apenas fazer ping em S1. Apenas pacotes ICMP ping poder\u00e3o se encaminhados de H1 para S1. S1 n\u00e3o pode fazer ping em H1. Todos os pacotes de S1 dever\u00e3o alcan\u00e7ar H1, exceto os de ICMP ping request. 4. Testes: Valida\u00e7\u00e3o das interven\u00e7\u00f5es da Etapa 1 Verificar se H1 faz ping em S1 e se S1 faz ping em H1 com as regras da quest\u00e3o anterior. Verificar se \u00e9 poss\u00edvel abrir uma conex\u00e3o SSH de H1 para S1. Verificar se \u00e9 poss\u00edvel abrir uma conex\u00e3o SSH de S1 para H1. Executar Nmap da seguinte maneira: varrer as portas de H1 usando S1 como origem. varrer as portas de S1 usando H1 como origem. 5. Configura\u00e7\u00e3o de regras de filtragem: Etapa 2 Crie regras em R de modo que H1 possa fazer SSH em S1, por\u00e9m atrav\u00e9s de um esquema de DNAT, onde uma porta de R ir\u00e1 redirecionar o tr\u00e1fego para a porta que prov\u00ea SSH em S1. Crie regras em R de modo que S1 n\u00e3o seja capaz de encaminhar pacotes UDP para o segmento de rede onde reside H1. ATEN\u00c7\u00c3O: \u00c9 importante mencionar que as regras de firewall s\u00e3o baseadas na ordem de cria\u00e7\u00e3o, ent\u00e3o a ordem destas regras \u00e9 importante para garantir que elas estejam funcionando corretamente. 6. Testes: Valida\u00e7\u00e3o das interven\u00e7\u00f5es da Etapa 2 Para testar as regras de filtragem UDP da Etapa 2, use o envio de consultas DNS para provocar a transmiss\u00e3o de pacotes DNS. Experimente realizar a conex\u00e3o SSH entre H1 e S1 usando a regra de DNAT criada. ATEN\u00c7\u00c3O: Para verificar o log do sistema, voc\u00ea pode usar o comando tail -f /var/log/syslog | grep \"iptables\" que ir\u00e1 exibir as mensagens de log geradas pelo sistema operacional. Quest\u00f5es para Estudo O servi\u00e7o ssh \u00e9 sobre o TCP ou UDP? Conferir com o tcpdump, simulando a situa\u00e7\u00e3o onde S1 faz ssh em H1. Em rela\u00e7\u00e3o aos testes da Etapa 1 do roteiro, como \u00e9 poss\u00edvel ao Nmap indicar a eventual presen\u00e7a de portas filtradas atrav\u00e9s do roteador R que atua como Firewall ? Refer\u00eancias Bibliogr\u00e1ficas DELFINO, Pedro. IPTABLES: Aprenda Como Utilizar A Principal Ferramenta Para Implementar Firewall No Linux. Data desconhecida. Profissionais Linux. Dispon\u00edvel em: https://e-tinet.com/linux/firewall-iptables/. Acesso em: 15 jan. de 2023. Wikipedia.org. Firewall. Data desconhecida. Wikipedia. Dispon\u00edvel em: https://pt.wikipedia.org/wiki/Firewall. Acesso em: 17 dez. de 2022. MACEDO, R. T. Firewall com Iptables: Teoria e Pr\u00e1tica. YouTube, 15 de jun. de 2021. Dispon\u00edvel em: https://www.youtube.com/watch?v=_xIuY_3EQ2o. Acesso em: 15 jan. de 2023. REIS, F\u00e1bio. Firewall iptables no Linux - parte 01 - Tabelas, Cadeias e Regras. YouTube, 23 de dez. de 2014. Dispon\u00edvel em: https://www.youtube.com/watch?v=LJlJlLgkNxg. Acesso em: 15 jan. de 2023. REIS, F\u00e1bio. Firewall iptables - Verificando e excluindo as regras e regra padr\u00e3o da cadeia no Linux - parte 02. YouTube, 24 de dez. de 2014. Dispon\u00edvel em: https://www.youtube.com/watch?v=Sc2-4gL6gIg. Acesso em: 15 jan. de 2023. REIS, F\u00e1bio. Firewall iptables - Algumas regras de uso geral I (ping, mac, ssh, IP) - v\u00eddeo 03. YouTube, 26 de dez. de 2014. Dispon\u00edvel em: https://www.youtube.com/watch?v=LJlJlLgkNxg. Acesso em: 15 jan. de 2023. REIS, F\u00e1bio. Firewall iptables - Salvando e tornando as regras permanentes - v\u00eddeo 04. YouTube, 29 de dez. de 2014. Dispon\u00edvel em: https://www.youtube.com/watch?v=kV4h_RCYR6s. Acesso em: 15 jan. de 2023. WETHERALL, D. J; TANENBAUM, A. S. Computer networks. Pearson Education, 2013. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Firewall"},{"location":"debian/experimento_08/#firewall","text":"Pr\u00e1tica de Laborat\u00f3rio 08 Firewall","title":"Firewall"},{"location":"debian/experimento_08/#introducao","text":"Firewall \u00e9 uma solu\u00e7\u00e3o de seguran\u00e7a baseada em hardware ou software (mais comum) que, a partir de um conjunto de regras ou instru\u00e7\u00f5es, analisa o tr\u00e1fego de rede para determinar quais opera\u00e7\u00f5es de transmiss\u00e3o ou recep\u00e7\u00e3o de dados podem ser executadas. \"Parede de fogo\", a tradu\u00e7\u00e3o literal do nome, j\u00e1 deixa claro que o firewall se enquadra em uma esp\u00e9cie de barreira de defesa. A sua miss\u00e3o, por assim dizer, consiste basicamente em bloquear tr\u00e1fego de dados indesejado e liberar acessos bem-vindos.","title":"Introdu\u00e7\u00e3o"},{"location":"debian/experimento_08/#objetivos","text":"Entender como funciona a implementa\u00e7\u00e3o de firewalls usando o Linux.","title":"Objetivos"},{"location":"debian/experimento_08/#teoria-abordada-no-experimento","text":"Objetivo e funcionamento de firewalls .","title":"Teoria abordada no experimento"},{"location":"debian/experimento_08/#material-necessario","text":"Interfaces de rede (NIC's) M\u00e1quinas com sistema GNU/Linux Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente GNU/Linux b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio","title":"Material Necess\u00e1rio"},{"location":"debian/experimento_08/#roteiro","text":"","title":"Roteiro"},{"location":"debian/experimento_08/#1-montagem-de-rede-interconectada-para-o-experimento","text":"Monte uma topologia com 3 ou mais m\u00e1quinas. Escolha uma para ser o gateway da topologia e lhe d\u00ea dois endere\u00e7os de IP: um IP fixo e v\u00e1lido para a rede de sa\u00edda e um IP restrito, inv\u00e1lido. Os equipamentos H1 e S1 dever\u00e3o prover o servi\u00e7o SSH na porta 22. DICA: Use as configura\u00e7\u00f5es e topologia utilizadas na Pr\u00e1tica de Laborat\u00f3rio 06 .","title":"1. Montagem de rede interconectada para o experimento"},{"location":"debian/experimento_08/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","text":"Certifique-se que eventuais servi\u00e7os de suporte \u00e0s configura\u00e7\u00f5es de rede estejam desativados. Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 .","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es"},{"location":"debian/experimento_08/#3-configuracao-de-regras-de-filtragem-etapa-1","text":"Em R, montar as seguintes regras: H1 pode apenas fazer ping em S1. Apenas pacotes ICMP ping poder\u00e3o se encaminhados de H1 para S1. S1 n\u00e3o pode fazer ping em H1. Todos os pacotes de S1 dever\u00e3o alcan\u00e7ar H1, exceto os de ICMP ping request.","title":"3. Configura\u00e7\u00e3o de regras de filtragem: Etapa 1"},{"location":"debian/experimento_08/#4-testes-validacao-das-intervencoes-da-etapa-1","text":"Verificar se H1 faz ping em S1 e se S1 faz ping em H1 com as regras da quest\u00e3o anterior. Verificar se \u00e9 poss\u00edvel abrir uma conex\u00e3o SSH de H1 para S1. Verificar se \u00e9 poss\u00edvel abrir uma conex\u00e3o SSH de S1 para H1. Executar Nmap da seguinte maneira: varrer as portas de H1 usando S1 como origem. varrer as portas de S1 usando H1 como origem.","title":"4. Testes: Valida\u00e7\u00e3o das interven\u00e7\u00f5es da Etapa 1"},{"location":"debian/experimento_08/#5-configuracao-de-regras-de-filtragem-etapa-2","text":"Crie regras em R de modo que H1 possa fazer SSH em S1, por\u00e9m atrav\u00e9s de um esquema de DNAT, onde uma porta de R ir\u00e1 redirecionar o tr\u00e1fego para a porta que prov\u00ea SSH em S1. Crie regras em R de modo que S1 n\u00e3o seja capaz de encaminhar pacotes UDP para o segmento de rede onde reside H1. ATEN\u00c7\u00c3O: \u00c9 importante mencionar que as regras de firewall s\u00e3o baseadas na ordem de cria\u00e7\u00e3o, ent\u00e3o a ordem destas regras \u00e9 importante para garantir que elas estejam funcionando corretamente.","title":"5. Configura\u00e7\u00e3o de regras de filtragem: Etapa 2"},{"location":"debian/experimento_08/#6-testes-validacao-das-intervencoes-da-etapa-2","text":"Para testar as regras de filtragem UDP da Etapa 2, use o envio de consultas DNS para provocar a transmiss\u00e3o de pacotes DNS. Experimente realizar a conex\u00e3o SSH entre H1 e S1 usando a regra de DNAT criada. ATEN\u00c7\u00c3O: Para verificar o log do sistema, voc\u00ea pode usar o comando tail -f /var/log/syslog | grep \"iptables\" que ir\u00e1 exibir as mensagens de log geradas pelo sistema operacional.","title":"6. Testes: Valida\u00e7\u00e3o das interven\u00e7\u00f5es da Etapa 2"},{"location":"debian/experimento_08/#questoes-para-estudo","text":"O servi\u00e7o ssh \u00e9 sobre o TCP ou UDP? Conferir com o tcpdump, simulando a situa\u00e7\u00e3o onde S1 faz ssh em H1. Em rela\u00e7\u00e3o aos testes da Etapa 1 do roteiro, como \u00e9 poss\u00edvel ao Nmap indicar a eventual presen\u00e7a de portas filtradas atrav\u00e9s do roteador R que atua como Firewall ?","title":"Quest\u00f5es para Estudo"},{"location":"debian/experimento_08/#referencias-bibliograficas","text":"DELFINO, Pedro. IPTABLES: Aprenda Como Utilizar A Principal Ferramenta Para Implementar Firewall No Linux. Data desconhecida. Profissionais Linux. Dispon\u00edvel em: https://e-tinet.com/linux/firewall-iptables/. Acesso em: 15 jan. de 2023. Wikipedia.org. Firewall. Data desconhecida. Wikipedia. Dispon\u00edvel em: https://pt.wikipedia.org/wiki/Firewall. Acesso em: 17 dez. de 2022. MACEDO, R. T. Firewall com Iptables: Teoria e Pr\u00e1tica. YouTube, 15 de jun. de 2021. Dispon\u00edvel em: https://www.youtube.com/watch?v=_xIuY_3EQ2o. Acesso em: 15 jan. de 2023. REIS, F\u00e1bio. Firewall iptables no Linux - parte 01 - Tabelas, Cadeias e Regras. YouTube, 23 de dez. de 2014. Dispon\u00edvel em: https://www.youtube.com/watch?v=LJlJlLgkNxg. Acesso em: 15 jan. de 2023. REIS, F\u00e1bio. Firewall iptables - Verificando e excluindo as regras e regra padr\u00e3o da cadeia no Linux - parte 02. YouTube, 24 de dez. de 2014. Dispon\u00edvel em: https://www.youtube.com/watch?v=Sc2-4gL6gIg. Acesso em: 15 jan. de 2023. REIS, F\u00e1bio. Firewall iptables - Algumas regras de uso geral I (ping, mac, ssh, IP) - v\u00eddeo 03. YouTube, 26 de dez. de 2014. Dispon\u00edvel em: https://www.youtube.com/watch?v=LJlJlLgkNxg. Acesso em: 15 jan. de 2023. REIS, F\u00e1bio. Firewall iptables - Salvando e tornando as regras permanentes - v\u00eddeo 04. YouTube, 29 de dez. de 2014. Dispon\u00edvel em: https://www.youtube.com/watch?v=kV4h_RCYR6s. Acesso em: 15 jan. de 2023. WETHERALL, D. J; TANENBAUM, A. S. Computer networks. Pearson Education, 2013. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Refer\u00eancias Bibliogr\u00e1ficas"},{"location":"debian/experimento_09/","text":"Camada de Aplica\u00e7\u00e3o ( Proxy ) Pr\u00e1tica de Laborat\u00f3rio 09 Camada de Aplica\u00e7\u00e3o ( Proxy ) Introdu\u00e7\u00e3o Em redes de computadores, um proxy \u00e9 um servidor (um sistema de computador ou uma aplica\u00e7\u00e3o) que age como um intermedi\u00e1rio para requisi\u00e7\u00f5es de clientes solicitando recursos de outros servidores. Um cliente conecta-se ao servidor proxy , solicitando algum servi\u00e7o, como um arquivo, conex\u00e3o, p\u00e1gina web ou outros recursos dispon\u00edveis de um servidor diferente e o proxy avalia a solicita\u00e7\u00e3o como um meio de simplificar e controlar sua complexidade. Os proxies foram inventados para adicionar estrutura e encapsulamento a sistemas distribu\u00eddos. Hoje, a maioria dos proxies \u00e9 proxy web , facilitando o acesso ao conte\u00fado na World Wide Web e fornecendo anonimato. Objetivos Permitir que os alunos tenham contato com regras de Proxy em m\u00e1quinas Linux. Teoria abordada no experimento Objetivo e funcionamento de um proxy de aplica\u00e7\u00e3o. Material Necess\u00e1rio Interfaces de rede (NIC's) M\u00e1quinas com sistema GNU/Linux Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente GNU/Linux b\u00e1sico, pacote Proxy server ( Squid ) Acesso \u00e0 Internet \u2013 necess\u00e1rio Roteiro 1. Montagem de rede interconectada para o experimento H1 (192.168.1.3), H2 (192.168.1.2) e R/eth0 (192.168.1.1). 2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es Certifique-se que eventuais servi\u00e7os de suporte \u00e0s configura\u00e7\u00f5es de rede estejam desativados. Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 . 3. Configura\u00e7\u00e3o dos equipamentos Em R, instalar o SQUID ( proxy server ). $ # atualizar os reposit\u00f3rios $ sudo apt-get update $ # instalar SQUID $ sudo apt-get install squid Ap\u00f3s a instala\u00e7\u00e3o, \u00e9 poss\u00edvel verificar o arquivo de configura\u00e7\u00e3o do SQUID: $ squid -f /etc/squid/squid.conf -k parse Inicie o servi\u00e7o SQUID: $ systemctl start squid ATEN\u00c7\u00c3O: \u00c9 poss\u00edvel verificar o log do SQUID usando o comando tail -f /var/log/squid/access.log . Etapa 1 Adicionar as seguintes funcionalidades ao SQUID: controle de acesso web por m\u00e1quina (IP). Edite o arquivo squid.conf ( /etc/squid/squid.conf ) para adicionar uma regra de acesso e adicione a regra criada ao conjunto de regras de acesso HTTP seguido pelo tipo de acesso (allow/deny): # acl nome_da_regra src IP/mascara acl meu_ip src 192.168.1.3 # http_access allow/deny nome_da_regra http_access allow meu_ip black list (BL) para h1 e h2. Edite o arquivo squid.conf ( /etc/squid/squid.conf ) para adicionar regras de blacklist para os endere\u00e7os IP de H1 e H2 e adicione as regras criadas ao conjunto de regras de acesso HTTP seguido pelo tipo de acesso (deny): # acl nome_da_regra_bl_h1 src IP acl blacklist_h1 src 192.168.1.3 # acl nome_da_regra_bl_h2 src IP acl blacklist_h2 src 192.168.1.2 # http_access allow nome_da_regra_bl_h1 http_access deny blacklist_h1 # http_access allow nome_da_regra_bl_h2 http_access deny blacklist_h2 White list (WL) para h1 (e/ou h2). Edite o arquivo squid.conf ( /etc/squid/squid.conf ) para adicionar regras de whitelist para os endere\u00e7os IP de H1 e adicione as regras criadas ao conjunto de regras de acesso HTTP seguido pelo tipo de acesso (allow): # acl nome_da_regra_wl_h1 src IP acl whitelist_h1 src 192.168.1.3 # http_access allow nome_da_regra_wl_h1 http_access allow whitelist_h1 Salve e reinicie o SQUID para que as configura\u00e7\u00f5es tenham efeito. $ systemctl restart squid Verificar e descrever qual o n\u00edvel de preval\u00eancia entre wl e bl. ATEN\u00c7\u00c3O: As regras de acesso s\u00e3o aplicadas na ordem em que s\u00e3o definidas, por isso, \u00e9 importante posicionar as regras de blacklist depois de qualquer outra regra de acesso, para garantir que essas regras sejam aplicadas corretamente. Ajustar h1 e h2 para que percebam a presen\u00e7a do proxy para o acesso Internet (configura\u00e7\u00e3o manual). Obs. : R possui acesso Internet, mas n\u00e3o possui NAT. Em h1 e h2 adicionar seguinte configura\u00e7\u00e3o (tamb\u00e9m pode ser feito utilizando a configura\u00e7\u00e3o do browser) no arquivo apt.conf ( /etc/apt/apt.conf ): Acquire::http::Proxy \"http://192.168.1.1:3128/\"; Acquire::https::Proxy \"http://192.168.1.1:3128/\"; Em R, edite o arquivo sysctl.conf ( /etc/sysctl.conf ), para ativar o encaminhamento de pacotes IP (IP forwarding ), remova o coment\u00e1rio da seguinte linha: net.ipv4.ip_forward=1 Ative a configura\u00e7\u00e3o. $ sysctl net.ipv4.ip_forward=1 Configure e reinicie o firewall para permitir as conex\u00f5es de H1 e H2: $ iptables -A INPUT -s 192.168.1.2 -j ACCEPT $ iptables -A INPUT -s 192.168.1.3 -j ACCEPT $ systemctl restart squid Etapa 2 Montar a configura\u00e7\u00e3o de rede abaixo e seguir os requisitos descritos a seguir. R/eth1 (172.25.0.1) e S1 (172.25.0.2). H1 (192.168.1.3), H2 (192.168.1.2) e R/eth0 (192.168.1.1). Transferir a fun\u00e7\u00e3o de proxy para S1, incluindo as restri\u00e7\u00f5es definidas anteriormente. Instale o SQUID no S1 e configure-o para atuar como um proxy para as conex\u00f5es de H1 e H2. Isso incluiria configurar as regras de controle de acesso por IP, black list (BL) e white list (WL) para H1 e H2. Configure R para encaminhar as conex\u00f5es de H1 e H2 para S1: $ ipfw add 140 forward ip from 192.168.1.2 to any via 172.25.0.2 $ ipfw add 150 forward ip from 192.168.1.3 to any via 172.25.0.2 Montar um SNAT em R para que S1 possa acessar a Internet. Isso pode ser feito usando o recurso de NAT do firewall de R, adicionando as seguintes regras: $ # <interface> \u00e9 o ip da interface de rede que est\u00e1 conectada \u00e0 Internet $ iptables -t nat -A POSTROUTING -s 172.25.0.2 -j SNAT --to <interface> Ajustar a tabela de rotas para que h1 e h2 consigam pingar em S1. $ ip route add 172.25.0.0/24 via 172.25.0.2 Montar regras em R (e onde for preciso) para garantir o proxy transparente (ou seja, h1 e h2 n\u00e3o sabem da presen\u00e7a de um proxy). Obs. : Verificar se \u00e9 poss\u00edvel resolver o desvio para o proxy usando um chain. $ iptables -t nat -A PREROUTING -i 192.168.1.1 -p tcp --dport 80 -j DNAT --to 172.25.0.2:3128 Quest\u00f5es para Estudo Como o protocolo HTTP funciona e como ele \u00e9 usado pelo Squid para implementar o proxy? Como o uso de chains no firewall Iptables pode ser usado para implementar pol\u00edticas de firewall mais avan\u00e7adas e flex\u00edveis? Quais s\u00e3o as principais diferen\u00e7as entre o proxy e o firewall e como eles podem ser usados \u200b\u200bjuntos para melhorar a seguran\u00e7a da rede? Como o Squid possui configura\u00e7\u00e3o para melhorar a seguran\u00e7a do proxy? Explique. Refer\u00eancias Bibliogr\u00e1ficas ROG\u00c9RIO. FreeBSD com proxy Squid - Revista Infra Magazine 4. Devmedia, 2012. Dispon\u00edvel em: https://www.devmedia.com.br/freebsd-com-proxy-squid-revista-infra-magazine-4/23440. Acesso em: 18 dez. 2022. Linuxhelp.com. How to install squid proxy server on freeBSD. Data desconhecida. Linux Help. Dispon\u00edvel em: https://www.linuxhelp.com/how-to-install-squid-proxy-server-on-freebsd. Acesso em: 18 dez. 2022. debian.org. squid. Debian Manpages, 2022. Dispon\u00edvel em: https://manpages.debian.org/bullseye/squid/squid.8.en.html. Acesso em: 17 jan. 2023. Wikipedia.org. Proxy. Data desconhecida. Wikipedia. Dispon\u00edvel em: https://pt.wikipedia.org/wiki/Proxy. Acesso em: 18 dez. de 2022. WETHERALL, D. J; TANENBAUM, A. S. Computer networks. Pearson Education, 2013. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Camada de Aplica\u00e7\u00e3o (Proxy)"},{"location":"debian/experimento_09/#camada-de-aplicacao-proxy","text":"Pr\u00e1tica de Laborat\u00f3rio 09 Camada de Aplica\u00e7\u00e3o ( Proxy )","title":"Camada de Aplica\u00e7\u00e3o (Proxy)"},{"location":"debian/experimento_09/#introducao","text":"Em redes de computadores, um proxy \u00e9 um servidor (um sistema de computador ou uma aplica\u00e7\u00e3o) que age como um intermedi\u00e1rio para requisi\u00e7\u00f5es de clientes solicitando recursos de outros servidores. Um cliente conecta-se ao servidor proxy , solicitando algum servi\u00e7o, como um arquivo, conex\u00e3o, p\u00e1gina web ou outros recursos dispon\u00edveis de um servidor diferente e o proxy avalia a solicita\u00e7\u00e3o como um meio de simplificar e controlar sua complexidade. Os proxies foram inventados para adicionar estrutura e encapsulamento a sistemas distribu\u00eddos. Hoje, a maioria dos proxies \u00e9 proxy web , facilitando o acesso ao conte\u00fado na World Wide Web e fornecendo anonimato.","title":"Introdu\u00e7\u00e3o"},{"location":"debian/experimento_09/#objetivos","text":"Permitir que os alunos tenham contato com regras de Proxy em m\u00e1quinas Linux.","title":"Objetivos"},{"location":"debian/experimento_09/#teoria-abordada-no-experimento","text":"Objetivo e funcionamento de um proxy de aplica\u00e7\u00e3o.","title":"Teoria abordada no experimento"},{"location":"debian/experimento_09/#material-necessario","text":"Interfaces de rede (NIC's) M\u00e1quinas com sistema GNU/Linux Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente GNU/Linux b\u00e1sico, pacote Proxy server ( Squid ) Acesso \u00e0 Internet \u2013 necess\u00e1rio","title":"Material Necess\u00e1rio"},{"location":"debian/experimento_09/#roteiro","text":"","title":"Roteiro"},{"location":"debian/experimento_09/#1-montagem-de-rede-interconectada-para-o-experimento","text":"H1 (192.168.1.3), H2 (192.168.1.2) e R/eth0 (192.168.1.1).","title":"1. Montagem de rede interconectada para o experimento"},{"location":"debian/experimento_09/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","text":"Certifique-se que eventuais servi\u00e7os de suporte \u00e0s configura\u00e7\u00f5es de rede estejam desativados. Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 .","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es"},{"location":"debian/experimento_09/#3-configuracao-dos-equipamentos","text":"Em R, instalar o SQUID ( proxy server ). $ # atualizar os reposit\u00f3rios $ sudo apt-get update $ # instalar SQUID $ sudo apt-get install squid Ap\u00f3s a instala\u00e7\u00e3o, \u00e9 poss\u00edvel verificar o arquivo de configura\u00e7\u00e3o do SQUID: $ squid -f /etc/squid/squid.conf -k parse Inicie o servi\u00e7o SQUID: $ systemctl start squid ATEN\u00c7\u00c3O: \u00c9 poss\u00edvel verificar o log do SQUID usando o comando tail -f /var/log/squid/access.log .","title":"3. Configura\u00e7\u00e3o dos equipamentos"},{"location":"debian/experimento_09/#etapa-1","text":"Adicionar as seguintes funcionalidades ao SQUID: controle de acesso web por m\u00e1quina (IP). Edite o arquivo squid.conf ( /etc/squid/squid.conf ) para adicionar uma regra de acesso e adicione a regra criada ao conjunto de regras de acesso HTTP seguido pelo tipo de acesso (allow/deny): # acl nome_da_regra src IP/mascara acl meu_ip src 192.168.1.3 # http_access allow/deny nome_da_regra http_access allow meu_ip black list (BL) para h1 e h2. Edite o arquivo squid.conf ( /etc/squid/squid.conf ) para adicionar regras de blacklist para os endere\u00e7os IP de H1 e H2 e adicione as regras criadas ao conjunto de regras de acesso HTTP seguido pelo tipo de acesso (deny): # acl nome_da_regra_bl_h1 src IP acl blacklist_h1 src 192.168.1.3 # acl nome_da_regra_bl_h2 src IP acl blacklist_h2 src 192.168.1.2 # http_access allow nome_da_regra_bl_h1 http_access deny blacklist_h1 # http_access allow nome_da_regra_bl_h2 http_access deny blacklist_h2 White list (WL) para h1 (e/ou h2). Edite o arquivo squid.conf ( /etc/squid/squid.conf ) para adicionar regras de whitelist para os endere\u00e7os IP de H1 e adicione as regras criadas ao conjunto de regras de acesso HTTP seguido pelo tipo de acesso (allow): # acl nome_da_regra_wl_h1 src IP acl whitelist_h1 src 192.168.1.3 # http_access allow nome_da_regra_wl_h1 http_access allow whitelist_h1 Salve e reinicie o SQUID para que as configura\u00e7\u00f5es tenham efeito. $ systemctl restart squid Verificar e descrever qual o n\u00edvel de preval\u00eancia entre wl e bl. ATEN\u00c7\u00c3O: As regras de acesso s\u00e3o aplicadas na ordem em que s\u00e3o definidas, por isso, \u00e9 importante posicionar as regras de blacklist depois de qualquer outra regra de acesso, para garantir que essas regras sejam aplicadas corretamente. Ajustar h1 e h2 para que percebam a presen\u00e7a do proxy para o acesso Internet (configura\u00e7\u00e3o manual). Obs. : R possui acesso Internet, mas n\u00e3o possui NAT. Em h1 e h2 adicionar seguinte configura\u00e7\u00e3o (tamb\u00e9m pode ser feito utilizando a configura\u00e7\u00e3o do browser) no arquivo apt.conf ( /etc/apt/apt.conf ): Acquire::http::Proxy \"http://192.168.1.1:3128/\"; Acquire::https::Proxy \"http://192.168.1.1:3128/\"; Em R, edite o arquivo sysctl.conf ( /etc/sysctl.conf ), para ativar o encaminhamento de pacotes IP (IP forwarding ), remova o coment\u00e1rio da seguinte linha: net.ipv4.ip_forward=1 Ative a configura\u00e7\u00e3o. $ sysctl net.ipv4.ip_forward=1 Configure e reinicie o firewall para permitir as conex\u00f5es de H1 e H2: $ iptables -A INPUT -s 192.168.1.2 -j ACCEPT $ iptables -A INPUT -s 192.168.1.3 -j ACCEPT $ systemctl restart squid","title":"Etapa 1"},{"location":"debian/experimento_09/#etapa-2","text":"Montar a configura\u00e7\u00e3o de rede abaixo e seguir os requisitos descritos a seguir. R/eth1 (172.25.0.1) e S1 (172.25.0.2). H1 (192.168.1.3), H2 (192.168.1.2) e R/eth0 (192.168.1.1). Transferir a fun\u00e7\u00e3o de proxy para S1, incluindo as restri\u00e7\u00f5es definidas anteriormente. Instale o SQUID no S1 e configure-o para atuar como um proxy para as conex\u00f5es de H1 e H2. Isso incluiria configurar as regras de controle de acesso por IP, black list (BL) e white list (WL) para H1 e H2. Configure R para encaminhar as conex\u00f5es de H1 e H2 para S1: $ ipfw add 140 forward ip from 192.168.1.2 to any via 172.25.0.2 $ ipfw add 150 forward ip from 192.168.1.3 to any via 172.25.0.2 Montar um SNAT em R para que S1 possa acessar a Internet. Isso pode ser feito usando o recurso de NAT do firewall de R, adicionando as seguintes regras: $ # <interface> \u00e9 o ip da interface de rede que est\u00e1 conectada \u00e0 Internet $ iptables -t nat -A POSTROUTING -s 172.25.0.2 -j SNAT --to <interface> Ajustar a tabela de rotas para que h1 e h2 consigam pingar em S1. $ ip route add 172.25.0.0/24 via 172.25.0.2 Montar regras em R (e onde for preciso) para garantir o proxy transparente (ou seja, h1 e h2 n\u00e3o sabem da presen\u00e7a de um proxy). Obs. : Verificar se \u00e9 poss\u00edvel resolver o desvio para o proxy usando um chain. $ iptables -t nat -A PREROUTING -i 192.168.1.1 -p tcp --dport 80 -j DNAT --to 172.25.0.2:3128","title":"Etapa 2"},{"location":"debian/experimento_09/#questoes-para-estudo","text":"Como o protocolo HTTP funciona e como ele \u00e9 usado pelo Squid para implementar o proxy? Como o uso de chains no firewall Iptables pode ser usado para implementar pol\u00edticas de firewall mais avan\u00e7adas e flex\u00edveis? Quais s\u00e3o as principais diferen\u00e7as entre o proxy e o firewall e como eles podem ser usados \u200b\u200bjuntos para melhorar a seguran\u00e7a da rede? Como o Squid possui configura\u00e7\u00e3o para melhorar a seguran\u00e7a do proxy? Explique.","title":"Quest\u00f5es para Estudo"},{"location":"debian/experimento_09/#referencias-bibliograficas","text":"ROG\u00c9RIO. FreeBSD com proxy Squid - Revista Infra Magazine 4. Devmedia, 2012. Dispon\u00edvel em: https://www.devmedia.com.br/freebsd-com-proxy-squid-revista-infra-magazine-4/23440. Acesso em: 18 dez. 2022. Linuxhelp.com. How to install squid proxy server on freeBSD. Data desconhecida. Linux Help. Dispon\u00edvel em: https://www.linuxhelp.com/how-to-install-squid-proxy-server-on-freebsd. Acesso em: 18 dez. 2022. debian.org. squid. Debian Manpages, 2022. Dispon\u00edvel em: https://manpages.debian.org/bullseye/squid/squid.8.en.html. Acesso em: 17 jan. 2023. Wikipedia.org. Proxy. Data desconhecida. Wikipedia. Dispon\u00edvel em: https://pt.wikipedia.org/wiki/Proxy. Acesso em: 18 dez. de 2022. WETHERALL, D. J; TANENBAUM, A. S. Computer networks. Pearson Education, 2013. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Refer\u00eancias Bibliogr\u00e1ficas"},{"location":"debian/experimento_10/","text":"Camada de Aplica\u00e7\u00e3o (DNS) Pr\u00e1tica de Laborat\u00f3rio 10 Camada de Aplica\u00e7\u00e3o (DNS) Introdu\u00e7\u00e3o O Domain Name System (DNS) \u00e9 um importante componente da Internet, respons\u00e1vel por fazer a tradu\u00e7\u00e3o de nomes de dom\u00ednio para endere\u00e7os IP e vice-versa. Isso permite que os usu\u00e1rios acessem sites e servi\u00e7os atrav\u00e9s de nomes de dom\u00ednio, em vez de ter que digitar os endere\u00e7os IP correspondentes. Objetivos Demonstrar o funcionamento do DNS e sua import\u00e2ncia na Internet. Mostrar como configurar um servidor DNS no Linux. Verificar o funcionamento do servidor DNS atrav\u00e9s de consultas utilizando os comandos dig e nslookup . Teoria abordada no experimento Objetivo e funcionamento do protocolo DNS. Material Necess\u00e1rio Interfaces de rede (NIC's) M\u00e1quinas com sistema GNU/Linux Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente GNU/Linux b\u00e1sico, pacotes de servidor DNS ( bind9 ) Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Desligar o servidor DNS para as m\u00e1quinas de aula Roteiro 1. Montagem de rede interconectada para o experimento H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4) e R/eth0 (192.168.1.1). 2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es Certifique-se que eventuais servi\u00e7os de suporte \u00e0s configura\u00e7\u00f5es de rede estejam desativados. Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 . 3. Instala\u00e7\u00e3o do pacote de servidor DNS Para a execu\u00e7\u00e3o deste experimento \u00e9 essencial a instala\u00e7\u00e3o do pacote bind9 , que n\u00e3o \u00e9 incluso por padr\u00e3o no Debian. Para prosseguir com a instala\u00e7\u00e3o, execute o seguinte comando: $ sudo apt-get install bind9 $ sudo systemctl start bind9 Verifique se o servidor DNS est\u00e1 funcionando corretamente com o seguinte comando: $ nslookup localhost 4. Configura\u00e7\u00e3o do Servidor DNS Edite o arquivo de configura\u00e7\u00e3o do DNS, named.conf ( /etc/bind/named.conf ) e adicione as seguintes linhas para configurar as suas zonas de busca direta e inversa: zone \"exemplo.com\" { type master; file \"/etc/bind/master/exemplo.com.db\"; }; zone \"1.168.192.in-addr.arpa\" { type master; file \"etc/bind/master/192.168.1.db\"; }; Crie os arquivos de zona de busca direta e inversa. O arquivo de zona de busca direta, exemplo.com.db ( /etc/bind/master/exemplo.com.db ), deve conter informa\u00e7\u00f5es sobre os seus servidores de nomes e endere\u00e7os IP: $TTL 86400 @ IN SOA ns1.exemplo.com. admin.exemplo.com. ( 20201022 ;Serial 3600 ;Refresh 1800 ;Retry 604800 ;Expire 86400 ) ;Minimum TTL ; @ IN NS ns1.exemplo.com. @ IN A 192.168.1.3 ns1 IN A 192.168.1.3 www IN A 192.168.1.3 H1 IN A 192.168.1.2 H2 IN A 192.168.1.4 O arquivo de zona de busca inversa, 192.168.1.db ( /etc/bind/master/192.168.1.db ), deve conter informa\u00e7\u00f5es sobre os seus endere\u00e7os IP e nomes de host: $TTL 86400 @ IN SOA ns1.exemplo.com. admin.exemplo.com. ( 20201022 ;Serial 3600 ;Refresh 1800 ;Retry 604800 ;Expire 86400 ) ;Minimum TTL ; @ IN NS ns1.exemplo.com. 2 IN PTR H1.exemplo.com. 3 IN PTR ns1.exemplo.com. 4 IN PTR H2.exemplo.com. Reinicie o servi\u00e7o DNS usando o seguinte comando: $ sudo systemctl restart bind9 Fa\u00e7a consultas ao servidor DNS para verificar se est\u00e1 funcionando corretamente: $ nslookup host_da_rede 5. Configura\u00e7\u00e3o do cliente DNS Para que outros hosts da rede usem o servidor DNS que voc\u00ea configurou, \u00e9 necess\u00e1rio especificar o endere\u00e7o IP do servidor DNS como sendo o servidor de nomes padr\u00e3o (ou nameserver ) desses hosts. No FreeBSD, configure o arquivo resolv.conf ( /etc/resolv.conf ) especificando o servidor de nomes padr\u00e3o: nameserver 192.168.1.4 Verifique se o host est\u00e1 usando o servidor DNS configurado, fazendo uma consulta. $ nslookup host_da_rede Quest\u00f5es para Estudo Como voc\u00ea faria para adicionar um registro MX (Mail Exchange) ao seu arquivo de zona de busca direta? Como voc\u00ea faria para configurar uma zona secund\u00e1ria (slave) no seu servidor DNS? Como voc\u00ea faria para monitorar e solucionar problemas comuns de desempenho em um servidor DNS, como consultas de DNS n\u00e3o autorizadas ou ataques de nega\u00e7\u00e3o de servi\u00e7o (DoS)? Como voc\u00ea faria para configurar o seu servidor DNS para fornecer servi\u00e7os de resolu\u00e7\u00e3o de nomes para redes privadas usando NAT? Refer\u00eancias Bibliogr\u00e1ficas LEE, C; RHODES, T; GERZO, D. Domain Name System (DNS). Data desconhecida. FreeBSD Handbook. Dispon\u00edvel em: https://docs.freebsd.org/doc/7.4-RELEASE/usr/share/doc/handbook/network-dns.html. Acesso em: 19 dez. 2022. OLIVEIRA, W. P. Instalando e configurando o Servi\u00e7o DNS na rede com Linux com BIND9 - Parte 1. YouTube, 6 de abr. de 2021. Dispon\u00edvel em: https://www.youtube.com/watch?v=m1ffSGGRDb0. Acesso em: 19 dez. de 2022. OLIVEIRA, W. P. Instalando e configurando o Servi\u00e7o DNS na rede com Linux com BIND9 - Parte 2. YouTube, 7 de abr. de 2021. Dispon\u00edvel em: https://www.youtube.com/watch?v=SSzdIHGYSZw. Acesso em: 19 dez. de 2022. OLIVEIRA, W. P. Instalando e configurando o Servi\u00e7o DNS na rede com Linux com BIND9 - Parte 3. YouTube, 7 de abr. de 2021. Dispon\u00edvel em: https://www.youtube.com/watch?v=HHq7NbddFPg. Acesso em: 19 dez. de 2022. WETHERALL, D. J; TANENBAUM, A. S. Computer networks. Pearson Education, 2013. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Camada de Aplica\u00e7\u00e3o (DNS)"},{"location":"debian/experimento_10/#camada-de-aplicacao-dns","text":"Pr\u00e1tica de Laborat\u00f3rio 10 Camada de Aplica\u00e7\u00e3o (DNS)","title":"Camada de Aplica\u00e7\u00e3o (DNS)"},{"location":"debian/experimento_10/#introducao","text":"O Domain Name System (DNS) \u00e9 um importante componente da Internet, respons\u00e1vel por fazer a tradu\u00e7\u00e3o de nomes de dom\u00ednio para endere\u00e7os IP e vice-versa. Isso permite que os usu\u00e1rios acessem sites e servi\u00e7os atrav\u00e9s de nomes de dom\u00ednio, em vez de ter que digitar os endere\u00e7os IP correspondentes.","title":"Introdu\u00e7\u00e3o"},{"location":"debian/experimento_10/#objetivos","text":"Demonstrar o funcionamento do DNS e sua import\u00e2ncia na Internet. Mostrar como configurar um servidor DNS no Linux. Verificar o funcionamento do servidor DNS atrav\u00e9s de consultas utilizando os comandos dig e nslookup .","title":"Objetivos"},{"location":"debian/experimento_10/#teoria-abordada-no-experimento","text":"Objetivo e funcionamento do protocolo DNS.","title":"Teoria abordada no experimento"},{"location":"debian/experimento_10/#material-necessario","text":"Interfaces de rede (NIC's) M\u00e1quinas com sistema GNU/Linux Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente GNU/Linux b\u00e1sico, pacotes de servidor DNS ( bind9 ) Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Desligar o servidor DNS para as m\u00e1quinas de aula","title":"Material Necess\u00e1rio"},{"location":"debian/experimento_10/#roteiro","text":"","title":"Roteiro"},{"location":"debian/experimento_10/#1-montagem-de-rede-interconectada-para-o-experimento","text":"H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4) e R/eth0 (192.168.1.1).","title":"1. Montagem de rede interconectada para o experimento"},{"location":"debian/experimento_10/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","text":"Certifique-se que eventuais servi\u00e7os de suporte \u00e0s configura\u00e7\u00f5es de rede estejam desativados. Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 .","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es"},{"location":"debian/experimento_10/#3-instalacao-do-pacote-de-servidor-dns","text":"Para a execu\u00e7\u00e3o deste experimento \u00e9 essencial a instala\u00e7\u00e3o do pacote bind9 , que n\u00e3o \u00e9 incluso por padr\u00e3o no Debian. Para prosseguir com a instala\u00e7\u00e3o, execute o seguinte comando: $ sudo apt-get install bind9 $ sudo systemctl start bind9 Verifique se o servidor DNS est\u00e1 funcionando corretamente com o seguinte comando: $ nslookup localhost","title":"3. Instala\u00e7\u00e3o do pacote de servidor DNS"},{"location":"debian/experimento_10/#4-configuracao-do-servidor-dns","text":"Edite o arquivo de configura\u00e7\u00e3o do DNS, named.conf ( /etc/bind/named.conf ) e adicione as seguintes linhas para configurar as suas zonas de busca direta e inversa: zone \"exemplo.com\" { type master; file \"/etc/bind/master/exemplo.com.db\"; }; zone \"1.168.192.in-addr.arpa\" { type master; file \"etc/bind/master/192.168.1.db\"; }; Crie os arquivos de zona de busca direta e inversa. O arquivo de zona de busca direta, exemplo.com.db ( /etc/bind/master/exemplo.com.db ), deve conter informa\u00e7\u00f5es sobre os seus servidores de nomes e endere\u00e7os IP: $TTL 86400 @ IN SOA ns1.exemplo.com. admin.exemplo.com. ( 20201022 ;Serial 3600 ;Refresh 1800 ;Retry 604800 ;Expire 86400 ) ;Minimum TTL ; @ IN NS ns1.exemplo.com. @ IN A 192.168.1.3 ns1 IN A 192.168.1.3 www IN A 192.168.1.3 H1 IN A 192.168.1.2 H2 IN A 192.168.1.4 O arquivo de zona de busca inversa, 192.168.1.db ( /etc/bind/master/192.168.1.db ), deve conter informa\u00e7\u00f5es sobre os seus endere\u00e7os IP e nomes de host: $TTL 86400 @ IN SOA ns1.exemplo.com. admin.exemplo.com. ( 20201022 ;Serial 3600 ;Refresh 1800 ;Retry 604800 ;Expire 86400 ) ;Minimum TTL ; @ IN NS ns1.exemplo.com. 2 IN PTR H1.exemplo.com. 3 IN PTR ns1.exemplo.com. 4 IN PTR H2.exemplo.com. Reinicie o servi\u00e7o DNS usando o seguinte comando: $ sudo systemctl restart bind9 Fa\u00e7a consultas ao servidor DNS para verificar se est\u00e1 funcionando corretamente: $ nslookup host_da_rede","title":"4. Configura\u00e7\u00e3o do Servidor DNS"},{"location":"debian/experimento_10/#5-configuracao-do-cliente-dns","text":"Para que outros hosts da rede usem o servidor DNS que voc\u00ea configurou, \u00e9 necess\u00e1rio especificar o endere\u00e7o IP do servidor DNS como sendo o servidor de nomes padr\u00e3o (ou nameserver ) desses hosts. No FreeBSD, configure o arquivo resolv.conf ( /etc/resolv.conf ) especificando o servidor de nomes padr\u00e3o: nameserver 192.168.1.4 Verifique se o host est\u00e1 usando o servidor DNS configurado, fazendo uma consulta. $ nslookup host_da_rede","title":"5. Configura\u00e7\u00e3o do cliente DNS"},{"location":"debian/experimento_10/#questoes-para-estudo","text":"Como voc\u00ea faria para adicionar um registro MX (Mail Exchange) ao seu arquivo de zona de busca direta? Como voc\u00ea faria para configurar uma zona secund\u00e1ria (slave) no seu servidor DNS? Como voc\u00ea faria para monitorar e solucionar problemas comuns de desempenho em um servidor DNS, como consultas de DNS n\u00e3o autorizadas ou ataques de nega\u00e7\u00e3o de servi\u00e7o (DoS)? Como voc\u00ea faria para configurar o seu servidor DNS para fornecer servi\u00e7os de resolu\u00e7\u00e3o de nomes para redes privadas usando NAT?","title":"Quest\u00f5es para Estudo"},{"location":"debian/experimento_10/#referencias-bibliograficas","text":"LEE, C; RHODES, T; GERZO, D. Domain Name System (DNS). Data desconhecida. FreeBSD Handbook. Dispon\u00edvel em: https://docs.freebsd.org/doc/7.4-RELEASE/usr/share/doc/handbook/network-dns.html. Acesso em: 19 dez. 2022. OLIVEIRA, W. P. Instalando e configurando o Servi\u00e7o DNS na rede com Linux com BIND9 - Parte 1. YouTube, 6 de abr. de 2021. Dispon\u00edvel em: https://www.youtube.com/watch?v=m1ffSGGRDb0. Acesso em: 19 dez. de 2022. OLIVEIRA, W. P. Instalando e configurando o Servi\u00e7o DNS na rede com Linux com BIND9 - Parte 2. YouTube, 7 de abr. de 2021. Dispon\u00edvel em: https://www.youtube.com/watch?v=SSzdIHGYSZw. Acesso em: 19 dez. de 2022. OLIVEIRA, W. P. Instalando e configurando o Servi\u00e7o DNS na rede com Linux com BIND9 - Parte 3. YouTube, 7 de abr. de 2021. Dispon\u00edvel em: https://www.youtube.com/watch?v=HHq7NbddFPg. Acesso em: 19 dez. de 2022. WETHERALL, D. J; TANENBAUM, A. S. Computer networks. Pearson Education, 2013. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Refer\u00eancias Bibliogr\u00e1ficas"},{"location":"debian/experimento_11/","text":"Introdu\u00e7\u00e3o ao IPv6 Pr\u00e1tica de Laborat\u00f3rio 11 Introdu\u00e7\u00e3o ao IPv6 Introdu\u00e7\u00e3o O IPv6 \u00e9 o sucessor do IPv4 e foi criado para resolver os problemas de escassez de endere\u00e7os IP que ocorriam no IPv4. Ele fornece uma quantidade praticamente ilimitada de endere\u00e7os IP, permitindo que as redes cres\u00e7am e evoluam de forma mais flex\u00edvel e escal\u00e1vel. Neste experimento pr\u00e1tico, vamos explorar como configurar o IPv6 no sistema operacional Linux atrav\u00e9s da utiliza\u00e7\u00e3o de comandos e configura\u00e7\u00f5es no arquivo interfaces ( /etc/network/interfaces ). Objetivos Compreender as configura\u00e7\u00f5es b\u00e1sicas para navegabilidade em uma rede de computadores utilizando o IPv6. Exercitar configura\u00e7\u00f5es b\u00e1sicas e entender como usar ferramentas de diagn\u00f3stico para validar configura\u00e7\u00f5es. Teoria abordada no experimento Conceitos b\u00e1sicos do IPv6 e o funcionamento b\u00e1sico de uma rede TCP/IP utilizando o IPv6. Material Necess\u00e1rio Interfaces de rede (NIC's) M\u00e1quinas com sistema GNU/Linux Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente GNU/Linux b\u00e1sico Acesso \u00e0 Internet \u2013 necess\u00e1rio Desligar o servidor e cliente DHCP para as m\u00e1quinas do experimento Roteiro 1. Montagem de rede interconectada para o experimento H1 (2001:0db8:0:f100::2/64), H2 (2001:0db8:0:f100::3/64) e R/eth0 (2001:0db8:0:f100::1/64). 2. Configurar os clientes na rede de testes 2.1 Configura\u00e7\u00e3o manual usando ifconfig(8) Para ver o estado atual da interface de rede que est\u00e1 sendo usada na maquina, execute: $ ifconfig <interface> Caso o comando n\u00e3o mostre nenhum endere\u00e7o IPv6 configurado, pode indicar que o IPv6 esta desabilitado nesta interface. Para verificar se est\u00e1 desabilitado, execute o comando: $ sysctl -a | grep net.ipv6.conf.<interface>.disable_ipv6 Esse comando ir\u00e1 exibir o valor da configura\u00e7\u00e3o net.ipv6.conf.<interface>.disable_ipv6 , que controla se o IPv6 est\u00e1 habilitado ou desabilitado para todas as interfaces. Se o valor for 1, significa que o IPv6 est\u00e1 desabilitado, se for 0, significa que o IPv6 est\u00e1 habilitado. Caso o comando mostre que o IPv6 est\u00e1 desabilitado, adicione a seguinte linha no arquivo sysctl.conf ( /etc/sysctl.conf ): net.ipv6.conf.<interface>.disable_ipv6 = 0 Para for\u00e7ar a mudan\u00e7a, execute: $ sysctl -p Ap\u00f3s a habilita\u00e7\u00e3o, verifique novamente o estado atual da interface de rede. Dever\u00e1 ser capaz de ver a linha inet6 , que ser\u00e1 o endere\u00e7o IPv6 configurado para a interface em quest\u00e3o. Envie pacotes icmp ( ping ) para testar a configura\u00e7\u00e3o: $ ping <inet6_address> Execute o servi\u00e7o SSH no Debian e fa\u00e7a um teste para verificar se \u00e9 poss\u00edvel conectar no SSH atrav\u00e9s do IPv6. $ ssh -v <inet6_address> ATEN\u00c7\u00c3O: Este teste ir\u00e1 falhar caso o par\u00e2metro AddressFamily , no arquivo de configura\u00e7\u00e3o do sshd_config , estiver definido como inet . Veja a sa\u00edda de ss -6 -t -a | grep ssh para verificar se SSH escuta o soquete IPv6. 2.2 Endere\u00e7os Multicast \u00dateis Um endere\u00e7o Multicast identifica um conjunto de interfaces, onde um pacote enviado a um endere\u00e7o multicast \u00e9 entregue a todas as interfaces associadas a esse endere\u00e7o. A seguir est\u00e3o representados dois importantes endere\u00e7os Multicast : ff02::1 - endere\u00e7o multicast de todos os n\u00f3s da rede no escopo link-local. ff02::2 - endere\u00e7o multicast de todos os roteadores da rede no escopo link-local. \u00c9 poss\u00edvel enviar pacotes ICMPv6 para visualizar os n\u00f3s da rede que est\u00e3o conectados no mesmo link: $ ping ff02::1 ATEN\u00c7\u00c3O: \u00c9 necess\u00e1rio informar o identificador de zona no comando anterior. A partir das informa\u00e7\u00f5es dadas, fa\u00e7a a mesma coisa para visualizar os roteadores que est\u00e3o conectados no mesmo link. 2.3 Configura\u00e7\u00e3o de host IPv6 No IPv6 \u00e9 poss\u00edvel configurar mais de um endere\u00e7o em uma \u00fanica interface: $ ifconfig <interface> inet6 fe80::1/64 Envie pacotes icmp ( ping ) para testar a configura\u00e7\u00e3o: $ ping fe80::1/64 Execute o servi\u00e7o SSH no Debian e fa\u00e7a um teste para verificar se \u00e9 poss\u00edvel conectar no SSH atrav\u00e9s do IPv6. $ ssh -v <inet6_address> Para remover um endere\u00e7o espec\u00edfico, pode-se usar o par\u00e2metro -alias : $ ifconfig <interface> inet6 fe80::1/64 -alias 2.4 Configura\u00e7\u00e3o manual usando o arquivo interfaces Para configurar o IPv6 no arquivo interfaces ( /etc/network/interfaces ) utiliza-se o par\u00e2metro iface <interface> inet6 para indicar que a interface <interface> \u00e9 compat\u00edvel com IPv6. Na seguinte configura\u00e7\u00e3o apenas um endere\u00e7o de link-local \u00e9 configurado automaticamente: auto eth0 iface eth0 inet6 auto_linklocal Se voc\u00ea quiser adicionar outro endere\u00e7o de link-local manualmente, voc\u00ea pode adicionar a linha static em iface <interface> inet6 . auto eth0 iface eth0 inet6 static address fe80::1 netmask 64 Mais endere\u00e7os podem ainda ser adicionados usando a mesma linha: auto eth0 iface eth0 inet6 static address fe80::1 netmask 64 address fe80::2 netmask 64 A partir dos exemplos dados at\u00e9 aqui, configure uma topologia semelhante a apresentada no inicio do experimento. Ap\u00f3s configurar os endere\u00e7os execute o seguinte comando para reconfigurar a interface: $ ifdown <interface> && ifup <interface> 3. Validando as configura\u00e7\u00f5es Confira a conectividade b\u00e1sica enviando pacotes ICMPv6 para algum outro computador que esteja conectado \u00e0 mesma rede: $ ping <inet6_address> Como proceder para configurar o esquema de resolu\u00e7\u00e3o de nomes? 4. Internet em IPv6 4.1 Configura\u00e7\u00e3o manual Ao configurar e validar uma topologia semelhante a apresentada no inicio do experimento, pode ter ficado a duvida de como acessar destinos fora da rede local. Para que isso seja poss\u00edvel primeiro \u00e9 necess\u00e1rio adicionar a seguinte linha ao arquivo interfaces ( /etc/network/interfaces ): auto eth0 iface eth0 inet6 static address fe80::1 netmask 64 gateway 2001:0db8:0:f100::1 Esta vari\u00e1vel especifica o roteador padr\u00e3o. Caso voc\u00ea n\u00e3o saiba o endere\u00e7o ipv6 do seu roteador voc\u00ea pode executar comandos que foram explicados anteriormente neste experimento. Tente! Ap\u00f3s especificar o roteador padr\u00e3o no arquivo \u00e9 necess\u00e1rio reconfigurar a interface atrav\u00e9s do utilit\u00e1rio ifconfig , ja apresentado no presente experimento. Verifique o estado atual da interface de rede: $ ifconfig <interface> Ap\u00f3s configurado o endere\u00e7o padr\u00e3o do roteador voc\u00ea pode enviar pacotes ICMPv6 atrav\u00e9s da internet: $ ping www.debian.org Observe que a resolu\u00e7\u00e3o de nomes de dom\u00ednio DNS \u00e9 executada pelos servidores de nomes listados em resolv.conf ( /etc/resolv.conf ). Se o seu roteador IPv6 funcionar como um proxy DNS, voc\u00ea pode colocar o endere\u00e7o IPv6 assim: nameserver <inet6_address> 4.2 Configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o global (SLAAC) O IPv6 possui recursos de configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o atrav\u00e9s de mensagens RA do roteador (protocolo NDP). \u00c9 poss\u00edvel configurar um endere\u00e7o IPv6 automaticamente, caso o seu roteador ofere\u00e7a suporte \u00e0s mensagens RA. Para verificar se o seu roteador IPv6 oferece suporte a mensagens RA, voc\u00ea pode usar o utilit\u00e1rio ping6 no endere\u00e7o de multicast . O comando envia um pacote ICMPv6 para o endere\u00e7o de multicast na interface definida e se o roteador suporta RA, ele deve responder.: $ ping6 -I eth0 ff02::1%eth0 Caso a resposta contenha o endere\u00e7o do roteador, significa que \u00e9 poss\u00edvel utilizar a configura\u00e7\u00e3o autom\u00e1tica. No arquivo sysctl.conf ( /etc/sysctl.conf ) atualizar o valor da vari\u00e1vel net.ipv6.conf.<interface>.accept_ra : $ net.ipv6.conf.all.accept_ra=<value> Onde <value> \u00e9 um n\u00famero inteiro que representa o valor de configura\u00e7\u00e3o. O valor padr\u00e3o \u00e9 2, que significa que as mensagens RA s\u00e3o aceitas, mas somente se o endere\u00e7o IPv6 de link-local j\u00e1 foi configurado manualmente. Verifique o estado atual da interface de rede: $ ifconfig <interface_nome> A palavra-chave autoconf deve ser mostrada logo ap\u00f3s o endere\u00e7o. ATEN\u00c7\u00c3O: No caso da configura\u00e7\u00e3o autom\u00e1tica, n\u00e3o \u00e9 necess\u00e1rio definir o roteador padr\u00e3o no arquivo interfaces ( /etc/network/interfaces ). Pois, o valor net.ipv6.conf.<interface>.accept_ra configura um endere\u00e7o IPv6 global e o roteador padr\u00e3o. 6. Configura\u00e7\u00e3o de um roteador IPv6 A topologia a seguir mostra um exemplo de um rede que possui um roteador IPv6 para ter duas redes independentes. A LAN 1 e a LAN 2 s\u00e3o conectadas entre si pelo roteador, e outro roteador oferece acessibilidade \u00e0 Internet IPv6. H1 (2001:0db8:0:f100::2/64) e R/bge1 (2001:0db8:0:f100::1/64). H2 (2001:0db8:0:f101::3/64), R/bge0 (2001:0db8:0:f101::2/64) e R (2001:0db8:0:f101::1/64) Para habilitar o encaminhamento de pacotes, \u00e9 necess\u00e1rio que a vari\u00e1vel net.ipv6.conf.all.forwarding esteja ativa. Voc\u00ea deve editar o arquivo sysctl.conf ( /etc/sysctl.conf ) e adicionar ou modificar a seguinte linha: net.ipv6.conf.all.forwarding=1 Assumindo que bge0 e bge1 s\u00e3o as interfaces de rede do roteador para LAN 1 e LAN 2 respectivamente, o arquivo interfaces ( /etc/network/interfaces ) ficara semelhante a isso: auto bge0 iface bge0 inet6 static address 2001:0db8:0:f101::2 netmask 64 gateway fe80::5a52:8aff:fe10:e323 auto bge1 iface bge1 inet6 static address 2001:0db8:0:f100::1 netmask 64 gateway fe80::5a52:8aff:fe10:e323 A interface que conecta a LAN 1 ( bge0 ) n\u00e3o tem conhecimento da rota para a interface da LAN 2 ( bge1 ). Por isso, \u00e9 necess\u00e1rio adicionar uma configura\u00e7\u00e3o de rota est\u00e1tica nela usando um endere\u00e7o de link-local da interface bge1 . $ ip -6 route add 2001:0db8:0:f100::1/64 dev bge1 Verifique se a rota foi adicionada com sucesso. $ ip route show Por\u00e9m, o roteador Debian ainda n\u00e3o habilitou o envio de mensagens RA, para configura\u00e7\u00e3o autom\u00e1tica de hosts na rede. Para enviar mensagens RA, voc\u00ea precisa editar o arquivo sysctl.conf ( /etc/sysctl.conf ) e adicionar ou modificar a seguinte linha: net.ipv6.conf.all.send_redirects=1 Configure H1 para utilizar a configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o e verifique se est\u00e1 tudo ocorrendo da maneira correta. 7. Usando DHCPv6 O tipo de configura\u00e7\u00e3o apresentado na etapa 4.2 \u00e9 algo mais pr\u00f3ximo do DHCP no IPv4. No entanto, voc\u00ea n\u00e3o pode controlar qual endere\u00e7o est\u00e1 realmente configurado em cada host porque eles s\u00e3o gerados a partir dos endere\u00e7os MAC. Para um controle mais refinado da configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o, voc\u00ea precisar\u00e1 de outro m\u00e9todo, como DHCPv6. Para configurar um host em uma rede que utiliza o DHCPv6, edite o arquivo interfaces ( /etc/network/interfaces ): iface eth0 inet6 dhcp Verifique o estado atual da interface de rede: $ ifconfig <interface> Para verificar se o endere\u00e7o foi dinamicamente atribu\u00eddo atrav\u00e9s do DHCPv6, execute: $ ip -f inet6 addr show Caso apare\u00e7a a palavra dynamic ao lado do endere\u00e7o IPv6 significa que o host foi configurado atrav\u00e9s do DHCPv6. Procure saber sobre a configura\u00e7\u00e3o de um servidor DHCPv6 utilizando o Debian. ATEN\u00c7\u00c3O: \u00c9 necess\u00e1rio ter um servidor DHCPv6 configurado na rede para que o experimento anterior funcione. Quest\u00f5es para Estudo Em certo momento do experimento, bastou apenas mudar o valor da vari\u00e1vel net.ipv6.conf.<interface>.disable_ipv6 para que um IPv6 fosse configurado. Por que ocorreu isso e como desativar essa configura\u00e7\u00e3o autom\u00e1tica? O que \u00e9 StateLess Address AutoConfiguration (SLAAC) e qual sua utilidade na atribui\u00e7\u00e3o de endere\u00e7os IPv6? Explique os tipos de endere\u00e7o IPv6 e seus respectivos prefixos? Para acessar a internet por meio do IPv4 \u00e9 necess\u00e1rio o uso do NAT. No IPv6 tamb\u00e9m \u00e9 necess\u00e1rio? Explique. Um roteador pode ser configurado usando o recurso de configura\u00e7\u00e3o autom\u00e1tica? Explique. Como funciona a configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o atrav\u00e9s do protocolo NDP? Em v\u00e1rios momentos do experimento foi omitido a parte do identificador de zona e isso pode ter causado problemas. O que \u00e9 o identificador de zona e por que \u00e9 necess\u00e1rio ele em um endere\u00e7o de IPv6? Refer\u00eancias Bibliogr\u00e1ficas SATO, Hiroki. Pragmatic IPv6 (Part 1). FreeBSD Journal, 2022. Dispon\u00edvel em: https://freebsdfoundation.org/wp-content/uploads/2022/06/hiroki_IPv6.pdf. Acesso em: 20 dez. 2022. SATO, Hiroki. Pragmatic IPv6 (Part 2). FreeBSD Journal, 2022. Dispon\u00edvel em: https://issue.freebsdfoundation.org/publication/?m=33057&i=759043&p=1&ver=html5. Acesso em: 20 dez. 2022. Ipv6.br. Endere\u00e7amento. IPv6, 2012. Dispon\u00edvel em: https://ipv6.br/post/enderecamento/. Acesso em: 20 dez. 2022. NICbrvideos. IPv6 no Caf\u00e9 da Manh\u00e3 - 01 de 03 - Planejamento e Endere\u00e7amento de Redes IPv6. YouTube, 27 de jun. de 2013. Dispon\u00edvel em: https://www.youtube.com/watch?v=rWVm9JCR4Fc. Acesso em: 20 dez. de 2022. NICbrvideos. IPv6 no Caf\u00e9 da Manh\u00e3 - 02 de 03 - Planejamento e Endere\u00e7amento de Redes IPv6. YouTube, 27 de jun. de 2013. Dispon\u00edvel em: https://www.youtube.com/watch?v=COblHE5hpfg. Acesso em: 20 dez. de 2022. NICbrvideos. IPv6 no Caf\u00e9 da Manh\u00e3 - 03 de 03 - Planejamento e Endere\u00e7amento IPv6. YouTube, 27 de jun. de 2013. Dispon\u00edvel em: https://www.youtube.com/watch?v=lRty4OlZWjA. Acesso em: 20 dez. de 2022. WETHERALL, D. J; TANENBAUM, A. S. Computer networks. Pearson Education, 2013. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Introdu\u00e7\u00e3o ao IPv6"},{"location":"debian/experimento_11/#introducao-ao-ipv6","text":"Pr\u00e1tica de Laborat\u00f3rio 11 Introdu\u00e7\u00e3o ao IPv6","title":"Introdu\u00e7\u00e3o ao IPv6"},{"location":"debian/experimento_11/#introducao","text":"O IPv6 \u00e9 o sucessor do IPv4 e foi criado para resolver os problemas de escassez de endere\u00e7os IP que ocorriam no IPv4. Ele fornece uma quantidade praticamente ilimitada de endere\u00e7os IP, permitindo que as redes cres\u00e7am e evoluam de forma mais flex\u00edvel e escal\u00e1vel. Neste experimento pr\u00e1tico, vamos explorar como configurar o IPv6 no sistema operacional Linux atrav\u00e9s da utiliza\u00e7\u00e3o de comandos e configura\u00e7\u00f5es no arquivo interfaces ( /etc/network/interfaces ).","title":"Introdu\u00e7\u00e3o"},{"location":"debian/experimento_11/#objetivos","text":"Compreender as configura\u00e7\u00f5es b\u00e1sicas para navegabilidade em uma rede de computadores utilizando o IPv6. Exercitar configura\u00e7\u00f5es b\u00e1sicas e entender como usar ferramentas de diagn\u00f3stico para validar configura\u00e7\u00f5es.","title":"Objetivos"},{"location":"debian/experimento_11/#teoria-abordada-no-experimento","text":"Conceitos b\u00e1sicos do IPv6 e o funcionamento b\u00e1sico de uma rede TCP/IP utilizando o IPv6.","title":"Teoria abordada no experimento"},{"location":"debian/experimento_11/#material-necessario","text":"Interfaces de rede (NIC's) M\u00e1quinas com sistema GNU/Linux Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente GNU/Linux b\u00e1sico Acesso \u00e0 Internet \u2013 necess\u00e1rio Desligar o servidor e cliente DHCP para as m\u00e1quinas do experimento","title":"Material Necess\u00e1rio"},{"location":"debian/experimento_11/#roteiro","text":"","title":"Roteiro"},{"location":"debian/experimento_11/#1-montagem-de-rede-interconectada-para-o-experimento","text":"H1 (2001:0db8:0:f100::2/64), H2 (2001:0db8:0:f100::3/64) e R/eth0 (2001:0db8:0:f100::1/64).","title":"1. Montagem de rede interconectada para o experimento"},{"location":"debian/experimento_11/#2-configurar-os-clientes-na-rede-de-testes","text":"","title":"2. Configurar os clientes na rede de testes"},{"location":"debian/experimento_11/#21-configuracao-manual-usando-ifconfig8","text":"Para ver o estado atual da interface de rede que est\u00e1 sendo usada na maquina, execute: $ ifconfig <interface> Caso o comando n\u00e3o mostre nenhum endere\u00e7o IPv6 configurado, pode indicar que o IPv6 esta desabilitado nesta interface. Para verificar se est\u00e1 desabilitado, execute o comando: $ sysctl -a | grep net.ipv6.conf.<interface>.disable_ipv6 Esse comando ir\u00e1 exibir o valor da configura\u00e7\u00e3o net.ipv6.conf.<interface>.disable_ipv6 , que controla se o IPv6 est\u00e1 habilitado ou desabilitado para todas as interfaces. Se o valor for 1, significa que o IPv6 est\u00e1 desabilitado, se for 0, significa que o IPv6 est\u00e1 habilitado. Caso o comando mostre que o IPv6 est\u00e1 desabilitado, adicione a seguinte linha no arquivo sysctl.conf ( /etc/sysctl.conf ): net.ipv6.conf.<interface>.disable_ipv6 = 0 Para for\u00e7ar a mudan\u00e7a, execute: $ sysctl -p Ap\u00f3s a habilita\u00e7\u00e3o, verifique novamente o estado atual da interface de rede. Dever\u00e1 ser capaz de ver a linha inet6 , que ser\u00e1 o endere\u00e7o IPv6 configurado para a interface em quest\u00e3o. Envie pacotes icmp ( ping ) para testar a configura\u00e7\u00e3o: $ ping <inet6_address> Execute o servi\u00e7o SSH no Debian e fa\u00e7a um teste para verificar se \u00e9 poss\u00edvel conectar no SSH atrav\u00e9s do IPv6. $ ssh -v <inet6_address> ATEN\u00c7\u00c3O: Este teste ir\u00e1 falhar caso o par\u00e2metro AddressFamily , no arquivo de configura\u00e7\u00e3o do sshd_config , estiver definido como inet . Veja a sa\u00edda de ss -6 -t -a | grep ssh para verificar se SSH escuta o soquete IPv6.","title":"2.1 Configura\u00e7\u00e3o manual usando ifconfig(8)"},{"location":"debian/experimento_11/#22-enderecos-multicast-uteis","text":"Um endere\u00e7o Multicast identifica um conjunto de interfaces, onde um pacote enviado a um endere\u00e7o multicast \u00e9 entregue a todas as interfaces associadas a esse endere\u00e7o. A seguir est\u00e3o representados dois importantes endere\u00e7os Multicast : ff02::1 - endere\u00e7o multicast de todos os n\u00f3s da rede no escopo link-local. ff02::2 - endere\u00e7o multicast de todos os roteadores da rede no escopo link-local. \u00c9 poss\u00edvel enviar pacotes ICMPv6 para visualizar os n\u00f3s da rede que est\u00e3o conectados no mesmo link: $ ping ff02::1 ATEN\u00c7\u00c3O: \u00c9 necess\u00e1rio informar o identificador de zona no comando anterior. A partir das informa\u00e7\u00f5es dadas, fa\u00e7a a mesma coisa para visualizar os roteadores que est\u00e3o conectados no mesmo link.","title":"2.2 Endere\u00e7os Multicast \u00dateis"},{"location":"debian/experimento_11/#23-configuracao-de-host-ipv6","text":"No IPv6 \u00e9 poss\u00edvel configurar mais de um endere\u00e7o em uma \u00fanica interface: $ ifconfig <interface> inet6 fe80::1/64 Envie pacotes icmp ( ping ) para testar a configura\u00e7\u00e3o: $ ping fe80::1/64 Execute o servi\u00e7o SSH no Debian e fa\u00e7a um teste para verificar se \u00e9 poss\u00edvel conectar no SSH atrav\u00e9s do IPv6. $ ssh -v <inet6_address> Para remover um endere\u00e7o espec\u00edfico, pode-se usar o par\u00e2metro -alias : $ ifconfig <interface> inet6 fe80::1/64 -alias","title":"2.3 Configura\u00e7\u00e3o de host IPv6"},{"location":"debian/experimento_11/#24-configuracao-manual-usando-o-arquivo-interfaces","text":"Para configurar o IPv6 no arquivo interfaces ( /etc/network/interfaces ) utiliza-se o par\u00e2metro iface <interface> inet6 para indicar que a interface <interface> \u00e9 compat\u00edvel com IPv6. Na seguinte configura\u00e7\u00e3o apenas um endere\u00e7o de link-local \u00e9 configurado automaticamente: auto eth0 iface eth0 inet6 auto_linklocal Se voc\u00ea quiser adicionar outro endere\u00e7o de link-local manualmente, voc\u00ea pode adicionar a linha static em iface <interface> inet6 . auto eth0 iface eth0 inet6 static address fe80::1 netmask 64 Mais endere\u00e7os podem ainda ser adicionados usando a mesma linha: auto eth0 iface eth0 inet6 static address fe80::1 netmask 64 address fe80::2 netmask 64 A partir dos exemplos dados at\u00e9 aqui, configure uma topologia semelhante a apresentada no inicio do experimento. Ap\u00f3s configurar os endere\u00e7os execute o seguinte comando para reconfigurar a interface: $ ifdown <interface> && ifup <interface>","title":"2.4 Configura\u00e7\u00e3o manual usando o arquivo interfaces"},{"location":"debian/experimento_11/#3-validando-as-configuracoes","text":"Confira a conectividade b\u00e1sica enviando pacotes ICMPv6 para algum outro computador que esteja conectado \u00e0 mesma rede: $ ping <inet6_address> Como proceder para configurar o esquema de resolu\u00e7\u00e3o de nomes?","title":"3. Validando as configura\u00e7\u00f5es"},{"location":"debian/experimento_11/#4-internet-em-ipv6","text":"","title":"4. Internet em IPv6"},{"location":"debian/experimento_11/#41-configuracao-manual","text":"Ao configurar e validar uma topologia semelhante a apresentada no inicio do experimento, pode ter ficado a duvida de como acessar destinos fora da rede local. Para que isso seja poss\u00edvel primeiro \u00e9 necess\u00e1rio adicionar a seguinte linha ao arquivo interfaces ( /etc/network/interfaces ): auto eth0 iface eth0 inet6 static address fe80::1 netmask 64 gateway 2001:0db8:0:f100::1 Esta vari\u00e1vel especifica o roteador padr\u00e3o. Caso voc\u00ea n\u00e3o saiba o endere\u00e7o ipv6 do seu roteador voc\u00ea pode executar comandos que foram explicados anteriormente neste experimento. Tente! Ap\u00f3s especificar o roteador padr\u00e3o no arquivo \u00e9 necess\u00e1rio reconfigurar a interface atrav\u00e9s do utilit\u00e1rio ifconfig , ja apresentado no presente experimento. Verifique o estado atual da interface de rede: $ ifconfig <interface> Ap\u00f3s configurado o endere\u00e7o padr\u00e3o do roteador voc\u00ea pode enviar pacotes ICMPv6 atrav\u00e9s da internet: $ ping www.debian.org Observe que a resolu\u00e7\u00e3o de nomes de dom\u00ednio DNS \u00e9 executada pelos servidores de nomes listados em resolv.conf ( /etc/resolv.conf ). Se o seu roteador IPv6 funcionar como um proxy DNS, voc\u00ea pode colocar o endere\u00e7o IPv6 assim: nameserver <inet6_address>","title":"4.1 Configura\u00e7\u00e3o manual"},{"location":"debian/experimento_11/#42-configuracao-automatica-de-endereco-global-slaac","text":"O IPv6 possui recursos de configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o atrav\u00e9s de mensagens RA do roteador (protocolo NDP). \u00c9 poss\u00edvel configurar um endere\u00e7o IPv6 automaticamente, caso o seu roteador ofere\u00e7a suporte \u00e0s mensagens RA. Para verificar se o seu roteador IPv6 oferece suporte a mensagens RA, voc\u00ea pode usar o utilit\u00e1rio ping6 no endere\u00e7o de multicast . O comando envia um pacote ICMPv6 para o endere\u00e7o de multicast na interface definida e se o roteador suporta RA, ele deve responder.: $ ping6 -I eth0 ff02::1%eth0 Caso a resposta contenha o endere\u00e7o do roteador, significa que \u00e9 poss\u00edvel utilizar a configura\u00e7\u00e3o autom\u00e1tica. No arquivo sysctl.conf ( /etc/sysctl.conf ) atualizar o valor da vari\u00e1vel net.ipv6.conf.<interface>.accept_ra : $ net.ipv6.conf.all.accept_ra=<value> Onde <value> \u00e9 um n\u00famero inteiro que representa o valor de configura\u00e7\u00e3o. O valor padr\u00e3o \u00e9 2, que significa que as mensagens RA s\u00e3o aceitas, mas somente se o endere\u00e7o IPv6 de link-local j\u00e1 foi configurado manualmente. Verifique o estado atual da interface de rede: $ ifconfig <interface_nome> A palavra-chave autoconf deve ser mostrada logo ap\u00f3s o endere\u00e7o. ATEN\u00c7\u00c3O: No caso da configura\u00e7\u00e3o autom\u00e1tica, n\u00e3o \u00e9 necess\u00e1rio definir o roteador padr\u00e3o no arquivo interfaces ( /etc/network/interfaces ). Pois, o valor net.ipv6.conf.<interface>.accept_ra configura um endere\u00e7o IPv6 global e o roteador padr\u00e3o.","title":"4.2 Configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o global (SLAAC)"},{"location":"debian/experimento_11/#6-configuracao-de-um-roteador-ipv6","text":"A topologia a seguir mostra um exemplo de um rede que possui um roteador IPv6 para ter duas redes independentes. A LAN 1 e a LAN 2 s\u00e3o conectadas entre si pelo roteador, e outro roteador oferece acessibilidade \u00e0 Internet IPv6. H1 (2001:0db8:0:f100::2/64) e R/bge1 (2001:0db8:0:f100::1/64). H2 (2001:0db8:0:f101::3/64), R/bge0 (2001:0db8:0:f101::2/64) e R (2001:0db8:0:f101::1/64) Para habilitar o encaminhamento de pacotes, \u00e9 necess\u00e1rio que a vari\u00e1vel net.ipv6.conf.all.forwarding esteja ativa. Voc\u00ea deve editar o arquivo sysctl.conf ( /etc/sysctl.conf ) e adicionar ou modificar a seguinte linha: net.ipv6.conf.all.forwarding=1 Assumindo que bge0 e bge1 s\u00e3o as interfaces de rede do roteador para LAN 1 e LAN 2 respectivamente, o arquivo interfaces ( /etc/network/interfaces ) ficara semelhante a isso: auto bge0 iface bge0 inet6 static address 2001:0db8:0:f101::2 netmask 64 gateway fe80::5a52:8aff:fe10:e323 auto bge1 iface bge1 inet6 static address 2001:0db8:0:f100::1 netmask 64 gateway fe80::5a52:8aff:fe10:e323 A interface que conecta a LAN 1 ( bge0 ) n\u00e3o tem conhecimento da rota para a interface da LAN 2 ( bge1 ). Por isso, \u00e9 necess\u00e1rio adicionar uma configura\u00e7\u00e3o de rota est\u00e1tica nela usando um endere\u00e7o de link-local da interface bge1 . $ ip -6 route add 2001:0db8:0:f100::1/64 dev bge1 Verifique se a rota foi adicionada com sucesso. $ ip route show Por\u00e9m, o roteador Debian ainda n\u00e3o habilitou o envio de mensagens RA, para configura\u00e7\u00e3o autom\u00e1tica de hosts na rede. Para enviar mensagens RA, voc\u00ea precisa editar o arquivo sysctl.conf ( /etc/sysctl.conf ) e adicionar ou modificar a seguinte linha: net.ipv6.conf.all.send_redirects=1 Configure H1 para utilizar a configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o e verifique se est\u00e1 tudo ocorrendo da maneira correta.","title":"6. Configura\u00e7\u00e3o de um roteador IPv6"},{"location":"debian/experimento_11/#7-usando-dhcpv6","text":"O tipo de configura\u00e7\u00e3o apresentado na etapa 4.2 \u00e9 algo mais pr\u00f3ximo do DHCP no IPv4. No entanto, voc\u00ea n\u00e3o pode controlar qual endere\u00e7o est\u00e1 realmente configurado em cada host porque eles s\u00e3o gerados a partir dos endere\u00e7os MAC. Para um controle mais refinado da configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o, voc\u00ea precisar\u00e1 de outro m\u00e9todo, como DHCPv6. Para configurar um host em uma rede que utiliza o DHCPv6, edite o arquivo interfaces ( /etc/network/interfaces ): iface eth0 inet6 dhcp Verifique o estado atual da interface de rede: $ ifconfig <interface> Para verificar se o endere\u00e7o foi dinamicamente atribu\u00eddo atrav\u00e9s do DHCPv6, execute: $ ip -f inet6 addr show Caso apare\u00e7a a palavra dynamic ao lado do endere\u00e7o IPv6 significa que o host foi configurado atrav\u00e9s do DHCPv6. Procure saber sobre a configura\u00e7\u00e3o de um servidor DHCPv6 utilizando o Debian. ATEN\u00c7\u00c3O: \u00c9 necess\u00e1rio ter um servidor DHCPv6 configurado na rede para que o experimento anterior funcione.","title":"7. Usando DHCPv6"},{"location":"debian/experimento_11/#questoes-para-estudo","text":"Em certo momento do experimento, bastou apenas mudar o valor da vari\u00e1vel net.ipv6.conf.<interface>.disable_ipv6 para que um IPv6 fosse configurado. Por que ocorreu isso e como desativar essa configura\u00e7\u00e3o autom\u00e1tica? O que \u00e9 StateLess Address AutoConfiguration (SLAAC) e qual sua utilidade na atribui\u00e7\u00e3o de endere\u00e7os IPv6? Explique os tipos de endere\u00e7o IPv6 e seus respectivos prefixos? Para acessar a internet por meio do IPv4 \u00e9 necess\u00e1rio o uso do NAT. No IPv6 tamb\u00e9m \u00e9 necess\u00e1rio? Explique. Um roteador pode ser configurado usando o recurso de configura\u00e7\u00e3o autom\u00e1tica? Explique. Como funciona a configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o atrav\u00e9s do protocolo NDP? Em v\u00e1rios momentos do experimento foi omitido a parte do identificador de zona e isso pode ter causado problemas. O que \u00e9 o identificador de zona e por que \u00e9 necess\u00e1rio ele em um endere\u00e7o de IPv6?","title":"Quest\u00f5es para Estudo"},{"location":"debian/experimento_11/#referencias-bibliograficas","text":"SATO, Hiroki. Pragmatic IPv6 (Part 1). FreeBSD Journal, 2022. Dispon\u00edvel em: https://freebsdfoundation.org/wp-content/uploads/2022/06/hiroki_IPv6.pdf. Acesso em: 20 dez. 2022. SATO, Hiroki. Pragmatic IPv6 (Part 2). FreeBSD Journal, 2022. Dispon\u00edvel em: https://issue.freebsdfoundation.org/publication/?m=33057&i=759043&p=1&ver=html5. Acesso em: 20 dez. 2022. Ipv6.br. Endere\u00e7amento. IPv6, 2012. Dispon\u00edvel em: https://ipv6.br/post/enderecamento/. Acesso em: 20 dez. 2022. NICbrvideos. IPv6 no Caf\u00e9 da Manh\u00e3 - 01 de 03 - Planejamento e Endere\u00e7amento de Redes IPv6. YouTube, 27 de jun. de 2013. Dispon\u00edvel em: https://www.youtube.com/watch?v=rWVm9JCR4Fc. Acesso em: 20 dez. de 2022. NICbrvideos. IPv6 no Caf\u00e9 da Manh\u00e3 - 02 de 03 - Planejamento e Endere\u00e7amento de Redes IPv6. YouTube, 27 de jun. de 2013. Dispon\u00edvel em: https://www.youtube.com/watch?v=COblHE5hpfg. Acesso em: 20 dez. de 2022. NICbrvideos. IPv6 no Caf\u00e9 da Manh\u00e3 - 03 de 03 - Planejamento e Endere\u00e7amento IPv6. YouTube, 27 de jun. de 2013. Dispon\u00edvel em: https://www.youtube.com/watch?v=lRty4OlZWjA. Acesso em: 20 dez. de 2022. WETHERALL, D. J; TANENBAUM, A. S. Computer networks. Pearson Education, 2013. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Refer\u00eancias Bibliogr\u00e1ficas"},{"location":"freebsd/experimento_01/","text":"Introdu\u00e7\u00e3o \u00e0s Redes de Computadores Pr\u00e1tica de Laborat\u00f3rio 01 Introdu\u00e7\u00e3o \u00e0s Redes de Computadores Introdu\u00e7\u00e3o Algumas configura\u00e7\u00f5es b\u00e1sicas necess\u00e1rias para o correto funcionamento de equipamentos conectados a redes. Objetivos Compreender as configura\u00e7\u00f5es b\u00e1sicas para navegabilidade em uma rede de computadores. Exercitar configura\u00e7\u00f5es b\u00e1sicas e entender como usar ferramentas de diagn\u00f3stico para validar configura\u00e7\u00f5es. Teoria abordada no experimento Funcionamento b\u00e1sico de uma rede TCP/IP. Material Necess\u00e1rio Interfaces de rede (NIC's) M\u00e1quinas com sistema FreeBSD Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Desligar o servidor e cliente DHCP para as m\u00e1quinas do experimento Ferramentas de diagn\u00f3stico: ifconfig , ping Roteiro 1. Montagem de rede interconectada para o experimento H1 (192.168.1.3), H2 (192.168.1.2) e R/eth0 (192.168.1.1). 2. Configurar os clientes na rede de testes No FreeBSD, configure o arquivo rc.conf ( /etc/rc.conf ) e ponha a interface em quest\u00e3o configur\u00e1vel de forma est\u00e1tica, modificando o arquivo para que ele fique semelhante as linhas abaixo: hostname=\u201dfreebsd\u201d ifconfig_em0=\u201dinet 192.168.1.2 netmask 255.255.255.0\u201d ifconfig_em0_ipv6=\u201dinet6 accept_rtadv\u201d sshd_enable=\u201dYES\u201d # Set dumpdev to \u201cAUTO\u201d to enable crash dumps, \u201cNO\u201d to disable dumpdev=\u201dAUTO\u201d defaultrouter=\u201d192.168.1.1\u201d \u00c9 poss\u00edvel que o equipamento usado para testes possua uma designa\u00e7\u00e3o de interface de rede diferente de em0. \u00c9 praxe em0 ser vinculada \u00e0 primeira interface de rede Ethernet do computador que executa o kernel do FreeBSD. Dispondo de privil\u00e9gios de superusu\u00e1rio, execute o seguinte comando para for\u00e7ar a configura\u00e7\u00e3o da mesma: $ ifconfig <interface> up ATEN\u00c7\u00c3O: substitua <interface> pelo identificador da interface de rede do equipamento de testes. Ao configurar a rede pelo arquivo rc.conf pode ser que o host perca a refer\u00eancia do servidor DNS, caso isso aconte\u00e7a edite a vari\u00e1vel nameserver do arquivo resolv.conf ( /etc/resolv.conf ). Em seguida, para verificar o endere\u00e7o configurado, use o comando: $ ifconfig Tamb\u00e9m \u00e9 poss\u00edvel executar os seguintes comandos para configura\u00e7\u00e3o das interfaces de rede: $ # ifconfig interface-name IP-address netmask Netmask $ ifconfig em0 192.168.1.3 netmask 255.255.255.0 $ route add default 192.168.1.1 $ route -n 3. Validando as configura\u00e7\u00f5es Confira a conectividade b\u00e1sica enviando pacotes ICMP para algum outro computador que esteja conectado \u00e0 mesma rede: $ ping <IP-address> Confira as configura\u00e7\u00f5es de roteamento enviando pacotes ICMP para algum outro computador que esteja conectado \u00e0 outra rede. $ ping <IP-address> Como proceder para configurar o esquema de resolu\u00e7\u00e3o de nomes? Obs.: Esse tipo de configura\u00e7\u00e3o explorada no experimento \u00e9 chamada de Manual ou Est\u00e1tica . Quest\u00f5es para Estudo H\u00e1 alguma forma mais simples de se realizar a configura\u00e7\u00e3o dos equipamentos para que sejam devidamente conectados \u00e0 rede? Qual \u00e9 a lista m\u00ednima de informa\u00e7\u00f5es necess\u00e1rias para que determinado equipamento fique plenamente operacional em uma rede? O que acontece quando alguma das informa\u00e7\u00f5es necess\u00e1rias \u00e9 suprimida? Elabore melhor os cen\u00e1rios. Refer\u00eancias Bibliogr\u00e1ficas RAINVILLE, Shane. How to configure network settings in FreeBSD. Serverlab, 2020. Dispon\u00edvel em: https://www.serverlab.ca/tutorials/unix/how-to-set-static-ip-and-dhcp-in-freebsd/. Acesso em: 10 dez. de 2022. FreeBSD.org. ping(8). Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?ping(8). Acesso em: 10 dez. 2022. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Introdu\u00e7\u00e3o \u00e0s Redes de Computadores"},{"location":"freebsd/experimento_01/#introducao-as-redes-de-computadores","text":"Pr\u00e1tica de Laborat\u00f3rio 01 Introdu\u00e7\u00e3o \u00e0s Redes de Computadores","title":"Introdu\u00e7\u00e3o \u00e0s Redes de Computadores"},{"location":"freebsd/experimento_01/#introducao","text":"Algumas configura\u00e7\u00f5es b\u00e1sicas necess\u00e1rias para o correto funcionamento de equipamentos conectados a redes.","title":"Introdu\u00e7\u00e3o"},{"location":"freebsd/experimento_01/#objetivos","text":"Compreender as configura\u00e7\u00f5es b\u00e1sicas para navegabilidade em uma rede de computadores. Exercitar configura\u00e7\u00f5es b\u00e1sicas e entender como usar ferramentas de diagn\u00f3stico para validar configura\u00e7\u00f5es.","title":"Objetivos"},{"location":"freebsd/experimento_01/#teoria-abordada-no-experimento","text":"Funcionamento b\u00e1sico de uma rede TCP/IP.","title":"Teoria abordada no experimento"},{"location":"freebsd/experimento_01/#material-necessario","text":"Interfaces de rede (NIC's) M\u00e1quinas com sistema FreeBSD Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Desligar o servidor e cliente DHCP para as m\u00e1quinas do experimento Ferramentas de diagn\u00f3stico: ifconfig , ping","title":"Material Necess\u00e1rio"},{"location":"freebsd/experimento_01/#roteiro","text":"","title":"Roteiro"},{"location":"freebsd/experimento_01/#1-montagem-de-rede-interconectada-para-o-experimento","text":"H1 (192.168.1.3), H2 (192.168.1.2) e R/eth0 (192.168.1.1).","title":"1. Montagem de rede interconectada para o experimento"},{"location":"freebsd/experimento_01/#2-configurar-os-clientes-na-rede-de-testes","text":"No FreeBSD, configure o arquivo rc.conf ( /etc/rc.conf ) e ponha a interface em quest\u00e3o configur\u00e1vel de forma est\u00e1tica, modificando o arquivo para que ele fique semelhante as linhas abaixo: hostname=\u201dfreebsd\u201d ifconfig_em0=\u201dinet 192.168.1.2 netmask 255.255.255.0\u201d ifconfig_em0_ipv6=\u201dinet6 accept_rtadv\u201d sshd_enable=\u201dYES\u201d # Set dumpdev to \u201cAUTO\u201d to enable crash dumps, \u201cNO\u201d to disable dumpdev=\u201dAUTO\u201d defaultrouter=\u201d192.168.1.1\u201d \u00c9 poss\u00edvel que o equipamento usado para testes possua uma designa\u00e7\u00e3o de interface de rede diferente de em0. \u00c9 praxe em0 ser vinculada \u00e0 primeira interface de rede Ethernet do computador que executa o kernel do FreeBSD. Dispondo de privil\u00e9gios de superusu\u00e1rio, execute o seguinte comando para for\u00e7ar a configura\u00e7\u00e3o da mesma: $ ifconfig <interface> up ATEN\u00c7\u00c3O: substitua <interface> pelo identificador da interface de rede do equipamento de testes. Ao configurar a rede pelo arquivo rc.conf pode ser que o host perca a refer\u00eancia do servidor DNS, caso isso aconte\u00e7a edite a vari\u00e1vel nameserver do arquivo resolv.conf ( /etc/resolv.conf ). Em seguida, para verificar o endere\u00e7o configurado, use o comando: $ ifconfig Tamb\u00e9m \u00e9 poss\u00edvel executar os seguintes comandos para configura\u00e7\u00e3o das interfaces de rede: $ # ifconfig interface-name IP-address netmask Netmask $ ifconfig em0 192.168.1.3 netmask 255.255.255.0 $ route add default 192.168.1.1 $ route -n","title":"2. Configurar os clientes na rede de testes"},{"location":"freebsd/experimento_01/#3-validando-as-configuracoes","text":"Confira a conectividade b\u00e1sica enviando pacotes ICMP para algum outro computador que esteja conectado \u00e0 mesma rede: $ ping <IP-address> Confira as configura\u00e7\u00f5es de roteamento enviando pacotes ICMP para algum outro computador que esteja conectado \u00e0 outra rede. $ ping <IP-address> Como proceder para configurar o esquema de resolu\u00e7\u00e3o de nomes? Obs.: Esse tipo de configura\u00e7\u00e3o explorada no experimento \u00e9 chamada de Manual ou Est\u00e1tica .","title":"3. Validando as configura\u00e7\u00f5es"},{"location":"freebsd/experimento_01/#questoes-para-estudo","text":"H\u00e1 alguma forma mais simples de se realizar a configura\u00e7\u00e3o dos equipamentos para que sejam devidamente conectados \u00e0 rede? Qual \u00e9 a lista m\u00ednima de informa\u00e7\u00f5es necess\u00e1rias para que determinado equipamento fique plenamente operacional em uma rede? O que acontece quando alguma das informa\u00e7\u00f5es necess\u00e1rias \u00e9 suprimida? Elabore melhor os cen\u00e1rios.","title":"Quest\u00f5es para Estudo"},{"location":"freebsd/experimento_01/#referencias-bibliograficas","text":"RAINVILLE, Shane. How to configure network settings in FreeBSD. Serverlab, 2020. Dispon\u00edvel em: https://www.serverlab.ca/tutorials/unix/how-to-set-static-ip-and-dhcp-in-freebsd/. Acesso em: 10 dez. de 2022. FreeBSD.org. ping(8). Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?ping(8). Acesso em: 10 dez. 2022. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Refer\u00eancias Bibliogr\u00e1ficas"},{"location":"freebsd/experimento_02/","text":"Depura\u00e7\u00e3o de Problemas na Camada de Aplica\u00e7\u00e3o Pr\u00e1tica de Laborat\u00f3rio 02 Depura\u00e7\u00e3o de Problemas na Camada de Aplica\u00e7\u00e3o Introdu\u00e7\u00e3o Quando um computador est\u00e1 devidamente configurado em uma rede de computadores, \u00e9 interessante que ele se comunique com outros equipamentos para o provimento de servi\u00e7os a usu\u00e1rios. Portanto, este experimento apresenta um conjunto m\u00ednimo de ferramentas que permitir\u00e3o a execu\u00e7\u00e3o de um diagn\u00f3stico preciso ao se encarar uma situa\u00e7\u00e3o de interrup\u00e7\u00e3o ou instabilidade de servi\u00e7o t\u00edpico de camada de aplica\u00e7\u00e3o. Objetivos Exercitar uma comunica\u00e7\u00e3o t\u00edpica HTTP por meio de ferramenta de diagn\u00f3stico ( telnet ). Exercitar o in\u00edcio de uma comunica\u00e7\u00e3o t\u00edpica SMTP por meio de ferramenta de diagn\u00f3stico ( telnet ). Exercitar as configura\u00e7\u00f5es de rede, especialmente no que tange ao servi\u00e7o de resolu\u00e7\u00e3o de nomes. Teoria abordada no experimento Funcionamento b\u00e1sico de uma rede TCP/IP. Protocolos da Camada de Aplica\u00e7\u00e3o. Material Necess\u00e1rio Interfaces de rede (NIC's) M\u00e1quinas com sistema FreeBSD Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Servidores HTTP, DNS e SMTP devidamente configurados Ferramentas de diagn\u00f3stico: ifconfig , ping , host , telnet Roteiro 1. Montagem de rede interconectada para o experimento H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4), H4 (192.168.1.5) e R/eth0 (192.168.1.1). Nessa topologia, haver\u00e1 equipamentos que prover\u00e3o os servi\u00e7os necess\u00e1rios \u00e0s pr\u00e1ticas da aula: DNS, HTTP e SMTP. 2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 . 3. Intera\u00e7\u00f5es com o servi\u00e7o de resolu\u00e7\u00e3o de nomes (DNS) Confira se seu equipamento \u00e9 capaz de executar a resolu\u00e7\u00e3o de nomes usando DNS. Para tanto execute: $ host nome_do_host opt_servidor_dns ATEN\u00c7\u00c3O: O par\u00e2metro opt_servidor_dns \u00e9 opcional. Execute o comando sem indicar esse par\u00e2metro inicialmente. Pesquise sobre o arquivo /etc/hosts e seu papel no processo de resolu\u00e7\u00e3o de nomes. 4. Intera\u00e7\u00f5es com o servi\u00e7o HTTP Usando os conceitos que foram estudados sobre o protocolo HTTP, use a ferramenta telnet para obter um objeto de determinado site HTTP. $ telnet nome_do_host numero_da_porta Uma vez aberto o socket, envie o seguinte comando para obter o objeto index.html : GET /index.html HTTP/1.1 Posteriormente, troque o comando GET pelo comando HEAD. Indique tamb\u00e9m o nome de outro objeto e observe o resultado do comando. 5. Intera\u00e7\u00f5es com o servi\u00e7o SMTP Usando os conceitos que foram estudados sobre o protocolo SMTP, use a ferramenta telnet para obter um objeto de determinado site HTTP. $ telnet nome_do_host numero_da_porta Uma vez aberto o socket, envie o seguinte comando para iniciar uma transa\u00e7\u00e3o SMTP HELO DESAFIO : Usando os conceitos sobre Camada de Aplica\u00e7\u00e3o, use o comando telnet para enviar um e-mail a um usu\u00e1rio de determinado servidor de e-mail. Quest\u00f5es para Estudo Em rela\u00e7\u00e3o ao servi\u00e7o de resolu\u00e7\u00e3o de nomes, h\u00e1 um par\u00e2metro opcional a ser indicado ao comando host . Em que contexto \u00e9 conveniente indicar um valor para esse par\u00e2metro? Qual \u00e9 o papel do arquivo /etc/hosts no processo de resolu\u00e7\u00e3o de nomes? Em rela\u00e7\u00e3o \u00e0s intera\u00e7\u00f5es com o protocolo HTTP, foi poss\u00edvel identificar o cabe\u00e7alho de uma requisi\u00e7\u00e3o t\u00edpica? Em rela\u00e7\u00e3o \u00e0s respostas do servidor, identifique os campos t\u00edpicos da resposta incluindo descri\u00e7\u00f5es sobre as linhas de cabe\u00e7alho e o campo de payload. Em v\u00e1rios dos protocolos ora estudados, foi presenciada uma etapa de autoriza\u00e7\u00e3o que preparava uma sess\u00e3o para a recep\u00e7\u00e3o de comandos de determinado cliente. O SMTP demonstrou-se um protocolo que n\u00e3o demanda uma etapa de autoriza\u00e7\u00e3o. Em que momento isso acontece? O fato de essa etapa ser suprimida resulta em algum risco para um servi\u00e7o de e-mail? Refer\u00eancias Bibliogr\u00e1ficas Brasil, HSC. Saiba o que \u00e9 e como funciona o protocolo SMTP. hscbrasil, 2019. Dispon\u00edvel em: https://www.hscbrasil.com.br/protocolo-smtp/. Acesso em: 11 dez. de 2022. Costa, Matheus. O que \u00e9 HTTP. canaltech, 2019. Dispon\u00edvel em: https://canaltech.com.br/internet/o-que-e-http/. Acesso em: 11 dez. de 2022. Reynolds, Luke. Send an email using Telnet. linuxconfig, 2021. Dispon\u00edvel em: https://linuxconfig.org/send-an-email-using-telnet. Acesso em: 11 dez. de 2022. FreeBSD.org. host(1). Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?query=host&sektion=1. Acesso em: 11 dez. 2022. FreeBSD.org. telnet(1). Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?telnet. Acesso em: 11 dez. 2022. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Depura\u00e7\u00e3o de Problemas na Camada de Aplica\u00e7\u00e3o"},{"location":"freebsd/experimento_02/#depuracao-de-problemas-na-camada-de-aplicacao","text":"Pr\u00e1tica de Laborat\u00f3rio 02 Depura\u00e7\u00e3o de Problemas na Camada de Aplica\u00e7\u00e3o","title":"Depura\u00e7\u00e3o de Problemas na Camada de Aplica\u00e7\u00e3o"},{"location":"freebsd/experimento_02/#introducao","text":"Quando um computador est\u00e1 devidamente configurado em uma rede de computadores, \u00e9 interessante que ele se comunique com outros equipamentos para o provimento de servi\u00e7os a usu\u00e1rios. Portanto, este experimento apresenta um conjunto m\u00ednimo de ferramentas que permitir\u00e3o a execu\u00e7\u00e3o de um diagn\u00f3stico preciso ao se encarar uma situa\u00e7\u00e3o de interrup\u00e7\u00e3o ou instabilidade de servi\u00e7o t\u00edpico de camada de aplica\u00e7\u00e3o.","title":"Introdu\u00e7\u00e3o"},{"location":"freebsd/experimento_02/#objetivos","text":"Exercitar uma comunica\u00e7\u00e3o t\u00edpica HTTP por meio de ferramenta de diagn\u00f3stico ( telnet ). Exercitar o in\u00edcio de uma comunica\u00e7\u00e3o t\u00edpica SMTP por meio de ferramenta de diagn\u00f3stico ( telnet ). Exercitar as configura\u00e7\u00f5es de rede, especialmente no que tange ao servi\u00e7o de resolu\u00e7\u00e3o de nomes.","title":"Objetivos"},{"location":"freebsd/experimento_02/#teoria-abordada-no-experimento","text":"Funcionamento b\u00e1sico de uma rede TCP/IP. Protocolos da Camada de Aplica\u00e7\u00e3o.","title":"Teoria abordada no experimento"},{"location":"freebsd/experimento_02/#material-necessario","text":"Interfaces de rede (NIC's) M\u00e1quinas com sistema FreeBSD Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Servidores HTTP, DNS e SMTP devidamente configurados Ferramentas de diagn\u00f3stico: ifconfig , ping , host , telnet","title":"Material Necess\u00e1rio"},{"location":"freebsd/experimento_02/#roteiro","text":"","title":"Roteiro"},{"location":"freebsd/experimento_02/#1-montagem-de-rede-interconectada-para-o-experimento","text":"H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4), H4 (192.168.1.5) e R/eth0 (192.168.1.1). Nessa topologia, haver\u00e1 equipamentos que prover\u00e3o os servi\u00e7os necess\u00e1rios \u00e0s pr\u00e1ticas da aula: DNS, HTTP e SMTP.","title":"1. Montagem de rede interconectada para o experimento"},{"location":"freebsd/experimento_02/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","text":"Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 .","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es"},{"location":"freebsd/experimento_02/#3-interacoes-com-o-servico-de-resolucao-de-nomes-dns","text":"Confira se seu equipamento \u00e9 capaz de executar a resolu\u00e7\u00e3o de nomes usando DNS. Para tanto execute: $ host nome_do_host opt_servidor_dns ATEN\u00c7\u00c3O: O par\u00e2metro opt_servidor_dns \u00e9 opcional. Execute o comando sem indicar esse par\u00e2metro inicialmente. Pesquise sobre o arquivo /etc/hosts e seu papel no processo de resolu\u00e7\u00e3o de nomes.","title":"3. Intera\u00e7\u00f5es com o servi\u00e7o de resolu\u00e7\u00e3o de nomes (DNS)"},{"location":"freebsd/experimento_02/#4-interacoes-com-o-servico-http","text":"Usando os conceitos que foram estudados sobre o protocolo HTTP, use a ferramenta telnet para obter um objeto de determinado site HTTP. $ telnet nome_do_host numero_da_porta Uma vez aberto o socket, envie o seguinte comando para obter o objeto index.html : GET /index.html HTTP/1.1 Posteriormente, troque o comando GET pelo comando HEAD. Indique tamb\u00e9m o nome de outro objeto e observe o resultado do comando.","title":"4. Intera\u00e7\u00f5es com o servi\u00e7o HTTP"},{"location":"freebsd/experimento_02/#5-interacoes-com-o-servico-smtp","text":"Usando os conceitos que foram estudados sobre o protocolo SMTP, use a ferramenta telnet para obter um objeto de determinado site HTTP. $ telnet nome_do_host numero_da_porta Uma vez aberto o socket, envie o seguinte comando para iniciar uma transa\u00e7\u00e3o SMTP HELO DESAFIO : Usando os conceitos sobre Camada de Aplica\u00e7\u00e3o, use o comando telnet para enviar um e-mail a um usu\u00e1rio de determinado servidor de e-mail.","title":"5. Intera\u00e7\u00f5es com o servi\u00e7o SMTP"},{"location":"freebsd/experimento_02/#questoes-para-estudo","text":"Em rela\u00e7\u00e3o ao servi\u00e7o de resolu\u00e7\u00e3o de nomes, h\u00e1 um par\u00e2metro opcional a ser indicado ao comando host . Em que contexto \u00e9 conveniente indicar um valor para esse par\u00e2metro? Qual \u00e9 o papel do arquivo /etc/hosts no processo de resolu\u00e7\u00e3o de nomes? Em rela\u00e7\u00e3o \u00e0s intera\u00e7\u00f5es com o protocolo HTTP, foi poss\u00edvel identificar o cabe\u00e7alho de uma requisi\u00e7\u00e3o t\u00edpica? Em rela\u00e7\u00e3o \u00e0s respostas do servidor, identifique os campos t\u00edpicos da resposta incluindo descri\u00e7\u00f5es sobre as linhas de cabe\u00e7alho e o campo de payload. Em v\u00e1rios dos protocolos ora estudados, foi presenciada uma etapa de autoriza\u00e7\u00e3o que preparava uma sess\u00e3o para a recep\u00e7\u00e3o de comandos de determinado cliente. O SMTP demonstrou-se um protocolo que n\u00e3o demanda uma etapa de autoriza\u00e7\u00e3o. Em que momento isso acontece? O fato de essa etapa ser suprimida resulta em algum risco para um servi\u00e7o de e-mail?","title":"Quest\u00f5es para Estudo"},{"location":"freebsd/experimento_02/#referencias-bibliograficas","text":"Brasil, HSC. Saiba o que \u00e9 e como funciona o protocolo SMTP. hscbrasil, 2019. Dispon\u00edvel em: https://www.hscbrasil.com.br/protocolo-smtp/. Acesso em: 11 dez. de 2022. Costa, Matheus. O que \u00e9 HTTP. canaltech, 2019. Dispon\u00edvel em: https://canaltech.com.br/internet/o-que-e-http/. Acesso em: 11 dez. de 2022. Reynolds, Luke. Send an email using Telnet. linuxconfig, 2021. Dispon\u00edvel em: https://linuxconfig.org/send-an-email-using-telnet. Acesso em: 11 dez. de 2022. FreeBSD.org. host(1). Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?query=host&sektion=1. Acesso em: 11 dez. 2022. FreeBSD.org. telnet(1). Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?telnet. Acesso em: 11 dez. 2022. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Refer\u00eancias Bibliogr\u00e1ficas"},{"location":"freebsd/experimento_03/","text":"Depura\u00e7\u00e3o de Problemas na Camada de Transporte Pr\u00e1tica de Laborat\u00f3rio 03 Depura\u00e7\u00e3o de Problemas na Camada de Transporte Introdu\u00e7\u00e3o Para que haja uma conex\u00e3o por meio de um canal de transmiss\u00e3o confi\u00e1vel, \u00e9 necess\u00e1rio uma s\u00e9rie de mecanismos que protegem a comunica\u00e7\u00e3o quanto a efeitos adversos do meio de transmiss\u00e3o: corrup\u00e7\u00e3o de dados; congestionamentos e perdas de pacote. Portanto, este experimento apresenta um conjunto m\u00ednimo de ferramentas que permitir\u00e3o a execu\u00e7\u00e3o de um diagn\u00f3stico preciso ao se encarar uma situa\u00e7\u00e3o de interrup\u00e7\u00e3o ou instabilidade de servi\u00e7o t\u00edpico de camada de transporte. Objetivos Exercitar uma comunica\u00e7\u00e3o t\u00edpica TCP por meio de ferramentas de diagn\u00f3stico ( telnet , netcat , sockstat e nmap ). Teoria abordada no experimento Funcionamento b\u00e1sico de uma rede TCP/IP. Protocolos de Camada de Transporte. Material Necess\u00e1rio Interfaces de rede (NIC's) M\u00e1quinas com sistema FreeBSD Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Servidores HTTP, DNS e SMTP devidamente configurados Ferramentas de diagn\u00f3stico: telnet , nmap , netcat e sockstat Roteiro 1. Montagem de rede interconectada para o experimento H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4), H4 (192.168.1.5) e R/eth0 (192.168.1.1). Nessa topologia, haver\u00e1 equipamentos que prover\u00e3o os servi\u00e7os necess\u00e1rios \u00e0s pr\u00e1ticas da aula: DNS, HTTP e SMTP. 2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 . 3. Abertura de um socket servidor Usando um dos computadores dispon\u00edveis para o experimento e usando privil\u00e9gios administrativos , habilite um socket TCP em estado de escuta. Como ferramenta de apoio, use a aplica\u00e7\u00e3o netcat . Para tanto execute: $ nc -l numero_da_porta Para validar a abertura do socket servidor, utilize, no sistema operacional FreeBSD o seguinte comando: $ sockstat -4l ATEN\u00c7\u00c3O: A ferramenta netcat precisa continuar executando a escuta do socket TCP para que o comando sockstat -4l o encontre. Portanto, abra outro terminal para executar o segundo comando. No FreeBSD, \u00e9 poss\u00edvel alternar entre terminais usando os atalhos ( Alt+F1 e Alt+F2 ). Esse comando ir\u00e1 exibir todos os processos, IPv4 ( -4 ), em estado de escuta ( -l ) e que abriram portas. Execute os pr\u00f3ximos passos apenas se for poss\u00edvel identificar o processo da aplica\u00e7\u00e3o netcat vinculado \u00e0 porta indicada. 4. Intera\u00e7\u00f5es com o socket servidor Na pr\u00e1tica sobre camada de aplica\u00e7\u00e3o, usamos a aplica\u00e7\u00e3o telnet . Essa ferramenta \u00e9 capaz de abrir sockets TCP cliente a servidores. Partindo do princ\u00edpio que h\u00e1 um equipamento em que est\u00e1 aberta uma porta em estado de escuta, ou seja, h\u00e1 um socket servidor de uma aplica\u00e7\u00e3o, utilize a ferramenta telnet para se conectar a esse servidor. Apenas relembrando a sintaxe esperada para execu\u00e7\u00f5es do telnet : $ telnet nome_do_host numero_da_porta Uma vez aberto o socket, envie bytes atrav\u00e9s da digita\u00e7\u00e3o de caracteres do teclado. Para demandar o envido, pressione a tecla ENTER ap\u00f3s as digita\u00e7\u00f5es. 5. Identifica\u00e7\u00e3o de servi\u00e7os dispon\u00edveis em um host \u00c0s vezes, faz-se necess\u00e1rio verificar se h\u00e1 servi\u00e7os em execu\u00e7\u00e3o em determinado host conectado \u00e0 rede. Por\u00e9m, diferentemente do cen\u00e1rio apresentado na etapa 3 , h\u00e1 situa\u00e7\u00f5es em que n\u00e3o se ter\u00e1 acesso administrativo (ou f\u00edsico) ao equipamento a ser analisado. Nesse contexto, ser\u00e1 necess\u00e1rio empreender um teste do tipo caixa-preta para verificar se determinados servi\u00e7os est\u00e3o ativos. Na verdade, no contexto da camada de transporte, o teste verificar\u00e1 se determinadas portas est\u00e3o abertas e em estado de escuta no equipamento sobre testes. As ferramentas at\u00e9 ent\u00e3o estudadas s\u00e3o capazes de auxiliar o t\u00e9cnico nessa atividade de identifica\u00e7\u00e3o de servi\u00e7os ativos, por\u00e9m demandar\u00e3o uma s\u00e9rie de intera\u00e7\u00f5es do operador ou mesmo a programa\u00e7\u00e3o de scripts que ser\u00e3o executados para varrer determinados conjuntos de par\u00e2metros de interesse. Como as redes TCP/IP j\u00e1 est\u00e3o em produ\u00e7\u00e3o h\u00e1 algumas d\u00e9cadas, \u00e9 natural que algumas ferramentas mais maduras e integradas estejam dispon\u00edveis para a identifica\u00e7\u00e3o mais imediata dos servi\u00e7os dispon\u00edveis. Uma dessas ferramentas \u00e9 o nmap . Para instalar o nmap no FreeBSD: $ pkg install nmap Para varrer quais s\u00e3o os servi\u00e7os ativos em determinado host, executa-se o seguinte comando: $ nmap nome_do_host \u00c9 poss\u00edvel demandar uma varredura de um conjunto de equipamentos, por exemplo, todos os equipamentos pertencentes a uma rede. Basta alterar o comando acima da seguinte maneira: $ nmap faixa_de_ip onde faixa_de_ip pode ser uma faixa por intervalos (como 192.168.1.1-20, o que contemplaria todos os IPs entre 192.168.1.1 e 192.168.1.20) ou mesmo a indica\u00e7\u00e3o de uma subrede usando nota\u00e7\u00e3o CIDR. Quest\u00f5es para Estudo A porta de um servidor que prov\u00ea aplica\u00e7\u00f5es sobre TCP pode se encontrar em diferentes estados. Quais s\u00e3o esses estados e como evolui a comunica\u00e7\u00e3o entre um cliente e um servidor TCP quando a porta se apresenta em cada um dos estados poss\u00edveis? Que tipo de informa\u00e7\u00f5es o arquivo /etc/services prov\u00ea? Que tipo de ferramentas voc\u00ea recomendaria para a repeti\u00e7\u00e3o dos mesmos procedimentos sobre UDP? Em rela\u00e7\u00e3o \u00e0 etapa 4 do presente roteiro, descreva o que se observou durante as intera\u00e7\u00f5es com o socket servidor. Como voc\u00ea implementaria um transmissor b\u00e1sico de arquivos usando apenas as ferramentas executadas nesse experimento? O nmap \u00e9 considerado uma ferramenta extremamente poderosa. Como voc\u00ea a utilizaria para identificar quais s\u00e3o os equipamentos que est\u00e3o ativos e em execu\u00e7\u00e3o em uma rede? Refer\u00eancias Bibliogr\u00e1ficas GITE, Vivek. FreeBSD List/Display Open Ports With sockstat Command. Cyberciti, 2008. Dispon\u00edvel em: https://www.cyberciti.biz/tips/freebsd-lists-open-internet-unix-domain-sockets.html. Acesso em: 11 dez. de 2022. ELLINGWOOD, Justin. How To Use Netcat to Establish and Test TCP and UDP Connections. Digital Ocean, 2021. Dispon\u00edvel em: https://www.digitalocean.com/community/tutorials/how-to-use-netcat-to-establish-and-test-tcp-and-udp-connections. Acesso em: 11 dez. de 2022. SHIVANANDHAN, Manish. What is Nmap and How to Use it \u2013 A Tutorial for the Greatest Scanning Tool of All Time. FreeCodeCamp, 2021. Dispon\u00edvel em: https://www.freecodecamp.org/news/what-is-nmap-and-how-to-use-it-a-tutorial-for-the-greatest-scanning-tool-of-all-time/. Acesso em: 11 dez. de 2022. FreeBSD.org. telnet(1). Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?telnet. Acesso em: 11 dez. 2022. FreeBSD.org. nmap(1). Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?query=nmap&manpath=SuSE+Linux%2Fi386+11.3. Acesso em: 11 dez. 2022. FreeBSD.org. nc(1). Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?nc. Acesso em: 11 dez. 2022. FreeBSD.org. sockstat(1). Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?query=sockstat&sektion=1. Acesso em: 11 dez. 2022. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Depura\u00e7\u00e3o de Problemas na Camada de Transporte"},{"location":"freebsd/experimento_03/#depuracao-de-problemas-na-camada-de-transporte","text":"Pr\u00e1tica de Laborat\u00f3rio 03 Depura\u00e7\u00e3o de Problemas na Camada de Transporte","title":"Depura\u00e7\u00e3o de Problemas na Camada de Transporte"},{"location":"freebsd/experimento_03/#introducao","text":"Para que haja uma conex\u00e3o por meio de um canal de transmiss\u00e3o confi\u00e1vel, \u00e9 necess\u00e1rio uma s\u00e9rie de mecanismos que protegem a comunica\u00e7\u00e3o quanto a efeitos adversos do meio de transmiss\u00e3o: corrup\u00e7\u00e3o de dados; congestionamentos e perdas de pacote. Portanto, este experimento apresenta um conjunto m\u00ednimo de ferramentas que permitir\u00e3o a execu\u00e7\u00e3o de um diagn\u00f3stico preciso ao se encarar uma situa\u00e7\u00e3o de interrup\u00e7\u00e3o ou instabilidade de servi\u00e7o t\u00edpico de camada de transporte.","title":"Introdu\u00e7\u00e3o"},{"location":"freebsd/experimento_03/#objetivos","text":"Exercitar uma comunica\u00e7\u00e3o t\u00edpica TCP por meio de ferramentas de diagn\u00f3stico ( telnet , netcat , sockstat e nmap ).","title":"Objetivos"},{"location":"freebsd/experimento_03/#teoria-abordada-no-experimento","text":"Funcionamento b\u00e1sico de uma rede TCP/IP. Protocolos de Camada de Transporte.","title":"Teoria abordada no experimento"},{"location":"freebsd/experimento_03/#material-necessario","text":"Interfaces de rede (NIC's) M\u00e1quinas com sistema FreeBSD Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Servidores HTTP, DNS e SMTP devidamente configurados Ferramentas de diagn\u00f3stico: telnet , nmap , netcat e sockstat","title":"Material Necess\u00e1rio"},{"location":"freebsd/experimento_03/#roteiro","text":"","title":"Roteiro"},{"location":"freebsd/experimento_03/#1-montagem-de-rede-interconectada-para-o-experimento","text":"H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4), H4 (192.168.1.5) e R/eth0 (192.168.1.1). Nessa topologia, haver\u00e1 equipamentos que prover\u00e3o os servi\u00e7os necess\u00e1rios \u00e0s pr\u00e1ticas da aula: DNS, HTTP e SMTP.","title":"1. Montagem de rede interconectada para o experimento"},{"location":"freebsd/experimento_03/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","text":"Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 .","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es"},{"location":"freebsd/experimento_03/#3-abertura-de-um-socket-servidor","text":"Usando um dos computadores dispon\u00edveis para o experimento e usando privil\u00e9gios administrativos , habilite um socket TCP em estado de escuta. Como ferramenta de apoio, use a aplica\u00e7\u00e3o netcat . Para tanto execute: $ nc -l numero_da_porta Para validar a abertura do socket servidor, utilize, no sistema operacional FreeBSD o seguinte comando: $ sockstat -4l ATEN\u00c7\u00c3O: A ferramenta netcat precisa continuar executando a escuta do socket TCP para que o comando sockstat -4l o encontre. Portanto, abra outro terminal para executar o segundo comando. No FreeBSD, \u00e9 poss\u00edvel alternar entre terminais usando os atalhos ( Alt+F1 e Alt+F2 ). Esse comando ir\u00e1 exibir todos os processos, IPv4 ( -4 ), em estado de escuta ( -l ) e que abriram portas. Execute os pr\u00f3ximos passos apenas se for poss\u00edvel identificar o processo da aplica\u00e7\u00e3o netcat vinculado \u00e0 porta indicada.","title":"3. Abertura de um socket servidor"},{"location":"freebsd/experimento_03/#4-interacoes-com-o-socket-servidor","text":"Na pr\u00e1tica sobre camada de aplica\u00e7\u00e3o, usamos a aplica\u00e7\u00e3o telnet . Essa ferramenta \u00e9 capaz de abrir sockets TCP cliente a servidores. Partindo do princ\u00edpio que h\u00e1 um equipamento em que est\u00e1 aberta uma porta em estado de escuta, ou seja, h\u00e1 um socket servidor de uma aplica\u00e7\u00e3o, utilize a ferramenta telnet para se conectar a esse servidor. Apenas relembrando a sintaxe esperada para execu\u00e7\u00f5es do telnet : $ telnet nome_do_host numero_da_porta Uma vez aberto o socket, envie bytes atrav\u00e9s da digita\u00e7\u00e3o de caracteres do teclado. Para demandar o envido, pressione a tecla ENTER ap\u00f3s as digita\u00e7\u00f5es.","title":"4. Intera\u00e7\u00f5es com o socket servidor"},{"location":"freebsd/experimento_03/#5-identificacao-de-servicos-disponiveis-em-um-host","text":"\u00c0s vezes, faz-se necess\u00e1rio verificar se h\u00e1 servi\u00e7os em execu\u00e7\u00e3o em determinado host conectado \u00e0 rede. Por\u00e9m, diferentemente do cen\u00e1rio apresentado na etapa 3 , h\u00e1 situa\u00e7\u00f5es em que n\u00e3o se ter\u00e1 acesso administrativo (ou f\u00edsico) ao equipamento a ser analisado. Nesse contexto, ser\u00e1 necess\u00e1rio empreender um teste do tipo caixa-preta para verificar se determinados servi\u00e7os est\u00e3o ativos. Na verdade, no contexto da camada de transporte, o teste verificar\u00e1 se determinadas portas est\u00e3o abertas e em estado de escuta no equipamento sobre testes. As ferramentas at\u00e9 ent\u00e3o estudadas s\u00e3o capazes de auxiliar o t\u00e9cnico nessa atividade de identifica\u00e7\u00e3o de servi\u00e7os ativos, por\u00e9m demandar\u00e3o uma s\u00e9rie de intera\u00e7\u00f5es do operador ou mesmo a programa\u00e7\u00e3o de scripts que ser\u00e3o executados para varrer determinados conjuntos de par\u00e2metros de interesse. Como as redes TCP/IP j\u00e1 est\u00e3o em produ\u00e7\u00e3o h\u00e1 algumas d\u00e9cadas, \u00e9 natural que algumas ferramentas mais maduras e integradas estejam dispon\u00edveis para a identifica\u00e7\u00e3o mais imediata dos servi\u00e7os dispon\u00edveis. Uma dessas ferramentas \u00e9 o nmap . Para instalar o nmap no FreeBSD: $ pkg install nmap Para varrer quais s\u00e3o os servi\u00e7os ativos em determinado host, executa-se o seguinte comando: $ nmap nome_do_host \u00c9 poss\u00edvel demandar uma varredura de um conjunto de equipamentos, por exemplo, todos os equipamentos pertencentes a uma rede. Basta alterar o comando acima da seguinte maneira: $ nmap faixa_de_ip onde faixa_de_ip pode ser uma faixa por intervalos (como 192.168.1.1-20, o que contemplaria todos os IPs entre 192.168.1.1 e 192.168.1.20) ou mesmo a indica\u00e7\u00e3o de uma subrede usando nota\u00e7\u00e3o CIDR.","title":"5. Identifica\u00e7\u00e3o de servi\u00e7os dispon\u00edveis em um host"},{"location":"freebsd/experimento_03/#questoes-para-estudo","text":"A porta de um servidor que prov\u00ea aplica\u00e7\u00f5es sobre TCP pode se encontrar em diferentes estados. Quais s\u00e3o esses estados e como evolui a comunica\u00e7\u00e3o entre um cliente e um servidor TCP quando a porta se apresenta em cada um dos estados poss\u00edveis? Que tipo de informa\u00e7\u00f5es o arquivo /etc/services prov\u00ea? Que tipo de ferramentas voc\u00ea recomendaria para a repeti\u00e7\u00e3o dos mesmos procedimentos sobre UDP? Em rela\u00e7\u00e3o \u00e0 etapa 4 do presente roteiro, descreva o que se observou durante as intera\u00e7\u00f5es com o socket servidor. Como voc\u00ea implementaria um transmissor b\u00e1sico de arquivos usando apenas as ferramentas executadas nesse experimento? O nmap \u00e9 considerado uma ferramenta extremamente poderosa. Como voc\u00ea a utilizaria para identificar quais s\u00e3o os equipamentos que est\u00e3o ativos e em execu\u00e7\u00e3o em uma rede?","title":"Quest\u00f5es para Estudo"},{"location":"freebsd/experimento_03/#referencias-bibliograficas","text":"GITE, Vivek. FreeBSD List/Display Open Ports With sockstat Command. Cyberciti, 2008. Dispon\u00edvel em: https://www.cyberciti.biz/tips/freebsd-lists-open-internet-unix-domain-sockets.html. Acesso em: 11 dez. de 2022. ELLINGWOOD, Justin. How To Use Netcat to Establish and Test TCP and UDP Connections. Digital Ocean, 2021. Dispon\u00edvel em: https://www.digitalocean.com/community/tutorials/how-to-use-netcat-to-establish-and-test-tcp-and-udp-connections. Acesso em: 11 dez. de 2022. SHIVANANDHAN, Manish. What is Nmap and How to Use it \u2013 A Tutorial for the Greatest Scanning Tool of All Time. FreeCodeCamp, 2021. Dispon\u00edvel em: https://www.freecodecamp.org/news/what-is-nmap-and-how-to-use-it-a-tutorial-for-the-greatest-scanning-tool-of-all-time/. Acesso em: 11 dez. de 2022. FreeBSD.org. telnet(1). Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?telnet. Acesso em: 11 dez. 2022. FreeBSD.org. nmap(1). Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?query=nmap&manpath=SuSE+Linux%2Fi386+11.3. Acesso em: 11 dez. 2022. FreeBSD.org. nc(1). Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?nc. Acesso em: 11 dez. 2022. FreeBSD.org. sockstat(1). Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?query=sockstat&sektion=1. Acesso em: 11 dez. 2022. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Refer\u00eancias Bibliogr\u00e1ficas"},{"location":"freebsd/experimento_04/","text":"Depura\u00e7\u00e3o de Problemas na Camada de Internet Pr\u00e1tica de Laborat\u00f3rio 04 Depura\u00e7\u00e3o de Problemas na Camada de Internet Introdu\u00e7\u00e3o Uma vez devidamente configurado, um equipamento que se comunica atrav\u00e9s de uma rede de computadores como a Internet, se faz \u00fatil ao interagir com outros equipamentos para o provimento de servi\u00e7os a usu\u00e1rios. O estudo sobre a Camada de Internet introduz v\u00e1rios protocolos que tipicamente d\u00e3o suporte \u00e0s aplica\u00e7\u00f5es em rede, que, por sua vez, prov\u00eam os servi\u00e7os que usamos diariamente. O conjunto de protocolos que cooperam no provimento dos servi\u00e7os t\u00edpicos de camada de internet podem ser separados em duas categorias: protocolos que geram tabelas de encaminhamento, os protocolos de roteamento, e os protocolos que utilizam as tabelas de encaminhamento. Antes de serem introduzidas ferramentas de inspe\u00e7\u00e3o de protocolos de diferentes camadas, faz-se necess\u00e1rio apresentar ao estudante um conjunto m\u00ednimo de ferramentas que permitir\u00e3o a execu\u00e7\u00e3o de um diagn\u00f3stico preciso ao se encarar uma situa\u00e7\u00e3o de interrup\u00e7\u00e3o ou instabilidade de servi\u00e7o t\u00edpico da camada de internet. Objetivos Exercitar as configura\u00e7\u00f5es b\u00e1sicas para navegabilidade em uma rede de computadores bem como usar ferramentas de diagn\u00f3stico para validar configura\u00e7\u00f5es. Exercitar os princ\u00edpios b\u00e1sicos de uma comunica\u00e7\u00e3o em redes TCP/IP, com \u00eanfase nos servi\u00e7os t\u00edpicos da camada de internet. Conhecer e manipular ferramentas de diagn\u00f3stico ( ping , ifconfig , traceroute , netstat e route ) para fixa\u00e7\u00e3o de conceitos da camada de internet. Teoria abordada no experimento Funcionamento b\u00e1sico de uma rede TCP/IP. Protocolos de Camada de Internet. Material Necess\u00e1rio Interfaces de rede (NIC's) M\u00e1quinas com sistema FreeBSD Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Servidores HTTP, DNS e SMTP devidamente configurados Ferramentas de diagn\u00f3stico: ping , ifconfig , traceroute , netstat e route Roteiro 1. Montagem de rede interconectada para o experimento H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4), H4 (192.168.1.5) e R/eth0 (192.168.1.1). Al\u00e9m dessa topologia, haver\u00e1 equipamentos que prover\u00e3o os servi\u00e7os necess\u00e1rios \u00e0s pr\u00e1ticas da aula: DHCP e NAT. 2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 . 3. Confer\u00eancia de informa\u00e7\u00f5es sobre interfaces de rede Usando um dos computadores dispon\u00edveis para o experimento e usando privil\u00e9gios administrativos, execute a aplica\u00e7\u00e3o ifconfig . Quando executada sem par\u00e2metros, essa aplica\u00e7\u00e3o ir\u00e1 retornar uma tabela de informa\u00e7\u00f5es em que a primeira coluna possui um c\u00f3digo que identifica a interface de rede. Por sua vez, a segunda coluna apresenta informa\u00e7\u00f5es espec\u00edficas sobre o enlace e sobre a rede \u00e0 qual est\u00e1 conectada a interface. 4. Intera\u00e7\u00f5es com outros clientes conectados \u00e0 mesma rede No primeiro experimento pr\u00e1tico, pudemos exercitar alguns comandos, por\u00e9m sem conhecer o princ\u00edpio de funcionamento dos mesmos. Um desses comandos (o mais intuitivo deles) foi o comando ping . Repitamos a execu\u00e7\u00e3o do mesmo comando nessa pr\u00e1tica. Sugiro identificar na rede de testes o IP de um equipamento ativo para, em seguida, executar o comando: $ ping ip_do_host 5. Tabela de encaminhamento \u00c0s vezes, faz-se necess\u00e1rio verificar qual \u00e9 o caminho que poder\u00e1 ser seguido por um pacote em uma comunica\u00e7\u00e3o t\u00edpica atrav\u00e9s de uma rede TCP/IP. Ainda no equipamento emissor, pode ser necess\u00e1ria a confer\u00eancia da tabela de encaminhamento em vig\u00eancia. O sistema operacional FreeBSD prov\u00ea algumas ferramentas que permitem a confer\u00eancia da tabela de encaminhamento ativa. O comando netstat \u00e9 uma dessas ferramentas. Essa aplica\u00e7\u00e3o possui uma op\u00e7\u00e3o que indica ao usu\u00e1rio quais s\u00e3o as informa\u00e7\u00f5es constantes na tabela de encaminhamento. Execute o seguinte comando com acesso administrativo: $ netstat -nr O retorno ser\u00e1 uma tabela com 8 colunas devidamente identificadas. Voc\u00ea consegue perceber a repeti\u00e7\u00e3o de algumas informa\u00e7\u00f5es contidas na sa\u00edda desse comando quanto comparada com a sa\u00edda do ifconfig ? Para conferir o estado de atividade das interfaces de rede: $ netstat -i 6. Caminho seguido por um pacote H\u00e1 uma aplica\u00e7\u00e3o que exercita os servi\u00e7os t\u00edpicos e protocolos da camada de forma a identificar o caminho seguido por um pacote. Esse tipo de informa\u00e7\u00e3o \u00e9 muito \u00fatil para um administrador de redes de computadores que necessita validar a execu\u00e7\u00e3o de suas interven\u00e7\u00f5es no esquema de roteamento seguido por um sistema aut\u00f4nomo. Por\u00e9m, dependendo do tipo da institui\u00e7\u00e3o que se comunica atrav\u00e9s de um sistema aut\u00f4nomo de roteamento, a informa\u00e7\u00e3o do caminho seguido pelo pacote pode classificada como sens\u00edvel. Dessa forma, o acesso dever\u00e1 ser restrito \u00e0queles que dela dependem sustentar o funcionamento do sistema aut\u00f4nomo. Naturalmente, outros usu\u00e1rios n\u00e3o dever\u00e3o ser capazes de extrair essa informa\u00e7\u00e3o de forma trivial a partir de intera\u00e7\u00f5es com a rede. A ferramenta de diagn\u00f3stico explorada nessa etapa chama-se traceroute . Por meio de intera\u00e7\u00f5es com mecanismos t\u00edpicos da camada de internet e da camada de transporte, essa ferramenta consegue extrair de redes qual o caminho percorrido por determinado pacote. Para tanto, basta que seu usu\u00e1rio indique um ip alvo para que a aplica\u00e7\u00e3o realize o processo de tra\u00e7ado da rota. $ traceroute ip_do_alvo Quest\u00f5es para Estudo A descri\u00e7\u00e3o de informa\u00e7\u00f5es espec\u00edficas sobre a interface de rede obtida atrav\u00e9s da execu\u00e7\u00e3o do comando ifconfig \u00e9 bem extensa. Partindo do resultado da execu\u00e7\u00e3o do comando em seu equipamento e tomando como refer\u00eancia a interface que foi usada nos testes, descreva em detalhes o significado de cada um dos itens discriminados na segunda coluna de sa\u00edda do comando. Equipamentos que implementam a pilha de protocolos TCP/IP apresentam, tipicamente, uma sa\u00edda padr\u00e3o durante a execu\u00e7\u00e3o do comando ifconfig . Indique que sa\u00edda \u00e9 essa e como ela se faz \u00fatil na constru\u00e7\u00e3o de sistemas que funcionar\u00e3o sobre redes de comunica\u00e7\u00f5es. A execu\u00e7\u00e3o do comando ping em uma rede \u00e9 uma das primeiras medidas para verifica\u00e7\u00e3o de continuidade de servi\u00e7o. Embora seja um comando muito simples de invocar e cujos resultados pr\u00e1ticos s\u00e3o muito f\u00e1ceis de interpretar, a riqueza de detalhes da sa\u00edda t\u00edpica de execu\u00e7\u00e3o do ping \u00e9 grande. Descreva cada um dos itens que comp\u00f5em a sa\u00edda de execu\u00e7\u00e3o t\u00edpica de um comando ping . Em rela\u00e7\u00e3o \u00e0 etapa 5 do presente roteiro, descreva cada um dos itens que comp\u00f5em a sa\u00edda de execu\u00e7\u00e3o t\u00edpica de um comando netstat -nr . Em rela\u00e7\u00e3o \u00e0 etapa 6 do presente roteiro, descreva o processo t\u00edpico de detec\u00e7\u00e3o da rota percorrida por um pacote atrav\u00e9s da execu\u00e7\u00e3o do comando traceroute . Refer\u00eancias Bibliogr\u00e1ficas FreeBSD.org. ping(8). Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?ping(8). Acesso em: 10 dez. 2022. FreeBSD.org. traceroute. Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?query=traceroute. Acesso em: 12 dez. 2022. FreeBSD.org. netstat. Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?netstat. Acesso em: 12 dez. 2022. FreeBSD.org. route. Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?route. Acesso em: 12 dez. 2022. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Depura\u00e7\u00e3o de Problemas na Camada de Internet"},{"location":"freebsd/experimento_04/#depuracao-de-problemas-na-camada-de-internet","text":"Pr\u00e1tica de Laborat\u00f3rio 04 Depura\u00e7\u00e3o de Problemas na Camada de Internet","title":"Depura\u00e7\u00e3o de Problemas na Camada de Internet"},{"location":"freebsd/experimento_04/#introducao","text":"Uma vez devidamente configurado, um equipamento que se comunica atrav\u00e9s de uma rede de computadores como a Internet, se faz \u00fatil ao interagir com outros equipamentos para o provimento de servi\u00e7os a usu\u00e1rios. O estudo sobre a Camada de Internet introduz v\u00e1rios protocolos que tipicamente d\u00e3o suporte \u00e0s aplica\u00e7\u00f5es em rede, que, por sua vez, prov\u00eam os servi\u00e7os que usamos diariamente. O conjunto de protocolos que cooperam no provimento dos servi\u00e7os t\u00edpicos de camada de internet podem ser separados em duas categorias: protocolos que geram tabelas de encaminhamento, os protocolos de roteamento, e os protocolos que utilizam as tabelas de encaminhamento. Antes de serem introduzidas ferramentas de inspe\u00e7\u00e3o de protocolos de diferentes camadas, faz-se necess\u00e1rio apresentar ao estudante um conjunto m\u00ednimo de ferramentas que permitir\u00e3o a execu\u00e7\u00e3o de um diagn\u00f3stico preciso ao se encarar uma situa\u00e7\u00e3o de interrup\u00e7\u00e3o ou instabilidade de servi\u00e7o t\u00edpico da camada de internet.","title":"Introdu\u00e7\u00e3o"},{"location":"freebsd/experimento_04/#objetivos","text":"Exercitar as configura\u00e7\u00f5es b\u00e1sicas para navegabilidade em uma rede de computadores bem como usar ferramentas de diagn\u00f3stico para validar configura\u00e7\u00f5es. Exercitar os princ\u00edpios b\u00e1sicos de uma comunica\u00e7\u00e3o em redes TCP/IP, com \u00eanfase nos servi\u00e7os t\u00edpicos da camada de internet. Conhecer e manipular ferramentas de diagn\u00f3stico ( ping , ifconfig , traceroute , netstat e route ) para fixa\u00e7\u00e3o de conceitos da camada de internet.","title":"Objetivos"},{"location":"freebsd/experimento_04/#teoria-abordada-no-experimento","text":"Funcionamento b\u00e1sico de uma rede TCP/IP. Protocolos de Camada de Internet.","title":"Teoria abordada no experimento"},{"location":"freebsd/experimento_04/#material-necessario","text":"Interfaces de rede (NIC's) M\u00e1quinas com sistema FreeBSD Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Servidores HTTP, DNS e SMTP devidamente configurados Ferramentas de diagn\u00f3stico: ping , ifconfig , traceroute , netstat e route","title":"Material Necess\u00e1rio"},{"location":"freebsd/experimento_04/#roteiro","text":"","title":"Roteiro"},{"location":"freebsd/experimento_04/#1-montagem-de-rede-interconectada-para-o-experimento","text":"H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4), H4 (192.168.1.5) e R/eth0 (192.168.1.1). Al\u00e9m dessa topologia, haver\u00e1 equipamentos que prover\u00e3o os servi\u00e7os necess\u00e1rios \u00e0s pr\u00e1ticas da aula: DHCP e NAT.","title":"1. Montagem de rede interconectada para o experimento"},{"location":"freebsd/experimento_04/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","text":"Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 .","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es"},{"location":"freebsd/experimento_04/#3-conferencia-de-informacoes-sobre-interfaces-de-rede","text":"Usando um dos computadores dispon\u00edveis para o experimento e usando privil\u00e9gios administrativos, execute a aplica\u00e7\u00e3o ifconfig . Quando executada sem par\u00e2metros, essa aplica\u00e7\u00e3o ir\u00e1 retornar uma tabela de informa\u00e7\u00f5es em que a primeira coluna possui um c\u00f3digo que identifica a interface de rede. Por sua vez, a segunda coluna apresenta informa\u00e7\u00f5es espec\u00edficas sobre o enlace e sobre a rede \u00e0 qual est\u00e1 conectada a interface.","title":"3. Confer\u00eancia de informa\u00e7\u00f5es sobre interfaces de rede"},{"location":"freebsd/experimento_04/#4-interacoes-com-outros-clientes-conectados-a-mesma-rede","text":"No primeiro experimento pr\u00e1tico, pudemos exercitar alguns comandos, por\u00e9m sem conhecer o princ\u00edpio de funcionamento dos mesmos. Um desses comandos (o mais intuitivo deles) foi o comando ping . Repitamos a execu\u00e7\u00e3o do mesmo comando nessa pr\u00e1tica. Sugiro identificar na rede de testes o IP de um equipamento ativo para, em seguida, executar o comando: $ ping ip_do_host","title":"4. Intera\u00e7\u00f5es com outros clientes conectados \u00e0 mesma rede"},{"location":"freebsd/experimento_04/#5-tabela-de-encaminhamento","text":"\u00c0s vezes, faz-se necess\u00e1rio verificar qual \u00e9 o caminho que poder\u00e1 ser seguido por um pacote em uma comunica\u00e7\u00e3o t\u00edpica atrav\u00e9s de uma rede TCP/IP. Ainda no equipamento emissor, pode ser necess\u00e1ria a confer\u00eancia da tabela de encaminhamento em vig\u00eancia. O sistema operacional FreeBSD prov\u00ea algumas ferramentas que permitem a confer\u00eancia da tabela de encaminhamento ativa. O comando netstat \u00e9 uma dessas ferramentas. Essa aplica\u00e7\u00e3o possui uma op\u00e7\u00e3o que indica ao usu\u00e1rio quais s\u00e3o as informa\u00e7\u00f5es constantes na tabela de encaminhamento. Execute o seguinte comando com acesso administrativo: $ netstat -nr O retorno ser\u00e1 uma tabela com 8 colunas devidamente identificadas. Voc\u00ea consegue perceber a repeti\u00e7\u00e3o de algumas informa\u00e7\u00f5es contidas na sa\u00edda desse comando quanto comparada com a sa\u00edda do ifconfig ? Para conferir o estado de atividade das interfaces de rede: $ netstat -i","title":"5. Tabela de encaminhamento"},{"location":"freebsd/experimento_04/#6-caminho-seguido-por-um-pacote","text":"H\u00e1 uma aplica\u00e7\u00e3o que exercita os servi\u00e7os t\u00edpicos e protocolos da camada de forma a identificar o caminho seguido por um pacote. Esse tipo de informa\u00e7\u00e3o \u00e9 muito \u00fatil para um administrador de redes de computadores que necessita validar a execu\u00e7\u00e3o de suas interven\u00e7\u00f5es no esquema de roteamento seguido por um sistema aut\u00f4nomo. Por\u00e9m, dependendo do tipo da institui\u00e7\u00e3o que se comunica atrav\u00e9s de um sistema aut\u00f4nomo de roteamento, a informa\u00e7\u00e3o do caminho seguido pelo pacote pode classificada como sens\u00edvel. Dessa forma, o acesso dever\u00e1 ser restrito \u00e0queles que dela dependem sustentar o funcionamento do sistema aut\u00f4nomo. Naturalmente, outros usu\u00e1rios n\u00e3o dever\u00e3o ser capazes de extrair essa informa\u00e7\u00e3o de forma trivial a partir de intera\u00e7\u00f5es com a rede. A ferramenta de diagn\u00f3stico explorada nessa etapa chama-se traceroute . Por meio de intera\u00e7\u00f5es com mecanismos t\u00edpicos da camada de internet e da camada de transporte, essa ferramenta consegue extrair de redes qual o caminho percorrido por determinado pacote. Para tanto, basta que seu usu\u00e1rio indique um ip alvo para que a aplica\u00e7\u00e3o realize o processo de tra\u00e7ado da rota. $ traceroute ip_do_alvo","title":"6. Caminho seguido por um pacote"},{"location":"freebsd/experimento_04/#questoes-para-estudo","text":"A descri\u00e7\u00e3o de informa\u00e7\u00f5es espec\u00edficas sobre a interface de rede obtida atrav\u00e9s da execu\u00e7\u00e3o do comando ifconfig \u00e9 bem extensa. Partindo do resultado da execu\u00e7\u00e3o do comando em seu equipamento e tomando como refer\u00eancia a interface que foi usada nos testes, descreva em detalhes o significado de cada um dos itens discriminados na segunda coluna de sa\u00edda do comando. Equipamentos que implementam a pilha de protocolos TCP/IP apresentam, tipicamente, uma sa\u00edda padr\u00e3o durante a execu\u00e7\u00e3o do comando ifconfig . Indique que sa\u00edda \u00e9 essa e como ela se faz \u00fatil na constru\u00e7\u00e3o de sistemas que funcionar\u00e3o sobre redes de comunica\u00e7\u00f5es. A execu\u00e7\u00e3o do comando ping em uma rede \u00e9 uma das primeiras medidas para verifica\u00e7\u00e3o de continuidade de servi\u00e7o. Embora seja um comando muito simples de invocar e cujos resultados pr\u00e1ticos s\u00e3o muito f\u00e1ceis de interpretar, a riqueza de detalhes da sa\u00edda t\u00edpica de execu\u00e7\u00e3o do ping \u00e9 grande. Descreva cada um dos itens que comp\u00f5em a sa\u00edda de execu\u00e7\u00e3o t\u00edpica de um comando ping . Em rela\u00e7\u00e3o \u00e0 etapa 5 do presente roteiro, descreva cada um dos itens que comp\u00f5em a sa\u00edda de execu\u00e7\u00e3o t\u00edpica de um comando netstat -nr . Em rela\u00e7\u00e3o \u00e0 etapa 6 do presente roteiro, descreva o processo t\u00edpico de detec\u00e7\u00e3o da rota percorrida por um pacote atrav\u00e9s da execu\u00e7\u00e3o do comando traceroute .","title":"Quest\u00f5es para Estudo"},{"location":"freebsd/experimento_04/#referencias-bibliograficas","text":"FreeBSD.org. ping(8). Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?ping(8). Acesso em: 10 dez. 2022. FreeBSD.org. traceroute. Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?query=traceroute. Acesso em: 12 dez. 2022. FreeBSD.org. netstat. Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?netstat. Acesso em: 12 dez. 2022. FreeBSD.org. route. Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?route. Acesso em: 12 dez. 2022. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Refer\u00eancias Bibliogr\u00e1ficas"},{"location":"freebsd/experimento_05/","text":"Camada de Internet (DHCP) Pr\u00e1tica de Laborat\u00f3rio 05 Camada de Internet (DHCP) Introdu\u00e7\u00e3o Para o correto funcionamento de redes, alguns servi\u00e7os de n\u00edvel de internet complementam as fun\u00e7\u00f5es b\u00e1sicas de rede, oferecendo funcionalidades que facilitam a administra\u00e7\u00e3o da rede. Um dos mais \u00fateis servi\u00e7os de rede em uso nas redes TCP/IP hoje, \u00e9 implementado pelo protocolo DHCP ( Dynamic Host Configuration Protocol ). Objetivos Visualizar a import\u00e2ncia dos servi\u00e7os de atribui\u00e7\u00e3o din\u00e2mica de configura\u00e7\u00f5es. Entender como funciona a implementa\u00e7\u00e3o do DHCP no FreeBSD, e configur\u00e1-la. Teoria abordada no experimento Objetivo e funcionamento do protocolo DHCP. Material Necess\u00e1rio Interfaces de rede (NIC's) M\u00e1quinas com sistema FreeBSD Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico, pacotes de servidor DHCP ( isc-dhcp44-server ) Acesso \u00e0 Internet \u2013 necess\u00e1rio Desligar o servidor DHCP para as m\u00e1quinas de aula Roteiro 1. Montagem de rede interconectada para o experimento H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4) e R/eth0 (192.168.1.1). 2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 . 3. Instala\u00e7\u00e3o do pacote de servidor DHCP Para a execu\u00e7\u00e3o deste experimento \u00e9 essencial a instala\u00e7\u00e3o do pacote isc-dhcp44-server , que n\u00e3o \u00e9 incluso por padr\u00e3o no FreeBSD. Para prosseguir com a instala\u00e7\u00e3o, execute o seguinte comando: $ pkg install isc-dhcp44-server ATEN\u00c7\u00c3O: \u00c9 normal ocorrer uma falha, pois, ao finalizar a instala\u00e7\u00e3o, ele tenta iniciar o servidor que n\u00e3o tem nenhum escopo DHCP criado ainda. 4. Configura\u00e7\u00e3o do Servidor DHCP Os arquivos mais importantes do servidor DHCP a ser usado, s\u00e3o: /usr/local/etc/dhcpd.conf : configura\u00e7\u00f5es para o servidor DHCP /var/db/dhcpd.leases : leases j\u00e1 ofertados pelo servidor DHCP A configura\u00e7\u00e3o do servidor est\u00e1 toda no arquivo dhcpd.conf . Segue abaixo um exemplo comentado: # Exemplo de configura\u00e7\u00e3o # Tempo de lease: default m\u00ednimo (10 min) e m\u00e1ximo (2 hs) # Outros valores: 86400 (1 dia), 604800 (1 semana) e 2592000 (30 dias) default-lease-time 600; max-lease-time 7200; # Reconhece e corrige pedidos de endere\u00e7os incoerentes authoritative; # Op\u00e7\u00f5es de rede comuns option subnet-mask 255.255.255.0; option broadcast-address 192.168.1.255; option routers 192.168.1.1; option domain-name-servers 192.168.1.1; option domain-name \"mydomain.org\"; # Pode-se incluir op\u00e7\u00f5es especificas para uma subrede subnet 192.168.1.0 netmask 255.255.255.0 { range 192.168.1.2 192.168.1.100; range 192.168.1.150 192.168.1.200; } # Para designar WINS server para estac\u00f5es WIN #option netbios-name-servers 192.168.1.1; # Para atribuir um endere\u00e7o especifico para um MAC - suporte a clientes # BOOTP host haagen { option host-name \u201cleao.labredes.unb.br\u201d; hardware ethernet 08:00:2b:4c:59:23; fixed-address 192.168.1.222; } O comando abaixo pode ser executado para verificar a sintaxe do arquivo dhcpd.conf com o objetivo de garantir que nenhum erro de digita\u00e7\u00e3o foi cometido: $ dhcpd -t Em caso de nenhum erro de sintaxe indicado pelo comando acima, deve-se reiniciar o servidor para que as altera\u00e7\u00f5es tenham efeito. Por\u00e9m, primeiro \u00e9 necess\u00e1rio adicionar a seguinte vari\u00e1vel no arquivo rc.conf ( /etc/rc.conf ): dhcpd_enable=\"YES\" Depois executar o servidor: $ service isc-dhcpd start esta \u00e9 a maneira correta de disparar servi\u00e7os num servidor FreeBSD, por\u00e9m queremos ver o que est\u00e1 acontecendo com o servidor na sua tela. Por isso vamos disparar o servidor \u201cna m\u00e3o\u201d com o comando: $ dhcpd -d -f <interface de rede> a op\u00e7\u00e3o -d habilita o modo de depura\u00e7\u00e3o, que fornece um rastreamento mais detalhado do processo de inicializa\u00e7\u00e3o do servidor DHCP e a op\u00e7\u00e3o -f especifica qual interface de rede deve ser usada. Para disparar o servi\u00e7o somente em uma interface sempre, acrescente a op\u00e7\u00e3o da interface no inicio do arquivo /usr/local/etc/dhcpd.conf : INTERFACES=\"em0\"; Ap\u00f3s a configura\u00e7\u00e3o do servidor DHCP, caso apresente algum problema e n\u00e3o esteja funcionando, pode ser necess\u00e1rio verificar os arquivos de log do sistema ( /var/log/messages ), com o seguinte comando: $ grep dhcpd /var/log/messages 5. Configura\u00e7\u00e3o do cliente DHCP No FreeBSD, configure o arquivo rc.conf ( /etc/rc.conf ) citado em experi\u00eancias anteriores e ponha a interface em quest\u00e3o configur\u00e1vel via dhcp, adicionando a linha abaixo: ifconfig_em0=\u201dDHCP\u201d Para for\u00e7ar a configura\u00e7\u00e3o da interface de rede, d\u00ea o comando: $ ifup <interface> Para verificar o endere\u00e7o obtido do servidor DHCP: $ ifconfig ATEN\u00c7\u00c3O: Caso o comando ifconfig n\u00e3o aponte o ip adquirido atrav\u00e9s do DHCP, pode ser necess\u00e1rio reiniciar a interface de rede ( ifdown <interface> + ifup <interface> ) ou dhclient <interface> Verifique se o cliente est\u00e1 usando o servidor DHCP correto: $ dhclient -v ATEN\u00c7\u00c3O: Caso o par\u00e2metro -v n\u00e3o exista na vers\u00e3o do servidor em execu\u00e7\u00e3o, pode ser usado o comando cat /var/db/dhclient.leases.<interface> . Atrav\u00e9s do arquivo de leases , verifique as concess\u00f5es ativas do servidor dhcp: $ cat /var/lib/dhcp/dhcpd.leases | less Visualize as mensagens sendo trocadas entre cliente e servidor DHCP com um analisador de protocolos. Altere as configura\u00e7\u00f5es do servidor DHCP de forma que um dos hosts tenha IP previamente definido em fun\u00e7\u00e3o de seu endere\u00e7o MAC. Verifique se as mudan\u00e7as foram aplicadas aos hosts de sua rede. Quest\u00f5es para Estudo DHCP pode funcionar atrav\u00e9s de redes ligadas por roteadores? O que \u00e9 a fun\u00e7\u00e3o de BOOTP/DHCP relay ? Analise as poss\u00edveis configura\u00e7\u00f5es do arquivo dhcpd.conf . Que op\u00e7\u00f5es de configura\u00e7\u00e3o se pode passar automaticamente via DHCP para hosts numa rede? Isto pode ser usado em outros servi\u00e7os de rede? Qual a vantagem de se fixar IP's por endere\u00e7o MAC? Podemos ter mais de um servidor DHCP numa rede? Pode haver alguma confus\u00e3o? O que acontece se houver? Refer\u00eancias Bibliogr\u00e1ficas REIS, F\u00e1bio. Como configurar um servidor DHCP no Linux. Boson treinamentos, 2013. Dispon\u00edvel em: http://www.bosontreinamentos.com.br/linux/servidor-dhcp-no-linux/. Acesso em: 14 dez. de 2022. MEL. How to install DHCP Server on FreeBSD. Unixcop, 2022. Dispon\u00edvel em: https://unixcop.com/how-to-install-dhcp-server-on-freebsd/. Acesso em: 14 dez. de 2022. Medium.com. Highly Available DHCP Server on FreeBSD, 2018. Dispon\u00edvel em: https://medium.com/@vermaden/highly-available-dhcp-server-on-freebsd-2bf81a5e4e77. Acesso em: 14 dez. de 2022. REIS, F\u00e1bio. Servidor DHCP no Linux 01 - Instala\u00e7\u00e3o e Configura\u00e7\u00e3o de um Escopo. YouTube, 16 de jun. de 2013. Dispon\u00edvel em: https://www.youtube.com/watch?v=hqS_EuQA6pQ. Acesso em: 14 dez. de 2022. REIS, F\u00e1bio. Servidor DHCP no Linux 02 - Ativando e Testando o Escopo criado. YouTube, 16 de jun. de 2013. Dispon\u00edvel em: https://www.youtube.com/watch?v=0hfJEnYk_6A. Acesso em: 14 dez. de 2022. DROMS, R. Automated configuration of TCP/IP with DHCP. IEEE Internet Computing, 1999. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Camada de Internet (DHCP)"},{"location":"freebsd/experimento_05/#camada-de-internet-dhcp","text":"Pr\u00e1tica de Laborat\u00f3rio 05 Camada de Internet (DHCP)","title":"Camada de Internet (DHCP)"},{"location":"freebsd/experimento_05/#introducao","text":"Para o correto funcionamento de redes, alguns servi\u00e7os de n\u00edvel de internet complementam as fun\u00e7\u00f5es b\u00e1sicas de rede, oferecendo funcionalidades que facilitam a administra\u00e7\u00e3o da rede. Um dos mais \u00fateis servi\u00e7os de rede em uso nas redes TCP/IP hoje, \u00e9 implementado pelo protocolo DHCP ( Dynamic Host Configuration Protocol ).","title":"Introdu\u00e7\u00e3o"},{"location":"freebsd/experimento_05/#objetivos","text":"Visualizar a import\u00e2ncia dos servi\u00e7os de atribui\u00e7\u00e3o din\u00e2mica de configura\u00e7\u00f5es. Entender como funciona a implementa\u00e7\u00e3o do DHCP no FreeBSD, e configur\u00e1-la.","title":"Objetivos"},{"location":"freebsd/experimento_05/#teoria-abordada-no-experimento","text":"Objetivo e funcionamento do protocolo DHCP.","title":"Teoria abordada no experimento"},{"location":"freebsd/experimento_05/#material-necessario","text":"Interfaces de rede (NIC's) M\u00e1quinas com sistema FreeBSD Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico, pacotes de servidor DHCP ( isc-dhcp44-server ) Acesso \u00e0 Internet \u2013 necess\u00e1rio Desligar o servidor DHCP para as m\u00e1quinas de aula","title":"Material Necess\u00e1rio"},{"location":"freebsd/experimento_05/#roteiro","text":"","title":"Roteiro"},{"location":"freebsd/experimento_05/#1-montagem-de-rede-interconectada-para-o-experimento","text":"H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4) e R/eth0 (192.168.1.1).","title":"1. Montagem de rede interconectada para o experimento"},{"location":"freebsd/experimento_05/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","text":"Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 .","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es"},{"location":"freebsd/experimento_05/#3-instalacao-do-pacote-de-servidor-dhcp","text":"Para a execu\u00e7\u00e3o deste experimento \u00e9 essencial a instala\u00e7\u00e3o do pacote isc-dhcp44-server , que n\u00e3o \u00e9 incluso por padr\u00e3o no FreeBSD. Para prosseguir com a instala\u00e7\u00e3o, execute o seguinte comando: $ pkg install isc-dhcp44-server ATEN\u00c7\u00c3O: \u00c9 normal ocorrer uma falha, pois, ao finalizar a instala\u00e7\u00e3o, ele tenta iniciar o servidor que n\u00e3o tem nenhum escopo DHCP criado ainda.","title":"3. Instala\u00e7\u00e3o do pacote de servidor DHCP"},{"location":"freebsd/experimento_05/#4-configuracao-do-servidor-dhcp","text":"Os arquivos mais importantes do servidor DHCP a ser usado, s\u00e3o: /usr/local/etc/dhcpd.conf : configura\u00e7\u00f5es para o servidor DHCP /var/db/dhcpd.leases : leases j\u00e1 ofertados pelo servidor DHCP A configura\u00e7\u00e3o do servidor est\u00e1 toda no arquivo dhcpd.conf . Segue abaixo um exemplo comentado: # Exemplo de configura\u00e7\u00e3o # Tempo de lease: default m\u00ednimo (10 min) e m\u00e1ximo (2 hs) # Outros valores: 86400 (1 dia), 604800 (1 semana) e 2592000 (30 dias) default-lease-time 600; max-lease-time 7200; # Reconhece e corrige pedidos de endere\u00e7os incoerentes authoritative; # Op\u00e7\u00f5es de rede comuns option subnet-mask 255.255.255.0; option broadcast-address 192.168.1.255; option routers 192.168.1.1; option domain-name-servers 192.168.1.1; option domain-name \"mydomain.org\"; # Pode-se incluir op\u00e7\u00f5es especificas para uma subrede subnet 192.168.1.0 netmask 255.255.255.0 { range 192.168.1.2 192.168.1.100; range 192.168.1.150 192.168.1.200; } # Para designar WINS server para estac\u00f5es WIN #option netbios-name-servers 192.168.1.1; # Para atribuir um endere\u00e7o especifico para um MAC - suporte a clientes # BOOTP host haagen { option host-name \u201cleao.labredes.unb.br\u201d; hardware ethernet 08:00:2b:4c:59:23; fixed-address 192.168.1.222; } O comando abaixo pode ser executado para verificar a sintaxe do arquivo dhcpd.conf com o objetivo de garantir que nenhum erro de digita\u00e7\u00e3o foi cometido: $ dhcpd -t Em caso de nenhum erro de sintaxe indicado pelo comando acima, deve-se reiniciar o servidor para que as altera\u00e7\u00f5es tenham efeito. Por\u00e9m, primeiro \u00e9 necess\u00e1rio adicionar a seguinte vari\u00e1vel no arquivo rc.conf ( /etc/rc.conf ): dhcpd_enable=\"YES\" Depois executar o servidor: $ service isc-dhcpd start esta \u00e9 a maneira correta de disparar servi\u00e7os num servidor FreeBSD, por\u00e9m queremos ver o que est\u00e1 acontecendo com o servidor na sua tela. Por isso vamos disparar o servidor \u201cna m\u00e3o\u201d com o comando: $ dhcpd -d -f <interface de rede> a op\u00e7\u00e3o -d habilita o modo de depura\u00e7\u00e3o, que fornece um rastreamento mais detalhado do processo de inicializa\u00e7\u00e3o do servidor DHCP e a op\u00e7\u00e3o -f especifica qual interface de rede deve ser usada. Para disparar o servi\u00e7o somente em uma interface sempre, acrescente a op\u00e7\u00e3o da interface no inicio do arquivo /usr/local/etc/dhcpd.conf : INTERFACES=\"em0\"; Ap\u00f3s a configura\u00e7\u00e3o do servidor DHCP, caso apresente algum problema e n\u00e3o esteja funcionando, pode ser necess\u00e1rio verificar os arquivos de log do sistema ( /var/log/messages ), com o seguinte comando: $ grep dhcpd /var/log/messages","title":"4. Configura\u00e7\u00e3o do Servidor DHCP"},{"location":"freebsd/experimento_05/#5-configuracao-do-cliente-dhcp","text":"No FreeBSD, configure o arquivo rc.conf ( /etc/rc.conf ) citado em experi\u00eancias anteriores e ponha a interface em quest\u00e3o configur\u00e1vel via dhcp, adicionando a linha abaixo: ifconfig_em0=\u201dDHCP\u201d Para for\u00e7ar a configura\u00e7\u00e3o da interface de rede, d\u00ea o comando: $ ifup <interface> Para verificar o endere\u00e7o obtido do servidor DHCP: $ ifconfig ATEN\u00c7\u00c3O: Caso o comando ifconfig n\u00e3o aponte o ip adquirido atrav\u00e9s do DHCP, pode ser necess\u00e1rio reiniciar a interface de rede ( ifdown <interface> + ifup <interface> ) ou dhclient <interface> Verifique se o cliente est\u00e1 usando o servidor DHCP correto: $ dhclient -v ATEN\u00c7\u00c3O: Caso o par\u00e2metro -v n\u00e3o exista na vers\u00e3o do servidor em execu\u00e7\u00e3o, pode ser usado o comando cat /var/db/dhclient.leases.<interface> . Atrav\u00e9s do arquivo de leases , verifique as concess\u00f5es ativas do servidor dhcp: $ cat /var/lib/dhcp/dhcpd.leases | less Visualize as mensagens sendo trocadas entre cliente e servidor DHCP com um analisador de protocolos. Altere as configura\u00e7\u00f5es do servidor DHCP de forma que um dos hosts tenha IP previamente definido em fun\u00e7\u00e3o de seu endere\u00e7o MAC. Verifique se as mudan\u00e7as foram aplicadas aos hosts de sua rede.","title":"5. Configura\u00e7\u00e3o do cliente DHCP"},{"location":"freebsd/experimento_05/#questoes-para-estudo","text":"DHCP pode funcionar atrav\u00e9s de redes ligadas por roteadores? O que \u00e9 a fun\u00e7\u00e3o de BOOTP/DHCP relay ? Analise as poss\u00edveis configura\u00e7\u00f5es do arquivo dhcpd.conf . Que op\u00e7\u00f5es de configura\u00e7\u00e3o se pode passar automaticamente via DHCP para hosts numa rede? Isto pode ser usado em outros servi\u00e7os de rede? Qual a vantagem de se fixar IP's por endere\u00e7o MAC? Podemos ter mais de um servidor DHCP numa rede? Pode haver alguma confus\u00e3o? O que acontece se houver?","title":"Quest\u00f5es para Estudo"},{"location":"freebsd/experimento_05/#referencias-bibliograficas","text":"REIS, F\u00e1bio. Como configurar um servidor DHCP no Linux. Boson treinamentos, 2013. Dispon\u00edvel em: http://www.bosontreinamentos.com.br/linux/servidor-dhcp-no-linux/. Acesso em: 14 dez. de 2022. MEL. How to install DHCP Server on FreeBSD. Unixcop, 2022. Dispon\u00edvel em: https://unixcop.com/how-to-install-dhcp-server-on-freebsd/. Acesso em: 14 dez. de 2022. Medium.com. Highly Available DHCP Server on FreeBSD, 2018. Dispon\u00edvel em: https://medium.com/@vermaden/highly-available-dhcp-server-on-freebsd-2bf81a5e4e77. Acesso em: 14 dez. de 2022. REIS, F\u00e1bio. Servidor DHCP no Linux 01 - Instala\u00e7\u00e3o e Configura\u00e7\u00e3o de um Escopo. YouTube, 16 de jun. de 2013. Dispon\u00edvel em: https://www.youtube.com/watch?v=hqS_EuQA6pQ. Acesso em: 14 dez. de 2022. REIS, F\u00e1bio. Servidor DHCP no Linux 02 - Ativando e Testando o Escopo criado. YouTube, 16 de jun. de 2013. Dispon\u00edvel em: https://www.youtube.com/watch?v=0hfJEnYk_6A. Acesso em: 14 dez. de 2022. DROMS, R. Automated configuration of TCP/IP with DHCP. IEEE Internet Computing, 1999. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Refer\u00eancias Bibliogr\u00e1ficas"},{"location":"freebsd/experimento_06/","text":"Camada de Internet (NAT) Pr\u00e1tica de Laborat\u00f3rio 06 Camada de Internet (NAT) Introdu\u00e7\u00e3o Para o correto funcionamento de redes, alguns servi\u00e7os de n\u00edvel de aplica\u00e7\u00e3o complementam as fun\u00e7\u00f5es b\u00e1sicas de rede, oferecendo funcionalidades que facilitam a administra\u00e7\u00e3o da rede. Em fun\u00e7\u00e3o da escassez de endere\u00e7os IPv4, os projetistas de Internet desenvolveram artif\u00edcios que permitiam um re\u00faso de IPs. O primeiro conceito envolvido nesse tipo de t\u00e9cnica \u00e9 o da segrega\u00e7\u00e3o do espa\u00e7o de endere\u00e7amento entre endere\u00e7os IPs v\u00e1lidos e endere\u00e7os de IPs de aplica\u00e7\u00e3o restrita. O NAT (Network Address Translation) \u00e9 um esquema que torna vi\u00e1vel montar uma rede endere\u00e7ada por meio de um conjunto de IPs restritos de forma que todos os hosts compartilham um n\u00famero pequeno de IPs v\u00e1lidos e, ainda sim, s\u00e3o capazes de manter conex\u00f5es regulares com equipamentos na Internet. Objetivos Visualizar a import\u00e2ncia dos servi\u00e7os de compartilhamento de IPs. Entender como funciona a implementa\u00e7\u00e3o do NAT no FreeBSD, e configur\u00e1-la. Teoria abordada no experimento Objetivo e funcionamento do esquema NAT. Material Necess\u00e1rio Interfaces de rede (NIC's) M\u00e1quinas com sistema FreeBSD Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Desligar o servidor DHCP para as m\u00e1quinas de aula Roteiro 1. Montagem de rede interconectada para o experimento Monte uma topologia com 3 ou mais m\u00e1quinas. Escolha uma para ser o gateway da topologia e lhe d\u00ea dois endere\u00e7os de IP: um IP fixo e v\u00e1lido para a rede de sa\u00edda e um IP restrito, inv\u00e1lido. H1, H2 e G/eth0 (/24). S1 e G/eth1. (/16) 2. Configura\u00e7\u00e3o do Servidor DHCP (opcional) Se for do interesse de quem executa o experimento evitar configura\u00e7\u00f5es nas m\u00e1quinas que usar\u00e3o o gateway com NAT, \u00e9 conveniente implantar o servi\u00e7o de DHCP em algum servidor da rede local (privada) que usar\u00e1 o equipamento com NAT como gateway. Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 05 . 3. Configura\u00e7\u00e3o do NAT No FreeBSD, configure o arquivo rc.conf ( /etc/rc.conf ), do gateway, citado em experi\u00eancias anteriores e ponha uma interface em quest\u00e3o, a interface de sa\u00edda, configurada de forma fixa usando um IP v\u00e1lido da rede de sa\u00edda. Use o comando ifconfig para verificar o endere\u00e7o configurado. Em seguida, crie uma rede privada e configure o IP da outra interface de rede do equipamento gateway para que possua o primeiro IP do espa\u00e7o de endere\u00e7amento privado. Caso tenha optado por instalar DHCP nesta interface, n\u00e3o ser\u00e1 necess\u00e1ria a configura\u00e7\u00e3o dos clientes que acessar\u00e3o a rede externa atrav\u00e9s do NAT; se esse n\u00e3o for seu caso, configure uma m\u00e1quina cliente de testes no espa\u00e7o de endere\u00e7amento da rede privada rec\u00e9m criada e conecte o cliente ao servidor NAT. Edite o arquivo sysctl.conf ( /etc/sysctl.conf ) para ativar o encaminhamento de pacotes IP (IP forwarding ), remova o coment\u00e1rio da seguinte linha: net.inet.ip.forwarding=1 Ative a configura\u00e7\u00e3o. $ sysctl net.inet.ip.forwarding=1 4. Configura\u00e7\u00e3o do Packet Filter (PF) Primeiramente, pode ser necess\u00e1rio ativar o PF. Para isso, adicione no arquivo rc.conf ( /etc/rc.conf ): pf_enable=yes pf_rules=\"/etc/pf.conf\" gateway_enable=\"YES\" E execute o comando: $ sysrc pf_enable=yes Copie o arquivo pf.conf ( /usr/shared/examples/pf/pf.conf ) para /etc/ : $ cp /usr/shared/examples/pf/pf.conf /etc/pf.conf Caso deseje ativar o suporte de log do PF, adicione a seguinte linha no arquivo rc.conf ( /etc/rc.conf ): pflog_enable=yes E execute o comando: $ sysrc pflog_enable=yes Ap\u00f3s todas essas configura\u00e7\u00f5es inicie o pf e o pflog: $ service pf start $ service pflog start Identifique as interfaces configuradas no passo acima e realize os ajustes adequados. Doravante, chamaremos ethSaida a interface de sa\u00edda e ethPriv a interface interna (com ou sem DHCP). Limpe todas as regras configuradas no PF: $ pfctl -F all -f /etc/pf.conf Configure o arquivo de configura\u00e7\u00e3o do pf ( /etc/pf.conf ) para executar o NAT na interface de sa\u00edda para quaisquer pacotes provenientes da rede interna, substituindo o endere\u00e7o privado pelo endere\u00e7o externo: pass from ethPriv:network to any port $ports keep state Para ativar as configura\u00e7\u00f5es: $ pfctl -e H\u00e1 v\u00e1rias maneiras de configurar o arquivo pf.conf para funcionar como NAT, mas a maneira descrita \u00e9 a que funciona melhor para os mais variados tipos de endere\u00e7amento de rede, seja ele manual ou din\u00e2mico. Para visualizar as tradu\u00e7\u00f5es NAT ativas, o utilit\u00e1rio pfctl \u00e9 usado com o par\u00e2metro -s nat . Esta op\u00e7\u00e3o listar\u00e1 todas as sess\u00f5es NAT atuais: $ pfctl -s nat Explique a sa\u00edda do comando anterior. Teste as configura\u00e7\u00f5es de rede usando as ferramentas discutidas em pr\u00e1ticas anteriores. Recomenda-se as seguintes etapas de testes: teste de conectividade entre equipamentos da rede privada e o gateway com NAT, teste de conectividade entre equipamentos da rede privada e equipamentos situados na rede de sa\u00edda do gateway e teste de conectividade entre equipamentos da rede privada e equipamentos na rede externa. Quest\u00f5es para Estudo Alguns passos foram omitidos nesse roteiro. A partir da metodologia de testes, identifique o problema e apresente a solu\u00e7\u00e3o para que a rede privada rec\u00e9m criada seja capaz de conectar-se \u00e0 rede externa. Consulte a documenta\u00e7\u00e3o das ferramentas usadas na implementa\u00e7\u00e3o do NAT e indique o resultado de cada um dos comandos necess\u00e1rios \u00e0 implementa\u00e7\u00e3o do NAT. Como voc\u00ea sugere verificar se est\u00e1 acessando a rede externa atrav\u00e9s de um NAT? Reinicie o seu equipamento usado para a implementa\u00e7\u00e3o de um NAT usando o sistema operacional FreeBSD e verifique se as suas configura\u00e7\u00f5es ainda funcionam. Descreva que tipo de procedimentos foram realizados para tornar as configura\u00e7\u00f5es de NAT persistentes. Refer\u00eancias Bibliogr\u00e1ficas HOLLAND, N; KNIGHT, J. PF - Network Address Translation. OpenBSD, 2004. Dispon\u00edvel em: https://www.openbsd.org/faq/pf/nat.html. Acesso em: 15 dez. de 2022. LEE, Chern. Network Address Translation. Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://docs.freebsd.org/doc/6.1-RELEASE/usr/share/doc/handbook/network-natd.html. Acesso em: 15 dez. de 2022. Comptia.org. What Is NAT?. Data desconhecida. CompTIA. Dispon\u00edvel em: https://www.comptia.org/content/guides/what-is-network-address-translation. Acesso em: 15 dez. de 2022. Scyphus Solutions Co. FreeBSD as NAT gateway. Scyphus Solutions Co, 2003. Dispon\u00edvel em: http://draft.scyphus.co.jp/freebsd/nat.html. Acesso em: 15 dez. de 2022. ELATOV, Karim. FreeBSD Firewall and NAT with PF. Github, 2011. Dispon\u00edvel em: https://elatov.github.io/2011/05/freebsd-firewall-and-nat-with-pf/. Acesso em: 15 dez. de 2022. NOOR, Justin. How To Configure Packet Filter (PF) on FreeBSD 12.1. Digital Ocean, 2020. Dispon\u00edvel em: https://www.digitalocean.com/community/tutorials/how-to-configure-packet-filter-pf-on-freebsd-12-1. Acesso em: 15 dez. de 2022. WETHERALL, D. J; TANENBAUM, A. S. Computer networks. Pearson Education, 2013. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Camada de Internet (NAT)"},{"location":"freebsd/experimento_06/#camada-de-internet-nat","text":"Pr\u00e1tica de Laborat\u00f3rio 06 Camada de Internet (NAT)","title":"Camada de Internet (NAT)"},{"location":"freebsd/experimento_06/#introducao","text":"Para o correto funcionamento de redes, alguns servi\u00e7os de n\u00edvel de aplica\u00e7\u00e3o complementam as fun\u00e7\u00f5es b\u00e1sicas de rede, oferecendo funcionalidades que facilitam a administra\u00e7\u00e3o da rede. Em fun\u00e7\u00e3o da escassez de endere\u00e7os IPv4, os projetistas de Internet desenvolveram artif\u00edcios que permitiam um re\u00faso de IPs. O primeiro conceito envolvido nesse tipo de t\u00e9cnica \u00e9 o da segrega\u00e7\u00e3o do espa\u00e7o de endere\u00e7amento entre endere\u00e7os IPs v\u00e1lidos e endere\u00e7os de IPs de aplica\u00e7\u00e3o restrita. O NAT (Network Address Translation) \u00e9 um esquema que torna vi\u00e1vel montar uma rede endere\u00e7ada por meio de um conjunto de IPs restritos de forma que todos os hosts compartilham um n\u00famero pequeno de IPs v\u00e1lidos e, ainda sim, s\u00e3o capazes de manter conex\u00f5es regulares com equipamentos na Internet.","title":"Introdu\u00e7\u00e3o"},{"location":"freebsd/experimento_06/#objetivos","text":"Visualizar a import\u00e2ncia dos servi\u00e7os de compartilhamento de IPs. Entender como funciona a implementa\u00e7\u00e3o do NAT no FreeBSD, e configur\u00e1-la.","title":"Objetivos"},{"location":"freebsd/experimento_06/#teoria-abordada-no-experimento","text":"Objetivo e funcionamento do esquema NAT.","title":"Teoria abordada no experimento"},{"location":"freebsd/experimento_06/#material-necessario","text":"Interfaces de rede (NIC's) M\u00e1quinas com sistema FreeBSD Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Desligar o servidor DHCP para as m\u00e1quinas de aula","title":"Material Necess\u00e1rio"},{"location":"freebsd/experimento_06/#roteiro","text":"","title":"Roteiro"},{"location":"freebsd/experimento_06/#1-montagem-de-rede-interconectada-para-o-experimento","text":"Monte uma topologia com 3 ou mais m\u00e1quinas. Escolha uma para ser o gateway da topologia e lhe d\u00ea dois endere\u00e7os de IP: um IP fixo e v\u00e1lido para a rede de sa\u00edda e um IP restrito, inv\u00e1lido. H1, H2 e G/eth0 (/24). S1 e G/eth1. (/16)","title":"1. Montagem de rede interconectada para o experimento"},{"location":"freebsd/experimento_06/#2-configuracao-do-servidor-dhcp-opcional","text":"Se for do interesse de quem executa o experimento evitar configura\u00e7\u00f5es nas m\u00e1quinas que usar\u00e3o o gateway com NAT, \u00e9 conveniente implantar o servi\u00e7o de DHCP em algum servidor da rede local (privada) que usar\u00e1 o equipamento com NAT como gateway. Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 05 .","title":"2. Configura\u00e7\u00e3o do Servidor DHCP (opcional)"},{"location":"freebsd/experimento_06/#3-configuracao-do-nat","text":"No FreeBSD, configure o arquivo rc.conf ( /etc/rc.conf ), do gateway, citado em experi\u00eancias anteriores e ponha uma interface em quest\u00e3o, a interface de sa\u00edda, configurada de forma fixa usando um IP v\u00e1lido da rede de sa\u00edda. Use o comando ifconfig para verificar o endere\u00e7o configurado. Em seguida, crie uma rede privada e configure o IP da outra interface de rede do equipamento gateway para que possua o primeiro IP do espa\u00e7o de endere\u00e7amento privado. Caso tenha optado por instalar DHCP nesta interface, n\u00e3o ser\u00e1 necess\u00e1ria a configura\u00e7\u00e3o dos clientes que acessar\u00e3o a rede externa atrav\u00e9s do NAT; se esse n\u00e3o for seu caso, configure uma m\u00e1quina cliente de testes no espa\u00e7o de endere\u00e7amento da rede privada rec\u00e9m criada e conecte o cliente ao servidor NAT. Edite o arquivo sysctl.conf ( /etc/sysctl.conf ) para ativar o encaminhamento de pacotes IP (IP forwarding ), remova o coment\u00e1rio da seguinte linha: net.inet.ip.forwarding=1 Ative a configura\u00e7\u00e3o. $ sysctl net.inet.ip.forwarding=1","title":"3. Configura\u00e7\u00e3o do NAT"},{"location":"freebsd/experimento_06/#4-configuracao-do-packet-filter-pf","text":"Primeiramente, pode ser necess\u00e1rio ativar o PF. Para isso, adicione no arquivo rc.conf ( /etc/rc.conf ): pf_enable=yes pf_rules=\"/etc/pf.conf\" gateway_enable=\"YES\" E execute o comando: $ sysrc pf_enable=yes Copie o arquivo pf.conf ( /usr/shared/examples/pf/pf.conf ) para /etc/ : $ cp /usr/shared/examples/pf/pf.conf /etc/pf.conf Caso deseje ativar o suporte de log do PF, adicione a seguinte linha no arquivo rc.conf ( /etc/rc.conf ): pflog_enable=yes E execute o comando: $ sysrc pflog_enable=yes Ap\u00f3s todas essas configura\u00e7\u00f5es inicie o pf e o pflog: $ service pf start $ service pflog start Identifique as interfaces configuradas no passo acima e realize os ajustes adequados. Doravante, chamaremos ethSaida a interface de sa\u00edda e ethPriv a interface interna (com ou sem DHCP). Limpe todas as regras configuradas no PF: $ pfctl -F all -f /etc/pf.conf Configure o arquivo de configura\u00e7\u00e3o do pf ( /etc/pf.conf ) para executar o NAT na interface de sa\u00edda para quaisquer pacotes provenientes da rede interna, substituindo o endere\u00e7o privado pelo endere\u00e7o externo: pass from ethPriv:network to any port $ports keep state Para ativar as configura\u00e7\u00f5es: $ pfctl -e H\u00e1 v\u00e1rias maneiras de configurar o arquivo pf.conf para funcionar como NAT, mas a maneira descrita \u00e9 a que funciona melhor para os mais variados tipos de endere\u00e7amento de rede, seja ele manual ou din\u00e2mico. Para visualizar as tradu\u00e7\u00f5es NAT ativas, o utilit\u00e1rio pfctl \u00e9 usado com o par\u00e2metro -s nat . Esta op\u00e7\u00e3o listar\u00e1 todas as sess\u00f5es NAT atuais: $ pfctl -s nat Explique a sa\u00edda do comando anterior. Teste as configura\u00e7\u00f5es de rede usando as ferramentas discutidas em pr\u00e1ticas anteriores. Recomenda-se as seguintes etapas de testes: teste de conectividade entre equipamentos da rede privada e o gateway com NAT, teste de conectividade entre equipamentos da rede privada e equipamentos situados na rede de sa\u00edda do gateway e teste de conectividade entre equipamentos da rede privada e equipamentos na rede externa.","title":"4. Configura\u00e7\u00e3o do Packet Filter (PF)"},{"location":"freebsd/experimento_06/#questoes-para-estudo","text":"Alguns passos foram omitidos nesse roteiro. A partir da metodologia de testes, identifique o problema e apresente a solu\u00e7\u00e3o para que a rede privada rec\u00e9m criada seja capaz de conectar-se \u00e0 rede externa. Consulte a documenta\u00e7\u00e3o das ferramentas usadas na implementa\u00e7\u00e3o do NAT e indique o resultado de cada um dos comandos necess\u00e1rios \u00e0 implementa\u00e7\u00e3o do NAT. Como voc\u00ea sugere verificar se est\u00e1 acessando a rede externa atrav\u00e9s de um NAT? Reinicie o seu equipamento usado para a implementa\u00e7\u00e3o de um NAT usando o sistema operacional FreeBSD e verifique se as suas configura\u00e7\u00f5es ainda funcionam. Descreva que tipo de procedimentos foram realizados para tornar as configura\u00e7\u00f5es de NAT persistentes.","title":"Quest\u00f5es para Estudo"},{"location":"freebsd/experimento_06/#referencias-bibliograficas","text":"HOLLAND, N; KNIGHT, J. PF - Network Address Translation. OpenBSD, 2004. Dispon\u00edvel em: https://www.openbsd.org/faq/pf/nat.html. Acesso em: 15 dez. de 2022. LEE, Chern. Network Address Translation. Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://docs.freebsd.org/doc/6.1-RELEASE/usr/share/doc/handbook/network-natd.html. Acesso em: 15 dez. de 2022. Comptia.org. What Is NAT?. Data desconhecida. CompTIA. Dispon\u00edvel em: https://www.comptia.org/content/guides/what-is-network-address-translation. Acesso em: 15 dez. de 2022. Scyphus Solutions Co. FreeBSD as NAT gateway. Scyphus Solutions Co, 2003. Dispon\u00edvel em: http://draft.scyphus.co.jp/freebsd/nat.html. Acesso em: 15 dez. de 2022. ELATOV, Karim. FreeBSD Firewall and NAT with PF. Github, 2011. Dispon\u00edvel em: https://elatov.github.io/2011/05/freebsd-firewall-and-nat-with-pf/. Acesso em: 15 dez. de 2022. NOOR, Justin. How To Configure Packet Filter (PF) on FreeBSD 12.1. Digital Ocean, 2020. Dispon\u00edvel em: https://www.digitalocean.com/community/tutorials/how-to-configure-packet-filter-pf-on-freebsd-12-1. Acesso em: 15 dez. de 2022. WETHERALL, D. J; TANENBAUM, A. S. Computer networks. Pearson Education, 2013. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Refer\u00eancias Bibliogr\u00e1ficas"},{"location":"freebsd/experimento_07/","text":"Camada de Enlace (ARP) Pr\u00e1tica de Laborat\u00f3rio 07 Camada de Enlace (ARP) Introdu\u00e7\u00e3o Para o correto funcionamento de redes, alguns servi\u00e7os de n\u00edvel de camada de enlace s\u00e3o primordiais para a adequada coopera\u00e7\u00e3o da pilha de protocolos sobre a qual reside a Internet. Objetivos Exercitar conceitos referentes \u00e0 camada de enlace. Entender o papel do protocolo ARP e como acontecem suas intera\u00e7\u00f5es. Teoria abordada no experimento Objetivo e funcionamento do esquema ARP. Material Necess\u00e1rio Interfaces de rede (NIC's) M\u00e1quinas com sistema FreeBSD Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Desligar o servidor DHCP para as m\u00e1quinas de aula Roteiro 1. Montagem de rede interconectada para o experimento Monte uma topologia com 3 ou mais m\u00e1quinas. Escolha uma para ser o gateway da topologia e lhe d\u00ea dois endere\u00e7os de IP: um IP fixo e v\u00e1lido para a rede de sa\u00edda e um IP restrito, inv\u00e1lido. Al\u00e9m dessa topologia, haver\u00e1 equipamentos que prover\u00e3o os servi\u00e7os necess\u00e1rios \u00e0s pr\u00e1ticas da aula: HTTP. H1 (192.168.1.3), H2 (192.168.1.2) e G/eth0 (192.168.1.1). S1 (172.25.0.2) e G/eth1 (172.25.0.1). 2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 . 3. Verifica\u00e7\u00e3o das entradas presentes na tabela ARP Em uma janela distinta, dispare a ferramenta de captura de pacotes: $ tcpdump -e Execute o seguinte comando: $ arp -a Proceda apenas se n\u00e3o constarem entradas na tabela ARP ou se constar apena a entrada do endere\u00e7o MAC do gateway da rede de testes. Em seguida, encontre algum equipamento da rede em que esteja sendo provido um servi\u00e7o, como um servidor HTTP (porta 80), por exemplo. Anote o IP do host e execute o seguinte comando: $ telnet ip_do_host porta_do_servico Repita o comando arp: $ arp -a Tente, nessa etapa, a conex\u00e3o a um IP n\u00e3o existente na rede. $ telnet ip_do_host_inexistente porta_do_servico Em seguida, repita o comando arp. Quest\u00f5es para Estudo Qual foi a diferen\u00e7a de sa\u00eddas observadas entre a primeira e as duas \u00faltimas chamadas ao comando ARP? Suponha que uma aplica\u00e7\u00e3o utilize um esquema de controle de acesso baseado no valor do MAC address das placas de rede. Haveria algum problema de seguran\u00e7a nessa abordagem? Justifique. \u00c9 poss\u00edvel que o protocolo ARP interfira no desempenho de uma rede? Elabore sua resposta, apresentando exemplos/justificativas. H\u00e1, na literatura, ataques que envolvem o protocolo ARP? Se a resposta for afirmativa, cite exemplos. Refer\u00eancias Bibliogr\u00e1ficas Geeksforgeeks.org. How Address Resolution Protocol (ARP) works?. GeeksForGeeks, 2022. Dispon\u00edvel em: https://www.geeksforgeeks.org/how-address-resolution-protocol-arp-works/. Acesso em: 16 dez. de 2022. FreeBSD.org. arp. Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?query=arp. Acesso em: 16 dez. 2022. WETHERALL, D. J; TANENBAUM, A. S. Computer networks. Pearson Education, 2013. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Camada de Enlace (ARP)"},{"location":"freebsd/experimento_07/#camada-de-enlace-arp","text":"Pr\u00e1tica de Laborat\u00f3rio 07 Camada de Enlace (ARP)","title":"Camada de Enlace (ARP)"},{"location":"freebsd/experimento_07/#introducao","text":"Para o correto funcionamento de redes, alguns servi\u00e7os de n\u00edvel de camada de enlace s\u00e3o primordiais para a adequada coopera\u00e7\u00e3o da pilha de protocolos sobre a qual reside a Internet.","title":"Introdu\u00e7\u00e3o"},{"location":"freebsd/experimento_07/#objetivos","text":"Exercitar conceitos referentes \u00e0 camada de enlace. Entender o papel do protocolo ARP e como acontecem suas intera\u00e7\u00f5es.","title":"Objetivos"},{"location":"freebsd/experimento_07/#teoria-abordada-no-experimento","text":"Objetivo e funcionamento do esquema ARP.","title":"Teoria abordada no experimento"},{"location":"freebsd/experimento_07/#material-necessario","text":"Interfaces de rede (NIC's) M\u00e1quinas com sistema FreeBSD Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Desligar o servidor DHCP para as m\u00e1quinas de aula","title":"Material Necess\u00e1rio"},{"location":"freebsd/experimento_07/#roteiro","text":"","title":"Roteiro"},{"location":"freebsd/experimento_07/#1-montagem-de-rede-interconectada-para-o-experimento","text":"Monte uma topologia com 3 ou mais m\u00e1quinas. Escolha uma para ser o gateway da topologia e lhe d\u00ea dois endere\u00e7os de IP: um IP fixo e v\u00e1lido para a rede de sa\u00edda e um IP restrito, inv\u00e1lido. Al\u00e9m dessa topologia, haver\u00e1 equipamentos que prover\u00e3o os servi\u00e7os necess\u00e1rios \u00e0s pr\u00e1ticas da aula: HTTP. H1 (192.168.1.3), H2 (192.168.1.2) e G/eth0 (192.168.1.1). S1 (172.25.0.2) e G/eth1 (172.25.0.1).","title":"1. Montagem de rede interconectada para o experimento"},{"location":"freebsd/experimento_07/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","text":"Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 .","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es"},{"location":"freebsd/experimento_07/#3-verificacao-das-entradas-presentes-na-tabela-arp","text":"Em uma janela distinta, dispare a ferramenta de captura de pacotes: $ tcpdump -e Execute o seguinte comando: $ arp -a Proceda apenas se n\u00e3o constarem entradas na tabela ARP ou se constar apena a entrada do endere\u00e7o MAC do gateway da rede de testes. Em seguida, encontre algum equipamento da rede em que esteja sendo provido um servi\u00e7o, como um servidor HTTP (porta 80), por exemplo. Anote o IP do host e execute o seguinte comando: $ telnet ip_do_host porta_do_servico Repita o comando arp: $ arp -a Tente, nessa etapa, a conex\u00e3o a um IP n\u00e3o existente na rede. $ telnet ip_do_host_inexistente porta_do_servico Em seguida, repita o comando arp.","title":"3. Verifica\u00e7\u00e3o das entradas presentes na tabela ARP"},{"location":"freebsd/experimento_07/#questoes-para-estudo","text":"Qual foi a diferen\u00e7a de sa\u00eddas observadas entre a primeira e as duas \u00faltimas chamadas ao comando ARP? Suponha que uma aplica\u00e7\u00e3o utilize um esquema de controle de acesso baseado no valor do MAC address das placas de rede. Haveria algum problema de seguran\u00e7a nessa abordagem? Justifique. \u00c9 poss\u00edvel que o protocolo ARP interfira no desempenho de uma rede? Elabore sua resposta, apresentando exemplos/justificativas. H\u00e1, na literatura, ataques que envolvem o protocolo ARP? Se a resposta for afirmativa, cite exemplos.","title":"Quest\u00f5es para Estudo"},{"location":"freebsd/experimento_07/#referencias-bibliograficas","text":"Geeksforgeeks.org. How Address Resolution Protocol (ARP) works?. GeeksForGeeks, 2022. Dispon\u00edvel em: https://www.geeksforgeeks.org/how-address-resolution-protocol-arp-works/. Acesso em: 16 dez. de 2022. FreeBSD.org. arp. Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?query=arp. Acesso em: 16 dez. 2022. WETHERALL, D. J; TANENBAUM, A. S. Computer networks. Pearson Education, 2013. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Refer\u00eancias Bibliogr\u00e1ficas"},{"location":"freebsd/experimento_08/","text":"Firewall Pr\u00e1tica de Laborat\u00f3rio 08 Firewall Introdu\u00e7\u00e3o Firewall \u00e9 uma solu\u00e7\u00e3o de seguran\u00e7a baseada em hardware ou software (mais comum) que, a partir de um conjunto de regras ou instru\u00e7\u00f5es, analisa o tr\u00e1fego de rede para determinar quais opera\u00e7\u00f5es de transmiss\u00e3o ou recep\u00e7\u00e3o de dados podem ser executadas. \"Parede de fogo\", a tradu\u00e7\u00e3o literal do nome, j\u00e1 deixa claro que o firewall se enquadra em uma esp\u00e9cie de barreira de defesa. A sua miss\u00e3o, por assim dizer, consiste basicamente em bloquear tr\u00e1fego de dados indesejado e liberar acessos bem-vindos. IPFW \u00e9 um firewall de pacotes do sistema operacional FreeBSD. Ele fornece controles detalhados para os pacotes IP que passam pelo firewall . Com ele, \u00e9 poss\u00edvel criar regras para permitir ou negar pacotes com base em crit\u00e9rios como origem, destino, porta, protocolo, tempo de execu\u00e7\u00e3o, prioridade e muito mais. \u00c9 poss\u00edvel criar regras para permitir ou negar o acesso a servi\u00e7os espec\u00edficos ou a segmentos da rede. IPFW tamb\u00e9m suporta o NAT (Network Address Translation) para permitir o uso de endere\u00e7os IP privados em uma rede p\u00fablica. Objetivos Entender como funciona a implementa\u00e7\u00e3o de firewalls usando o FreeBSD. Teoria abordada no experimento Objetivo e funcionamento de firewalls . Material Necess\u00e1rio Interfaces de rede (NIC's) M\u00e1quinas com sistema FreeBSD Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Roteiro 1. Montagem de rede interconectada para o experimento Monte uma topologia com 3 ou mais m\u00e1quinas. Escolha uma para ser o gateway da topologia e lhe d\u00ea dois endere\u00e7os de IP: um IP fixo e v\u00e1lido para a rede de sa\u00edda e um IP restrito, inv\u00e1lido. Os equipamentos H1 e S1 dever\u00e3o prover o servi\u00e7o SSH na porta 22. DICA: Use as configura\u00e7\u00f5es e topologia utilizadas na Pr\u00e1tica de Laborat\u00f3rio 06 . 2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 . 3. Habilitar o IPFW Primeiramente, \u00e9 necess\u00e1rio verificar se o IPFW j\u00e1 se encontra habilitado. Para isso, execute o seguinte comando: $ ipfw show ATEN\u00c7\u00c3O: Caso a resposta seja Protocol not available , significa que n\u00e3o est\u00e1 habilitado. Existem duas formas de habilitar o IPFW, via m\u00f3dulo ou via kernel. 3.1 Habilitar IPFW via m\u00f3dulo Para habilitar o IPFW via m\u00f3dulo: $ kldload ipfw ATEN\u00c7\u00c3O: Ao habilitar o m\u00f3dulo, o padr\u00e3o ser\u00e1 uma regra de pol\u00edtica fechada: ou seja, a primeira regra \u00e9 \"negar tudo\". Para transformar essa pol\u00edtica em aberta, ou seja, que a primeira regra seja \"permitir tudo\", deve-se alterar a sysctl com o seguinte comando: $ sysctl net.inet.ip.fw.default_to_accept=1 3.2 Habilitar IPFW via kernel Para habilitar o IPFW via kernel, configure o arquivo rc.conf ( /etc/rc.conf ), adicionando a seguinte linha ao arquivo: firewall_enable=\"YES\" Depois, basta executar o comando: $ service ipfw start 4. Configura\u00e7\u00e3o de regras de filtragem: Etapa 1 Em R, montar as seguintes regras: H1 pode apenas fazer ping em S1. Apenas pacotes ICMP ping poder\u00e3o se encaminhados de H1 para S1. S1 n\u00e3o pode fazer ping em H1. Todos os pacotes de S1 dever\u00e3o alcan\u00e7ar H1, exceto os de ICMP ping request. 5. Testes: Valida\u00e7\u00e3o das interven\u00e7\u00f5es da Etapa 1 Verificar se H1 faz ping em S1 e se S1 faz ping em H1 com as regras da quest\u00e3o anterior. Verificar se \u00e9 poss\u00edvel abrir uma conex\u00e3o SSH de H1 para S1. Verificar se \u00e9 poss\u00edvel abrir uma conex\u00e3o SSH de S1 para H1. Executar Nmap da seguinte maneira: varrer as portas de H1 usando S1 como origem. varrer as portas de S1 usando H1 como origem. 6. Configura\u00e7\u00e3o de regras de filtragem: Etapa 2 Crie regras em R de modo que H1 possa fazer SSH em S1, por\u00e9m atrav\u00e9s de um esquema de DNAT, onde uma porta de R ir\u00e1 redirecionar o tr\u00e1fego para a porta que prov\u00ea SSH em S1. Crie regras em R de modo que S1 n\u00e3o seja capaz de encaminhar pacotes UDP para o segmento de rede onde reside H1. ATEN\u00c7\u00c3O: \u00c9 importante mencionar que as regras de firewall s\u00e3o baseadas na ordem de cria\u00e7\u00e3o, ent\u00e3o a ordem destas regras \u00e9 importante para garantir que elas estejam funcionando corretamente. 7. Testes: Valida\u00e7\u00e3o das interven\u00e7\u00f5es da Etapa 2 Para testar as regras de filtragem UDP da Etapa 2, use o envio de consultas DNS para provocar a transmiss\u00e3o de pacotes DNS. Experimente realizar a conex\u00e3o SSH entre H1 e S1 usando a regra de DNAT criada. ATEN\u00c7\u00c3O: \u00c9 poss\u00edvel verificar o log do firewall usando o comando ipfw show log ou ipfw show log verbose para obter informa\u00e7\u00f5es adicionais, como endere\u00e7os IP e portas. Para verificar o log do sistema, voc\u00ea pode usar o comando tail -f /var/log/messages ou syslog que ir\u00e1 exibir as mensagens de log geradas pelo sistema operacional. Quest\u00f5es para Estudo O servi\u00e7o ssh \u00e9 sobre o TCP ou UDP? Conferir com o tcpdump, simulando a situa\u00e7\u00e3o onde S1 faz ssh em H1. Em rela\u00e7\u00e3o aos testes da Etapa 1 do roteiro, como \u00e9 poss\u00edvel ao Nmap indicar a eventual presen\u00e7a de portas filtradas atrav\u00e9s do roteador R que atua como Firewall ? Refer\u00eancias Bibliogr\u00e1ficas FreeBSD.org. IPFW. Data desconhecida. FreeBSD Handbook. Dispon\u00edvel em: https://docs.freebsd.org/en/books/handbook/firewalls/#firewalls-ipfw. Acesso em: 17 dez. 2022. FreeBSD.org. IPFW. Data desconhecida. FreeBSD Handbook. Dispon\u00edvel em: https://docs.freebsd.org/doc/6.0-RELEASE/usr/share/doc/handbook/firewalls-ipfw.html. Acesso em: 17 dez. 2022. EDGAR. FreeBSD: Como configurar um firewall usando IPFW. Sempre Update, 2018. Dispon\u00edvel em: https://sempreupdate.com.br/freebsd-como-configurar-um-firewall-usando-ipfw/. Acesso em: 17 dez. de 2022. Wikipedia.org. Firewall. Data desconhecida. Wikipedia. Dispon\u00edvel em: https://pt.wikipedia.org/wiki/Firewall. Acesso em: 17 dez. de 2022. DRUMOND, Tiago. Palestra Firewall descomplicado com FreeBSD - IPFW. YouTube, 12 de nov. de 2015. Dispon\u00edvel em: https://www.youtube.com/watch?v=_tIP4E22O_0. Acesso em: 17 dez. de 2022. WETHERALL, D. J; TANENBAUM, A. S. Computer networks. Pearson Education, 2013. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Firewall"},{"location":"freebsd/experimento_08/#firewall","text":"Pr\u00e1tica de Laborat\u00f3rio 08 Firewall","title":"Firewall"},{"location":"freebsd/experimento_08/#introducao","text":"Firewall \u00e9 uma solu\u00e7\u00e3o de seguran\u00e7a baseada em hardware ou software (mais comum) que, a partir de um conjunto de regras ou instru\u00e7\u00f5es, analisa o tr\u00e1fego de rede para determinar quais opera\u00e7\u00f5es de transmiss\u00e3o ou recep\u00e7\u00e3o de dados podem ser executadas. \"Parede de fogo\", a tradu\u00e7\u00e3o literal do nome, j\u00e1 deixa claro que o firewall se enquadra em uma esp\u00e9cie de barreira de defesa. A sua miss\u00e3o, por assim dizer, consiste basicamente em bloquear tr\u00e1fego de dados indesejado e liberar acessos bem-vindos. IPFW \u00e9 um firewall de pacotes do sistema operacional FreeBSD. Ele fornece controles detalhados para os pacotes IP que passam pelo firewall . Com ele, \u00e9 poss\u00edvel criar regras para permitir ou negar pacotes com base em crit\u00e9rios como origem, destino, porta, protocolo, tempo de execu\u00e7\u00e3o, prioridade e muito mais. \u00c9 poss\u00edvel criar regras para permitir ou negar o acesso a servi\u00e7os espec\u00edficos ou a segmentos da rede. IPFW tamb\u00e9m suporta o NAT (Network Address Translation) para permitir o uso de endere\u00e7os IP privados em uma rede p\u00fablica.","title":"Introdu\u00e7\u00e3o"},{"location":"freebsd/experimento_08/#objetivos","text":"Entender como funciona a implementa\u00e7\u00e3o de firewalls usando o FreeBSD.","title":"Objetivos"},{"location":"freebsd/experimento_08/#teoria-abordada-no-experimento","text":"Objetivo e funcionamento de firewalls .","title":"Teoria abordada no experimento"},{"location":"freebsd/experimento_08/#material-necessario","text":"Interfaces de rede (NIC's) M\u00e1quinas com sistema FreeBSD Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio","title":"Material Necess\u00e1rio"},{"location":"freebsd/experimento_08/#roteiro","text":"","title":"Roteiro"},{"location":"freebsd/experimento_08/#1-montagem-de-rede-interconectada-para-o-experimento","text":"Monte uma topologia com 3 ou mais m\u00e1quinas. Escolha uma para ser o gateway da topologia e lhe d\u00ea dois endere\u00e7os de IP: um IP fixo e v\u00e1lido para a rede de sa\u00edda e um IP restrito, inv\u00e1lido. Os equipamentos H1 e S1 dever\u00e3o prover o servi\u00e7o SSH na porta 22. DICA: Use as configura\u00e7\u00f5es e topologia utilizadas na Pr\u00e1tica de Laborat\u00f3rio 06 .","title":"1. Montagem de rede interconectada para o experimento"},{"location":"freebsd/experimento_08/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","text":"Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 .","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es"},{"location":"freebsd/experimento_08/#3-habilitar-o-ipfw","text":"Primeiramente, \u00e9 necess\u00e1rio verificar se o IPFW j\u00e1 se encontra habilitado. Para isso, execute o seguinte comando: $ ipfw show ATEN\u00c7\u00c3O: Caso a resposta seja Protocol not available , significa que n\u00e3o est\u00e1 habilitado. Existem duas formas de habilitar o IPFW, via m\u00f3dulo ou via kernel.","title":"3. Habilitar o IPFW"},{"location":"freebsd/experimento_08/#31-habilitar-ipfw-via-modulo","text":"Para habilitar o IPFW via m\u00f3dulo: $ kldload ipfw ATEN\u00c7\u00c3O: Ao habilitar o m\u00f3dulo, o padr\u00e3o ser\u00e1 uma regra de pol\u00edtica fechada: ou seja, a primeira regra \u00e9 \"negar tudo\". Para transformar essa pol\u00edtica em aberta, ou seja, que a primeira regra seja \"permitir tudo\", deve-se alterar a sysctl com o seguinte comando: $ sysctl net.inet.ip.fw.default_to_accept=1","title":"3.1 Habilitar IPFW via m\u00f3dulo"},{"location":"freebsd/experimento_08/#32-habilitar-ipfw-via-kernel","text":"Para habilitar o IPFW via kernel, configure o arquivo rc.conf ( /etc/rc.conf ), adicionando a seguinte linha ao arquivo: firewall_enable=\"YES\" Depois, basta executar o comando: $ service ipfw start","title":"3.2 Habilitar IPFW via kernel"},{"location":"freebsd/experimento_08/#4-configuracao-de-regras-de-filtragem-etapa-1","text":"Em R, montar as seguintes regras: H1 pode apenas fazer ping em S1. Apenas pacotes ICMP ping poder\u00e3o se encaminhados de H1 para S1. S1 n\u00e3o pode fazer ping em H1. Todos os pacotes de S1 dever\u00e3o alcan\u00e7ar H1, exceto os de ICMP ping request.","title":"4. Configura\u00e7\u00e3o de regras de filtragem: Etapa 1"},{"location":"freebsd/experimento_08/#5-testes-validacao-das-intervencoes-da-etapa-1","text":"Verificar se H1 faz ping em S1 e se S1 faz ping em H1 com as regras da quest\u00e3o anterior. Verificar se \u00e9 poss\u00edvel abrir uma conex\u00e3o SSH de H1 para S1. Verificar se \u00e9 poss\u00edvel abrir uma conex\u00e3o SSH de S1 para H1. Executar Nmap da seguinte maneira: varrer as portas de H1 usando S1 como origem. varrer as portas de S1 usando H1 como origem.","title":"5. Testes: Valida\u00e7\u00e3o das interven\u00e7\u00f5es da Etapa 1"},{"location":"freebsd/experimento_08/#6-configuracao-de-regras-de-filtragem-etapa-2","text":"Crie regras em R de modo que H1 possa fazer SSH em S1, por\u00e9m atrav\u00e9s de um esquema de DNAT, onde uma porta de R ir\u00e1 redirecionar o tr\u00e1fego para a porta que prov\u00ea SSH em S1. Crie regras em R de modo que S1 n\u00e3o seja capaz de encaminhar pacotes UDP para o segmento de rede onde reside H1. ATEN\u00c7\u00c3O: \u00c9 importante mencionar que as regras de firewall s\u00e3o baseadas na ordem de cria\u00e7\u00e3o, ent\u00e3o a ordem destas regras \u00e9 importante para garantir que elas estejam funcionando corretamente.","title":"6. Configura\u00e7\u00e3o de regras de filtragem: Etapa 2"},{"location":"freebsd/experimento_08/#7-testes-validacao-das-intervencoes-da-etapa-2","text":"Para testar as regras de filtragem UDP da Etapa 2, use o envio de consultas DNS para provocar a transmiss\u00e3o de pacotes DNS. Experimente realizar a conex\u00e3o SSH entre H1 e S1 usando a regra de DNAT criada. ATEN\u00c7\u00c3O: \u00c9 poss\u00edvel verificar o log do firewall usando o comando ipfw show log ou ipfw show log verbose para obter informa\u00e7\u00f5es adicionais, como endere\u00e7os IP e portas. Para verificar o log do sistema, voc\u00ea pode usar o comando tail -f /var/log/messages ou syslog que ir\u00e1 exibir as mensagens de log geradas pelo sistema operacional.","title":"7. Testes: Valida\u00e7\u00e3o das interven\u00e7\u00f5es da Etapa 2"},{"location":"freebsd/experimento_08/#questoes-para-estudo","text":"O servi\u00e7o ssh \u00e9 sobre o TCP ou UDP? Conferir com o tcpdump, simulando a situa\u00e7\u00e3o onde S1 faz ssh em H1. Em rela\u00e7\u00e3o aos testes da Etapa 1 do roteiro, como \u00e9 poss\u00edvel ao Nmap indicar a eventual presen\u00e7a de portas filtradas atrav\u00e9s do roteador R que atua como Firewall ?","title":"Quest\u00f5es para Estudo"},{"location":"freebsd/experimento_08/#referencias-bibliograficas","text":"FreeBSD.org. IPFW. Data desconhecida. FreeBSD Handbook. Dispon\u00edvel em: https://docs.freebsd.org/en/books/handbook/firewalls/#firewalls-ipfw. Acesso em: 17 dez. 2022. FreeBSD.org. IPFW. Data desconhecida. FreeBSD Handbook. Dispon\u00edvel em: https://docs.freebsd.org/doc/6.0-RELEASE/usr/share/doc/handbook/firewalls-ipfw.html. Acesso em: 17 dez. 2022. EDGAR. FreeBSD: Como configurar um firewall usando IPFW. Sempre Update, 2018. Dispon\u00edvel em: https://sempreupdate.com.br/freebsd-como-configurar-um-firewall-usando-ipfw/. Acesso em: 17 dez. de 2022. Wikipedia.org. Firewall. Data desconhecida. Wikipedia. Dispon\u00edvel em: https://pt.wikipedia.org/wiki/Firewall. Acesso em: 17 dez. de 2022. DRUMOND, Tiago. Palestra Firewall descomplicado com FreeBSD - IPFW. YouTube, 12 de nov. de 2015. Dispon\u00edvel em: https://www.youtube.com/watch?v=_tIP4E22O_0. Acesso em: 17 dez. de 2022. WETHERALL, D. J; TANENBAUM, A. S. Computer networks. Pearson Education, 2013. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Refer\u00eancias Bibliogr\u00e1ficas"},{"location":"freebsd/experimento_09/","text":"Camada de Aplica\u00e7\u00e3o ( Proxy ) Pr\u00e1tica de Laborat\u00f3rio 09 Camada de Aplica\u00e7\u00e3o ( Proxy ) Introdu\u00e7\u00e3o Em redes de computadores, um proxy \u00e9 um servidor (um sistema de computador ou uma aplica\u00e7\u00e3o) que age como um intermedi\u00e1rio para requisi\u00e7\u00f5es de clientes solicitando recursos de outros servidores. Um cliente conecta-se ao servidor proxy , solicitando algum servi\u00e7o, como um arquivo, conex\u00e3o, p\u00e1gina web ou outros recursos dispon\u00edveis de um servidor diferente e o proxy avalia a solicita\u00e7\u00e3o como um meio de simplificar e controlar sua complexidade. Os proxies foram inventados para adicionar estrutura e encapsulamento a sistemas distribu\u00eddos. Hoje, a maioria dos proxies \u00e9 proxy web , facilitando o acesso ao conte\u00fado na World Wide Web e fornecendo anonimato. Objetivos Permitir que os alunos tenham contato com regras de Proxy em m\u00e1quinas FreeBSD. Teoria abordada no experimento Objetivo e funcionamento de um proxy de aplica\u00e7\u00e3o. Material Necess\u00e1rio Interfaces de rede (NIC's) M\u00e1quinas com sistema FreeBSD Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico, pacote Proxy server ( Squid ) Acesso \u00e0 Internet \u2013 necess\u00e1rio Roteiro 1. Montagem de rede interconectada para o experimento H1 (192.168.1.3), H2 (192.168.1.2) e R/eth0 (192.168.1.1). 2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 . 3. Configura\u00e7\u00e3o dos equipamentos Em R, instalar o SQUID ( proxy server ). $ pkg install squid Ap\u00f3s a instala\u00e7\u00e3o, \u00e9 poss\u00edvel verificar o arquivo de configura\u00e7\u00e3o do SQUID: $ squid -f /usr/local/etc/squid/squid.conf -k parse Adicione o servi\u00e7o SQUID a configura\u00e7\u00e3o rc.conf ( /etc/rc.conf ): squid_enable=yes Inicie o servi\u00e7o SQUID: $ service squid start ATEN\u00c7\u00c3O: \u00c9 poss\u00edvel verificar o log do SQUID usando o comando tail -f /var/log/squid/access.log . Etapa 1 Adicionar as seguintes funcionalidades ao SQUID: controle de acesso web por m\u00e1quina (IP). Edite o arquivo squid.conf ( /usr/local/etc/squid/squid.conf ) para adicionar uma regra de acesso e adicione a regra criada ao conjunto de regras de acesso HTTP seguido pelo tipo de acesso (allow/deny): # acl nome_da_regra src IP/mascara acl meu_ip src 192.168.1.3 # http_access allow/deny nome_da_regra http_access allow meu_ip black list (BL) para h1 e h2. Edite o arquivo squid.conf ( /usr/local/etc/squid/squid.conf ) para adicionar regras de blacklist para os endere\u00e7os IP de H1 e H2 e adicione as regras criadas ao conjunto de regras de acesso HTTP seguido pelo tipo de acesso (deny): # acl nome_da_regra_bl_h1 src IP acl blacklist_h1 src 192.168.1.3 # acl nome_da_regra_bl_h2 src IP acl blacklist_h2 src 192.168.1.2 # http_access allow nome_da_regra_bl_h1 http_access deny blacklist_h1 # http_access allow nome_da_regra_bl_h2 http_access deny blacklist_h2 White list (WL) para h1 (e/ou h2). Edite o arquivo squid.conf ( /usr/local/etc/squid/squid.conf ) para adicionar regras de whitelist para os endere\u00e7os IP de H1 e adicione as regras criadas ao conjunto de regras de acesso HTTP seguido pelo tipo de acesso (allow): # acl nome_da_regra_wl_h1 src IP acl whitelist_h1 src 192.168.1.3 # http_access allow nome_da_regra_wl_h1 http_access allow whitelist_h1 Salve e reinicie o SQUID para que as configura\u00e7\u00f5es tenham efeito. $ service squid restart Verificar e descrever qual o n\u00edvel de preval\u00eancia entre wl e bl. ATEN\u00c7\u00c3O: As regras de acesso s\u00e3o aplicadas na ordem em que s\u00e3o definidas, por isso, \u00e9 importante posicionar as regras de blacklist depois de qualquer outra regra de acesso, para garantir que essas regras sejam aplicadas corretamente. Ajustar h1 e h2 para que percebam a presen\u00e7a do proxy para o acesso Internet (configura\u00e7\u00e3o manual). Obs. : R possui acesso Internet, mas n\u00e3o possui NAT. Em h1 e h2 adicionar seguinte configura\u00e7\u00e3o (tamb\u00e9m pode ser feito utilizando a configura\u00e7\u00e3o do browser): $ sysctl net.inet.http.proxy=192.168.1.1:3128 Em R, edite o arquivo sysctl.conf ( /etc/sysctl.conf ), para ativar o encaminhamento de pacotes IP (IP forwarding ), remova o coment\u00e1rio da seguinte linha: net.inet.ip.forwarding=1 Ative a configura\u00e7\u00e3o. $ sysctl net.inet.ip.forwarding=1 Configure e reinicie o firewall para permitir as conex\u00f5es de H1 e H2: $ ipfw add 120 allow all from 192.168.1.2 to any $ ipfw add 130 allow all from 192.168.1.3 to any $ service ipfw restart Etapa 2 Montar a configura\u00e7\u00e3o de rede abaixo e seguir os requisitos descritos a seguir. R/eth1 (172.25.0.1) e S1 (172.25.0.2). H1 (192.168.1.3), H2 (192.168.1.2) e R/eth0 (192.168.1.1). Transferir a fun\u00e7\u00e3o de proxy para S1, incluindo as restri\u00e7\u00f5es definidas anteriormente. Instale o SQUID no S1 e configure-o para atuar como um proxy para as conex\u00f5es de H1 e H2. Isso incluiria configurar as regras de controle de acesso por IP, black list (BL) e white list (WL) para H1 e H2. Configure R para encaminhar as conex\u00f5es de H1 e H2 para S1: $ ipfw add 140 forward ip from 192.168.1.2 to any via 172.25.0.2 $ ipfw add 150 forward ip from 192.168.1.3 to any via 172.25.0.2 Montar um SNAT em R para que S1 possa acessar a Internet. Isso pode ser feito usando o recurso de NAT do firewall de R, adicionando as seguintes regras: $ # <interface> \u00e9 o nome da interface de rede que est\u00e1 conectada \u00e0 Internet $ ipfw add 160 nat 1 ip from 172.25.0.2 to any out via <interface> Ajustar a tabela de rotas para que h1 e h2 consigam pingar em S1. $ route add -net 172.25.0.0/24 172.25.0.2 Montar regras em R (e onde for preciso) para garantir o proxy transparente (ou seja, h1 e h2 n\u00e3o sabem da presen\u00e7a de um proxy). Obs. : Verificar se \u00e9 poss\u00edvel resolver o desvio para o proxy usando um chain. $ ipfw add redirect_port tcp from 192.168.1.2 80 to 172.25.0.2 8080 $ ipfw add redirect_port tcp from 192.168.1.3 80 to 172.25.0.2 8080 Quest\u00f5es para Estudo Como o protocolo HTTP funciona e como ele \u00e9 usado pelo Squid para implementar o proxy? Como o uso de chains no firewall IPFW pode ser usado para implementar pol\u00edticas de firewall mais avan\u00e7adas e flex\u00edveis? Quais s\u00e3o as principais diferen\u00e7as entre o proxy e o firewall e como eles podem ser usados \u200b\u200bjuntos para melhorar a seguran\u00e7a da rede? Como o Squid possui configura\u00e7\u00e3o para melhorar a seguran\u00e7a do proxy? Explique. Refer\u00eancias Bibliogr\u00e1ficas ROG\u00c9RIO. FreeBSD com proxy Squid - Revista Infra Magazine 4. Devmedia, 2012. Dispon\u00edvel em: https://www.devmedia.com.br/freebsd-com-proxy-squid-revista-infra-magazine-4/23440. Acesso em: 18 dez. 2022. Linuxhelp.com. How to install squid proxy server on freeBSD. Data desconhecida. Linux Help. Dispon\u00edvel em: https://www.linuxhelp.com/how-to-install-squid-proxy-server-on-freebsd. Acesso em: 18 dez. 2022. FreeBSD.org. squid. Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?query=squid. Acesso em: 18 dez. 2022. Wikipedia.org. Proxy. Data desconhecida. Wikipedia. Dispon\u00edvel em: https://pt.wikipedia.org/wiki/Proxy. Acesso em: 18 dez. de 2022. WETHERALL, D. J; TANENBAUM, A. S. Computer networks. Pearson Education, 2013. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Camada de Aplica\u00e7\u00e3o (Proxy)"},{"location":"freebsd/experimento_09/#camada-de-aplicacao-proxy","text":"Pr\u00e1tica de Laborat\u00f3rio 09 Camada de Aplica\u00e7\u00e3o ( Proxy )","title":"Camada de Aplica\u00e7\u00e3o (Proxy)"},{"location":"freebsd/experimento_09/#introducao","text":"Em redes de computadores, um proxy \u00e9 um servidor (um sistema de computador ou uma aplica\u00e7\u00e3o) que age como um intermedi\u00e1rio para requisi\u00e7\u00f5es de clientes solicitando recursos de outros servidores. Um cliente conecta-se ao servidor proxy , solicitando algum servi\u00e7o, como um arquivo, conex\u00e3o, p\u00e1gina web ou outros recursos dispon\u00edveis de um servidor diferente e o proxy avalia a solicita\u00e7\u00e3o como um meio de simplificar e controlar sua complexidade. Os proxies foram inventados para adicionar estrutura e encapsulamento a sistemas distribu\u00eddos. Hoje, a maioria dos proxies \u00e9 proxy web , facilitando o acesso ao conte\u00fado na World Wide Web e fornecendo anonimato.","title":"Introdu\u00e7\u00e3o"},{"location":"freebsd/experimento_09/#objetivos","text":"Permitir que os alunos tenham contato com regras de Proxy em m\u00e1quinas FreeBSD.","title":"Objetivos"},{"location":"freebsd/experimento_09/#teoria-abordada-no-experimento","text":"Objetivo e funcionamento de um proxy de aplica\u00e7\u00e3o.","title":"Teoria abordada no experimento"},{"location":"freebsd/experimento_09/#material-necessario","text":"Interfaces de rede (NIC's) M\u00e1quinas com sistema FreeBSD Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico, pacote Proxy server ( Squid ) Acesso \u00e0 Internet \u2013 necess\u00e1rio","title":"Material Necess\u00e1rio"},{"location":"freebsd/experimento_09/#roteiro","text":"","title":"Roteiro"},{"location":"freebsd/experimento_09/#1-montagem-de-rede-interconectada-para-o-experimento","text":"H1 (192.168.1.3), H2 (192.168.1.2) e R/eth0 (192.168.1.1).","title":"1. Montagem de rede interconectada para o experimento"},{"location":"freebsd/experimento_09/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","text":"Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 .","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es"},{"location":"freebsd/experimento_09/#3-configuracao-dos-equipamentos","text":"Em R, instalar o SQUID ( proxy server ). $ pkg install squid Ap\u00f3s a instala\u00e7\u00e3o, \u00e9 poss\u00edvel verificar o arquivo de configura\u00e7\u00e3o do SQUID: $ squid -f /usr/local/etc/squid/squid.conf -k parse Adicione o servi\u00e7o SQUID a configura\u00e7\u00e3o rc.conf ( /etc/rc.conf ): squid_enable=yes Inicie o servi\u00e7o SQUID: $ service squid start ATEN\u00c7\u00c3O: \u00c9 poss\u00edvel verificar o log do SQUID usando o comando tail -f /var/log/squid/access.log .","title":"3. Configura\u00e7\u00e3o dos equipamentos"},{"location":"freebsd/experimento_09/#etapa-1","text":"Adicionar as seguintes funcionalidades ao SQUID: controle de acesso web por m\u00e1quina (IP). Edite o arquivo squid.conf ( /usr/local/etc/squid/squid.conf ) para adicionar uma regra de acesso e adicione a regra criada ao conjunto de regras de acesso HTTP seguido pelo tipo de acesso (allow/deny): # acl nome_da_regra src IP/mascara acl meu_ip src 192.168.1.3 # http_access allow/deny nome_da_regra http_access allow meu_ip black list (BL) para h1 e h2. Edite o arquivo squid.conf ( /usr/local/etc/squid/squid.conf ) para adicionar regras de blacklist para os endere\u00e7os IP de H1 e H2 e adicione as regras criadas ao conjunto de regras de acesso HTTP seguido pelo tipo de acesso (deny): # acl nome_da_regra_bl_h1 src IP acl blacklist_h1 src 192.168.1.3 # acl nome_da_regra_bl_h2 src IP acl blacklist_h2 src 192.168.1.2 # http_access allow nome_da_regra_bl_h1 http_access deny blacklist_h1 # http_access allow nome_da_regra_bl_h2 http_access deny blacklist_h2 White list (WL) para h1 (e/ou h2). Edite o arquivo squid.conf ( /usr/local/etc/squid/squid.conf ) para adicionar regras de whitelist para os endere\u00e7os IP de H1 e adicione as regras criadas ao conjunto de regras de acesso HTTP seguido pelo tipo de acesso (allow): # acl nome_da_regra_wl_h1 src IP acl whitelist_h1 src 192.168.1.3 # http_access allow nome_da_regra_wl_h1 http_access allow whitelist_h1 Salve e reinicie o SQUID para que as configura\u00e7\u00f5es tenham efeito. $ service squid restart Verificar e descrever qual o n\u00edvel de preval\u00eancia entre wl e bl. ATEN\u00c7\u00c3O: As regras de acesso s\u00e3o aplicadas na ordem em que s\u00e3o definidas, por isso, \u00e9 importante posicionar as regras de blacklist depois de qualquer outra regra de acesso, para garantir que essas regras sejam aplicadas corretamente. Ajustar h1 e h2 para que percebam a presen\u00e7a do proxy para o acesso Internet (configura\u00e7\u00e3o manual). Obs. : R possui acesso Internet, mas n\u00e3o possui NAT. Em h1 e h2 adicionar seguinte configura\u00e7\u00e3o (tamb\u00e9m pode ser feito utilizando a configura\u00e7\u00e3o do browser): $ sysctl net.inet.http.proxy=192.168.1.1:3128 Em R, edite o arquivo sysctl.conf ( /etc/sysctl.conf ), para ativar o encaminhamento de pacotes IP (IP forwarding ), remova o coment\u00e1rio da seguinte linha: net.inet.ip.forwarding=1 Ative a configura\u00e7\u00e3o. $ sysctl net.inet.ip.forwarding=1 Configure e reinicie o firewall para permitir as conex\u00f5es de H1 e H2: $ ipfw add 120 allow all from 192.168.1.2 to any $ ipfw add 130 allow all from 192.168.1.3 to any $ service ipfw restart","title":"Etapa 1"},{"location":"freebsd/experimento_09/#etapa-2","text":"Montar a configura\u00e7\u00e3o de rede abaixo e seguir os requisitos descritos a seguir. R/eth1 (172.25.0.1) e S1 (172.25.0.2). H1 (192.168.1.3), H2 (192.168.1.2) e R/eth0 (192.168.1.1). Transferir a fun\u00e7\u00e3o de proxy para S1, incluindo as restri\u00e7\u00f5es definidas anteriormente. Instale o SQUID no S1 e configure-o para atuar como um proxy para as conex\u00f5es de H1 e H2. Isso incluiria configurar as regras de controle de acesso por IP, black list (BL) e white list (WL) para H1 e H2. Configure R para encaminhar as conex\u00f5es de H1 e H2 para S1: $ ipfw add 140 forward ip from 192.168.1.2 to any via 172.25.0.2 $ ipfw add 150 forward ip from 192.168.1.3 to any via 172.25.0.2 Montar um SNAT em R para que S1 possa acessar a Internet. Isso pode ser feito usando o recurso de NAT do firewall de R, adicionando as seguintes regras: $ # <interface> \u00e9 o nome da interface de rede que est\u00e1 conectada \u00e0 Internet $ ipfw add 160 nat 1 ip from 172.25.0.2 to any out via <interface> Ajustar a tabela de rotas para que h1 e h2 consigam pingar em S1. $ route add -net 172.25.0.0/24 172.25.0.2 Montar regras em R (e onde for preciso) para garantir o proxy transparente (ou seja, h1 e h2 n\u00e3o sabem da presen\u00e7a de um proxy). Obs. : Verificar se \u00e9 poss\u00edvel resolver o desvio para o proxy usando um chain. $ ipfw add redirect_port tcp from 192.168.1.2 80 to 172.25.0.2 8080 $ ipfw add redirect_port tcp from 192.168.1.3 80 to 172.25.0.2 8080","title":"Etapa 2"},{"location":"freebsd/experimento_09/#questoes-para-estudo","text":"Como o protocolo HTTP funciona e como ele \u00e9 usado pelo Squid para implementar o proxy? Como o uso de chains no firewall IPFW pode ser usado para implementar pol\u00edticas de firewall mais avan\u00e7adas e flex\u00edveis? Quais s\u00e3o as principais diferen\u00e7as entre o proxy e o firewall e como eles podem ser usados \u200b\u200bjuntos para melhorar a seguran\u00e7a da rede? Como o Squid possui configura\u00e7\u00e3o para melhorar a seguran\u00e7a do proxy? Explique.","title":"Quest\u00f5es para Estudo"},{"location":"freebsd/experimento_09/#referencias-bibliograficas","text":"ROG\u00c9RIO. FreeBSD com proxy Squid - Revista Infra Magazine 4. Devmedia, 2012. Dispon\u00edvel em: https://www.devmedia.com.br/freebsd-com-proxy-squid-revista-infra-magazine-4/23440. Acesso em: 18 dez. 2022. Linuxhelp.com. How to install squid proxy server on freeBSD. Data desconhecida. Linux Help. Dispon\u00edvel em: https://www.linuxhelp.com/how-to-install-squid-proxy-server-on-freebsd. Acesso em: 18 dez. 2022. FreeBSD.org. squid. Data desconhecida. FreeBSD Manual Pages. Dispon\u00edvel em: https://www.freebsd.org/cgi/man.cgi?query=squid. Acesso em: 18 dez. 2022. Wikipedia.org. Proxy. Data desconhecida. Wikipedia. Dispon\u00edvel em: https://pt.wikipedia.org/wiki/Proxy. Acesso em: 18 dez. de 2022. WETHERALL, D. J; TANENBAUM, A. S. Computer networks. Pearson Education, 2013. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Refer\u00eancias Bibliogr\u00e1ficas"},{"location":"freebsd/experimento_10/","text":"Camada de Aplica\u00e7\u00e3o (DNS) Pr\u00e1tica de Laborat\u00f3rio 10 Camada de Aplica\u00e7\u00e3o (DNS) Introdu\u00e7\u00e3o O Domain Name System (DNS) \u00e9 um importante componente da Internet, respons\u00e1vel por fazer a tradu\u00e7\u00e3o de nomes de dom\u00ednio para endere\u00e7os IP e vice-versa. Isso permite que os usu\u00e1rios acessem sites e servi\u00e7os atrav\u00e9s de nomes de dom\u00ednio, em vez de ter que digitar os endere\u00e7os IP correspondentes. Objetivos Demonstrar o funcionamento do DNS e sua import\u00e2ncia na Internet. Mostrar como configurar um servidor DNS no FreeBSD. Verificar o funcionamento do servidor DNS atrav\u00e9s de consultas utilizando os comandos dig e nslookup . Teoria abordada no experimento Objetivo e funcionamento do protocolo DNS. Material Necess\u00e1rio Interfaces de rede (NIC's) M\u00e1quinas com sistema FreeBSD Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico, pacotes de servidor DNS ( bind9 ) Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Desligar o servidor DNS para as m\u00e1quinas de aula Roteiro 1. Montagem de rede interconectada para o experimento H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4) e R/eth0 (192.168.1.1). 2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 . 3. Instala\u00e7\u00e3o do pacote de servidor DNS Para a execu\u00e7\u00e3o deste experimento \u00e9 essencial a instala\u00e7\u00e3o do pacote bind9 , que n\u00e3o \u00e9 incluso por padr\u00e3o no FreeBSD. Para prosseguir com a instala\u00e7\u00e3o, execute o seguinte comando: $ pkg install bind916 Adicione a seguinte linha no arquivo rc.conf ( /etc/rc.conf ): named_enable=\"YES\" E execute o comando: $ service named start Verifique se o servidor DNS est\u00e1 funcionando corretamente com o seguinte comando: $ nslookup localhost 4. Configura\u00e7\u00e3o do Servidor DNS Edite o arquivo de configura\u00e7\u00e3o do DNS, named.conf ( /usr/local/etc/namedb/named.conf ) e adicione as seguintes linhas para configurar as suas zonas de busca direta e inversa: zone \"exemplo.com\" { type master; file \"/usr/local/etc/namedb/master/exemplo.com.db\"; }; zone \"1.168.192.in-addr.arpa\" { type master; file \"/usr/local/etc/namedb/master/192.168.1.db\"; }; Crie os arquivos de zona de busca direta e inversa. O arquivo de zona de busca direta, exemplo.com.db ( /usr/local/etc/namedb/master/exemplo.com.db ), deve conter informa\u00e7\u00f5es sobre os seus servidores de nomes e endere\u00e7os IP: $TTL 86400 @ IN SOA ns1.exemplo.com. admin.exemplo.com. ( 20201022 ;Serial 3600 ;Refresh 1800 ;Retry 604800 ;Expire 86400 ) ;Minimum TTL ; @ IN NS ns1.exemplo.com. @ IN A 192.168.1.3 ns1 IN A 192.168.1.3 www IN A 192.168.1.3 H1 IN A 192.168.1.2 H2 IN A 192.168.1.4 O arquivo de zona de busca inversa, 192.168.1.db ( /usr/local/etc/namedb/master/192.168.1.db ), deve conter informa\u00e7\u00f5es sobre os seus endere\u00e7os IP e nomes de host: $TTL 86400 @ IN SOA ns1.exemplo.com. admin.exemplo.com. ( 20201022 ;Serial 3600 ;Refresh 1800 ;Retry 604800 ;Expire 86400 ) ;Minimum TTL ; @ IN NS ns1.exemplo.com. 2 IN PTR H1.exemplo.com. 3 IN PTR ns1.exemplo.com. 4 IN PTR H2.exemplo.com. Reinicie o servi\u00e7o DNS usando o seguinte comando: $ service named restart. Fa\u00e7a consultas ao servidor DNS para verificar se est\u00e1 funcionando corretamente: $ nslookup host_da_rede 5. Configura\u00e7\u00e3o do cliente DNS Para que outros hosts da rede usem o servidor DNS que voc\u00ea configurou, \u00e9 necess\u00e1rio especificar o endere\u00e7o IP do servidor DNS como sendo o servidor de nomes padr\u00e3o (ou nameserver ) desses hosts. No FreeBSD, configure o arquivo resolv.conf ( /etc/resolv.conf ) especificando o servidor de nomes padr\u00e3o: nameserver 192.168.1.4 Verifique se o host est\u00e1 usando o servidor DNS configurado, fazendo uma consulta. $ nslookup host_da_rede Quest\u00f5es para Estudo Como voc\u00ea faria para adicionar um registro MX (Mail Exchange) ao seu arquivo de zona de busca direta? Como voc\u00ea faria para configurar uma zona secund\u00e1ria (slave) no seu servidor DNS? Como voc\u00ea faria para monitorar e solucionar problemas comuns de desempenho em um servidor DNS, como consultas de DNS n\u00e3o autorizadas ou ataques de nega\u00e7\u00e3o de servi\u00e7o (DoS)? Como voc\u00ea faria para configurar o seu servidor DNS para fornecer servi\u00e7os de resolu\u00e7\u00e3o de nomes para redes privadas usando NAT? Refer\u00eancias Bibliogr\u00e1ficas LEE, C; RHODES, T; GERZO, D. Domain Name System (DNS). Data desconhecida. FreeBSD Handbook. Dispon\u00edvel em: https://docs.freebsd.org/doc/7.4-RELEASE/usr/share/doc/handbook/network-dns.html. Acesso em: 19 dez. 2022. OLIVEIRA, W. P. Instalando e configurando o Servi\u00e7o DNS na rede com Linux com BIND9 - Parte 1. YouTube, 6 de abr. de 2021. Dispon\u00edvel em: https://www.youtube.com/watch?v=m1ffSGGRDb0. Acesso em: 19 dez. de 2022. OLIVEIRA, W. P. Instalando e configurando o Servi\u00e7o DNS na rede com Linux com BIND9 - Parte 2. YouTube, 7 de abr. de 2021. Dispon\u00edvel em: https://www.youtube.com/watch?v=SSzdIHGYSZw. Acesso em: 19 dez. de 2022. OLIVEIRA, W. P. Instalando e configurando o Servi\u00e7o DNS na rede com Linux com BIND9 - Parte 3. YouTube, 7 de abr. de 2021. Dispon\u00edvel em: https://www.youtube.com/watch?v=HHq7NbddFPg. Acesso em: 19 dez. de 2022. WETHERALL, D. J; TANENBAUM, A. S. Computer networks. Pearson Education, 2013. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Camada de Aplica\u00e7\u00e3o (DNS)"},{"location":"freebsd/experimento_10/#camada-de-aplicacao-dns","text":"Pr\u00e1tica de Laborat\u00f3rio 10 Camada de Aplica\u00e7\u00e3o (DNS)","title":"Camada de Aplica\u00e7\u00e3o (DNS)"},{"location":"freebsd/experimento_10/#introducao","text":"O Domain Name System (DNS) \u00e9 um importante componente da Internet, respons\u00e1vel por fazer a tradu\u00e7\u00e3o de nomes de dom\u00ednio para endere\u00e7os IP e vice-versa. Isso permite que os usu\u00e1rios acessem sites e servi\u00e7os atrav\u00e9s de nomes de dom\u00ednio, em vez de ter que digitar os endere\u00e7os IP correspondentes.","title":"Introdu\u00e7\u00e3o"},{"location":"freebsd/experimento_10/#objetivos","text":"Demonstrar o funcionamento do DNS e sua import\u00e2ncia na Internet. Mostrar como configurar um servidor DNS no FreeBSD. Verificar o funcionamento do servidor DNS atrav\u00e9s de consultas utilizando os comandos dig e nslookup .","title":"Objetivos"},{"location":"freebsd/experimento_10/#teoria-abordada-no-experimento","text":"Objetivo e funcionamento do protocolo DNS.","title":"Teoria abordada no experimento"},{"location":"freebsd/experimento_10/#material-necessario","text":"Interfaces de rede (NIC's) M\u00e1quinas com sistema FreeBSD Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico, pacotes de servidor DNS ( bind9 ) Acesso \u00e0 Internet \u2013 N\u00c3O \u00e9 necess\u00e1rio Desligar o servidor DNS para as m\u00e1quinas de aula","title":"Material Necess\u00e1rio"},{"location":"freebsd/experimento_10/#roteiro","text":"","title":"Roteiro"},{"location":"freebsd/experimento_10/#1-montagem-de-rede-interconectada-para-o-experimento","text":"H1 (192.168.1.3), H2 (192.168.1.2), H3 (192.168.1.4) e R/eth0 (192.168.1.1).","title":"1. Montagem de rede interconectada para o experimento"},{"location":"freebsd/experimento_10/#2-configurar-os-clientes-na-rede-de-testes-e-validar-as-configuracoes","text":"Lembrem-se das etapas que foram percorridas na Pr\u00e1tica de Laborat\u00f3rio 01 .","title":"2. Configurar os clientes na rede de testes e validar as configura\u00e7\u00f5es"},{"location":"freebsd/experimento_10/#3-instalacao-do-pacote-de-servidor-dns","text":"Para a execu\u00e7\u00e3o deste experimento \u00e9 essencial a instala\u00e7\u00e3o do pacote bind9 , que n\u00e3o \u00e9 incluso por padr\u00e3o no FreeBSD. Para prosseguir com a instala\u00e7\u00e3o, execute o seguinte comando: $ pkg install bind916 Adicione a seguinte linha no arquivo rc.conf ( /etc/rc.conf ): named_enable=\"YES\" E execute o comando: $ service named start Verifique se o servidor DNS est\u00e1 funcionando corretamente com o seguinte comando: $ nslookup localhost","title":"3. Instala\u00e7\u00e3o do pacote de servidor DNS"},{"location":"freebsd/experimento_10/#4-configuracao-do-servidor-dns","text":"Edite o arquivo de configura\u00e7\u00e3o do DNS, named.conf ( /usr/local/etc/namedb/named.conf ) e adicione as seguintes linhas para configurar as suas zonas de busca direta e inversa: zone \"exemplo.com\" { type master; file \"/usr/local/etc/namedb/master/exemplo.com.db\"; }; zone \"1.168.192.in-addr.arpa\" { type master; file \"/usr/local/etc/namedb/master/192.168.1.db\"; }; Crie os arquivos de zona de busca direta e inversa. O arquivo de zona de busca direta, exemplo.com.db ( /usr/local/etc/namedb/master/exemplo.com.db ), deve conter informa\u00e7\u00f5es sobre os seus servidores de nomes e endere\u00e7os IP: $TTL 86400 @ IN SOA ns1.exemplo.com. admin.exemplo.com. ( 20201022 ;Serial 3600 ;Refresh 1800 ;Retry 604800 ;Expire 86400 ) ;Minimum TTL ; @ IN NS ns1.exemplo.com. @ IN A 192.168.1.3 ns1 IN A 192.168.1.3 www IN A 192.168.1.3 H1 IN A 192.168.1.2 H2 IN A 192.168.1.4 O arquivo de zona de busca inversa, 192.168.1.db ( /usr/local/etc/namedb/master/192.168.1.db ), deve conter informa\u00e7\u00f5es sobre os seus endere\u00e7os IP e nomes de host: $TTL 86400 @ IN SOA ns1.exemplo.com. admin.exemplo.com. ( 20201022 ;Serial 3600 ;Refresh 1800 ;Retry 604800 ;Expire 86400 ) ;Minimum TTL ; @ IN NS ns1.exemplo.com. 2 IN PTR H1.exemplo.com. 3 IN PTR ns1.exemplo.com. 4 IN PTR H2.exemplo.com. Reinicie o servi\u00e7o DNS usando o seguinte comando: $ service named restart. Fa\u00e7a consultas ao servidor DNS para verificar se est\u00e1 funcionando corretamente: $ nslookup host_da_rede","title":"4. Configura\u00e7\u00e3o do Servidor DNS"},{"location":"freebsd/experimento_10/#5-configuracao-do-cliente-dns","text":"Para que outros hosts da rede usem o servidor DNS que voc\u00ea configurou, \u00e9 necess\u00e1rio especificar o endere\u00e7o IP do servidor DNS como sendo o servidor de nomes padr\u00e3o (ou nameserver ) desses hosts. No FreeBSD, configure o arquivo resolv.conf ( /etc/resolv.conf ) especificando o servidor de nomes padr\u00e3o: nameserver 192.168.1.4 Verifique se o host est\u00e1 usando o servidor DNS configurado, fazendo uma consulta. $ nslookup host_da_rede","title":"5. Configura\u00e7\u00e3o do cliente DNS"},{"location":"freebsd/experimento_10/#questoes-para-estudo","text":"Como voc\u00ea faria para adicionar um registro MX (Mail Exchange) ao seu arquivo de zona de busca direta? Como voc\u00ea faria para configurar uma zona secund\u00e1ria (slave) no seu servidor DNS? Como voc\u00ea faria para monitorar e solucionar problemas comuns de desempenho em um servidor DNS, como consultas de DNS n\u00e3o autorizadas ou ataques de nega\u00e7\u00e3o de servi\u00e7o (DoS)? Como voc\u00ea faria para configurar o seu servidor DNS para fornecer servi\u00e7os de resolu\u00e7\u00e3o de nomes para redes privadas usando NAT?","title":"Quest\u00f5es para Estudo"},{"location":"freebsd/experimento_10/#referencias-bibliograficas","text":"LEE, C; RHODES, T; GERZO, D. Domain Name System (DNS). Data desconhecida. FreeBSD Handbook. Dispon\u00edvel em: https://docs.freebsd.org/doc/7.4-RELEASE/usr/share/doc/handbook/network-dns.html. Acesso em: 19 dez. 2022. OLIVEIRA, W. P. Instalando e configurando o Servi\u00e7o DNS na rede com Linux com BIND9 - Parte 1. YouTube, 6 de abr. de 2021. Dispon\u00edvel em: https://www.youtube.com/watch?v=m1ffSGGRDb0. Acesso em: 19 dez. de 2022. OLIVEIRA, W. P. Instalando e configurando o Servi\u00e7o DNS na rede com Linux com BIND9 - Parte 2. YouTube, 7 de abr. de 2021. Dispon\u00edvel em: https://www.youtube.com/watch?v=SSzdIHGYSZw. Acesso em: 19 dez. de 2022. OLIVEIRA, W. P. Instalando e configurando o Servi\u00e7o DNS na rede com Linux com BIND9 - Parte 3. YouTube, 7 de abr. de 2021. Dispon\u00edvel em: https://www.youtube.com/watch?v=HHq7NbddFPg. Acesso em: 19 dez. de 2022. WETHERALL, D. J; TANENBAUM, A. S. Computer networks. Pearson Education, 2013. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Refer\u00eancias Bibliogr\u00e1ficas"},{"location":"freebsd/experimento_11/","text":"Introdu\u00e7\u00e3o ao IPv6 Pr\u00e1tica de Laborat\u00f3rio 11 Introdu\u00e7\u00e3o ao IPv6 Introdu\u00e7\u00e3o O IPv6 \u00e9 o sucessor do IPv4 e foi criado para resolver os problemas de escassez de endere\u00e7os IP que ocorriam no IPv4. Ele fornece uma quantidade praticamente ilimitada de endere\u00e7os IP, permitindo que as redes cres\u00e7am e evoluam de forma mais flex\u00edvel e escal\u00e1vel. Neste experimento pr\u00e1tico, vamos explorar como configurar o IPv6 no sistema operacional FreeBSD atrav\u00e9s da utiliza\u00e7\u00e3o de comandos e configura\u00e7\u00f5es no arquivo rc.conf ( /etc/rc.conf ). Objetivos Compreender as configura\u00e7\u00f5es b\u00e1sicas para navegabilidade em uma rede de computadores utilizando o IPv6. Exercitar configura\u00e7\u00f5es b\u00e1sicas e entender como usar ferramentas de diagn\u00f3stico para validar configura\u00e7\u00f5es. Teoria abordada no experimento Conceitos b\u00e1sicos do IPv6 e o funcionamento b\u00e1sico de uma rede TCP/IP utilizando o IPv6. Material Necess\u00e1rio Interfaces de rede (NIC's) M\u00e1quinas com sistema FreeBSD Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico Acesso \u00e0 Internet \u2013 necess\u00e1rio Desligar o servidor e cliente DHCP para as m\u00e1quinas do experimento Roteiro 1. Montagem de rede interconectada para o experimento H1 (2001:0db8:0:f100::2/64), H2 (2001:0db8:0:f100::3/64) e R/eth0 (2001:0db8:0:f100::1/64). 2. Configurar os clientes na rede de testes 2.1 Configura\u00e7\u00e3o manual usando ifconfig(8) Para ver o estado atual da interface de rede que esta sendo usada na maquina, execute: $ ifconfig <interface> Caso o comando mostre na sa\u00edda a linha nd6 options com a op\u00e7\u00e3o IFDISABLED , significa que o IPv6 esta desabilitado nesta interface. Caso esteja desabilitado, execute o comando: $ ifconfig <interface> inet6 -ifdisabled Ap\u00f3s a habilita\u00e7\u00e3o, verifique novamente o estado atual da interface de rede. Dever\u00e1 ser capaz de ver a linha inet6 , que ser\u00e1 o endere\u00e7o IPv6 configurado para a interface em quest\u00e3o. Envie pacotes icmp ( ping ) para testar a configura\u00e7\u00e3o: $ ping <inet6_address> Execute o servi\u00e7o SSH no FreeBSD e fa\u00e7a um teste para verificar se \u00e9 poss\u00edvel conectar no SSH atrav\u00e9s do IPv6. $ ssh -v <inet6_address> ATEN\u00c7\u00c3O: Este teste ir\u00e1 falhar caso o par\u00e2metro AddressFamily , no arquivo de configura\u00e7\u00e3o do sshd_config(8) , estiver definido como inet . Veja a sa\u00edda de sockstat -6 | grep sshd para verificar se SSH escuta o soquete IPv6. 2.2 Endere\u00e7os Multicast \u00dateis Um endere\u00e7o Multicast identifica um conjunto de interfaces, onde um pacote enviado a um endere\u00e7o multicast \u00e9 entregue a todas as interfaces associadas a esse endere\u00e7o. A seguir est\u00e3o representados dois importantes endere\u00e7os Multicast : ff02::1 - endere\u00e7o multicast de todos os n\u00f3s da rede no escopo link-local. ff02::2 - endere\u00e7o multicast de todos os roteadores da rede no escopo link-local. \u00c9 poss\u00edvel enviar pacotes ICMPv6 para visualizar os n\u00f3s da rede que est\u00e3o conectados no mesmo link: $ ping ff02::1 ATEN\u00c7\u00c3O: \u00c9 necess\u00e1rio informar o identificador de zona no comando anterior. A partir das informa\u00e7\u00f5es dadas, fa\u00e7a a mesma coisa para visualizar os roteadores que est\u00e3o conectados no mesmo link. 2.3 Configura\u00e7\u00e3o de host IPv6 No IPv6 \u00e9 poss\u00edvel configurar mais de um endere\u00e7o em uma \u00fanica interface: $ ifconfig <interface> inet6 fe80::1/64 Envie pacotes icmp ( ping ) para testar a configura\u00e7\u00e3o: $ ping fe80::1/64 Execute o servi\u00e7o SSH no FreeBSD e fa\u00e7a um teste para verificar se \u00e9 poss\u00edvel conectar no SSH atrav\u00e9s do IPv6. $ ssh -v <inet6_address> Para remover um endere\u00e7o espec\u00edfico, pode-se usar o par\u00e2metro -alias : $ ifconfig <interface> inet6 fe80::1/64 -alias 2.4 Configura\u00e7\u00e3o manual usando o arquivo rc.conf Para configurar o IPv6 no arquivo rc.conf ( /etc/rc.conf ) utiliza-se o par\u00e2metro ifconfig_<interface>_ipv6 para indicar que a interface <interface> \u00e9 compat\u00edvel com IPv6. Na seguinte configura\u00e7\u00e3o apenas um endere\u00e7o de link-local \u00e9 configurado automaticamente: ifconfig_bge0_ipv6=\"inet6 auto_linklocal\" Se voc\u00ea quiser adicionar outro endere\u00e7o de link-local manualmente, voc\u00ea pode adicionar a linha inet6 em ifconfig_<interface>_ipv6 . ifconfig_bge0_ipv6=\"inet6 fe80::1/64\" Mais endere\u00e7os podem ainda ser adicionados usando a linha ifconfig_<interface>_alias0 : ifconfig_bge0_ipv6=\"inet6 fe80::1/64\" ifconfig_bge0_alias0=\"inet6 2001:db8::1/64\" A partir dos exemplos dados at\u00e9 aqui, configure uma topologia semelhante a apresentada no inicio do experimento. Ap\u00f3s configurar os endere\u00e7os execute o seguinte comando para reconfigurar a interface: $ service netif restart <interface> ATEN\u00c7\u00c3O: No FreeBSD a linha ifconfig_<interface> do arquivo rc.conf ( /etc/rc.conf ) n\u00e3o pode estar vazia, pois ela serve para dizer que a interface em quest\u00e3o est\u00e1 ativa. Caso n\u00e3o seja necess\u00e1rio ativar o ipv4 da maquina pode ser definido ifconfig_<interface>=\"up\" . 3. Validando as configura\u00e7\u00f5es Confira a conectividade b\u00e1sica enviando pacotes ICMPv6 para algum outro computador que esteja conectado \u00e0 mesma rede: $ ping <inet6_address> Como proceder para configurar o esquema de resolu\u00e7\u00e3o de nomes? 4. Internet em IPv6 4.1 Configura\u00e7\u00e3o manual Ao configurar e validar uma topologia semelhante a apresentada no inicio do experimento, pode ter ficado a duvida de como acessar destinos fora da rede local. Para que isso seja poss\u00edvel primeiro \u00e9 necess\u00e1rio adicionar a seguinte linha ao arquivo rc.conf ( /etc/rc.conf ): ipv6_defaultrouter=\"<inet6_address>\" Esta vari\u00e1vel especifica o roteador padr\u00e3o. Caso voc\u00ea n\u00e3o saiba o endere\u00e7o ipv6 do seu roteador voc\u00ea pode executar comandos que foram explicados anteriormente neste experimento. Tente! Ap\u00f3s especificar o roteador padr\u00e3o no arquivo \u00e9 necess\u00e1rio reconfigurar a interface atrav\u00e9s do utilit\u00e1rio service , ja apresentado no presente experimento. Verifique o estado atual da interface de rede: $ ifconfig <interface> Ap\u00f3s configurado o endere\u00e7o padr\u00e3o do roteador voc\u00ea pode enviar pacotes ICMPv6 atrav\u00e9s da internet: $ ping www.freebsd.org Observe que a resolu\u00e7\u00e3o de nomes de dom\u00ednio DNS \u00e9 executada pelos servidores de nomes listados em resolv.conf ( /etc/resolv.conf ). Se o seu roteador IPv6 funcionar como um proxy DNS, voc\u00ea pode colocar o endere\u00e7o IPv6 assim: nameserver <inet6_address> 4.2 Configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o global (SLAAC) O IPv6 possui recursos de configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o atrav\u00e9s de mensagens RA do roteador (protocolo NDP). \u00c9 poss\u00edvel configurar um endere\u00e7o IPv6 automaticamente, caso o seu roteador ofere\u00e7a suporte \u00e0s mensagens RA. Para verificar se o seu roteador IPv6 oferece suporte a mensagens RA, voc\u00ea pode usar o utilit\u00e1rio rtsol com um sinalizador -D . Ele envia uma mensagem RS e mostra as mensagens RA dos roteadores: $ rtsol -D <interface> Caso a resposta contenha a linha received RA from , significa que \u00e9 poss\u00edvel utilizar a configura\u00e7\u00e3o autom\u00e1tica. No arquivo rc.conf ( /etc/rc.conf ) atualizar o valor da vari\u00e1vel ifconfig_<interface>_ipv6 : $ ifconfig_bge0_ipv6=\"inet6 accept_rtadv\" O valor inet6 accept_rtadv permite que a interface bge0 aceite mensagens RA para configurar a interface. Verifique o estado atual da interface de rede: $ ifconfig <interface_nome> A palavra-chave autoconf deve ser mostrada logo ap\u00f3s o endere\u00e7o. ATEN\u00c7\u00c3O: No caso da configura\u00e7\u00e3o autom\u00e1tica, n\u00e3o \u00e9 necess\u00e1rio definir o roteador padr\u00e3o no arquivo rc.conf ( /etc/rc.conf ). Pois, o valor inet6 accept_rtadv configura um endere\u00e7o IPv6 global e o roteador padr\u00e3o. 6. Configura\u00e7\u00e3o de um roteador IPv6 A topologia a seguir mostra um exemplo de um rede que possui um roteador IPv6 para ter duas redes independentes. A LAN 1 e a LAN 2 s\u00e3o conectadas entre si pelo roteador, e outro roteador oferece acessibilidade \u00e0 Internet IPv6. H1 (2001:0db8:0:f100::2/64) e R/bge1 (2001:0db8:0:f100::1/64). H2 (2001:0db8:0:f101::3/64), R/bge0 (2001:0db8:0:f101::2/64) e R (2001:0db8:0:f101::1/64) Para habilitar o encaminhamento de pacotes, \u00e9 necess\u00e1rio a vari\u00e1vel ipv6_gateway_enable no arquivo rc.conf ( /etc/rc.conf ). Assumindo que bge0 e bge1 s\u00e3o as interfaces de rede do roteador para LAN 1 e LAN 2 respectivamente, o arquivo ficara semelhante a isso: ipv6_gateway_enable=\"YES\" ipv6_defaultrouter=\"fe80::5a52:8aff:fe10:e323%bge0\" #router link-local address ifconfig_bge0=\"up\" ifconfig_bge0_ipv6=\"inet6 2001:0db8:0:f101::2/64\" ifconfig_bge1=\"up\" ifconfig_bge1_ipv6=\"inet6 2001:0db8:0:f100::1/64\" A interface que conecta a LAN 1 ( bge0 ) n\u00e3o tem conhecimento da rota para a interface da LAN 2 ( bge1 ). Por isso, \u00e9 necess\u00e1rio adicionar uma configura\u00e7\u00e3o de rota est\u00e1tica nela usando um endere\u00e7o de link-local da interface bge1 . $ route add -inet6 2001:0db8:0:f100::1/64 -interface bge1 Verifique se a rota foi adicionada com sucesso. $ route show Por\u00e9m, o roteador FreeBSD ainda n\u00e3o habilitou o envio de mensagens RA, para configura\u00e7\u00e3o autom\u00e1tica de hosts na rede. Para enviar mensagens RA, voc\u00ea precisa do servi\u00e7o rtadvd(8) que pode ser ativado no arquivo rc.conf ( /etc/rc.conf ). ipv6_gateway_enable=\"YES\" ipv6_defaultrouter=\"fe80::5a52:8aff:fe10:e323%bge0\" ifconfig_bge0=\"up\" ifconfig_bge0_ipv6=\"inet6 2001:db8:0:1::1/64\" ifconfig_bge1=\"up\" ifconfig_bge1_ipv6=\"inet6 2001:db8:0:2::1/64\" rtadvd_enable=\"YES\" rtadvd_interfaces=\"bge1\" Configure H1 para utilizar a configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o e verifique se est\u00e1 tudo ocorrendo da maneira correta. 7. Usando DHCPv6 O tipo de configura\u00e7\u00e3o apresentado na etapa 4.2 \u00e9 algo mais pr\u00f3ximo do DHCP no IPv4. No entanto, voc\u00ea n\u00e3o pode controlar qual endere\u00e7o est\u00e1 realmente configurado em cada host porque eles s\u00e3o gerados a partir dos endere\u00e7os MAC. Para um controle mais refinado da configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o, voc\u00ea precisar\u00e1 de outro m\u00e9todo, como DHCPv6. Para configurar um host em uma rede que utiliza o DHCPv6, edite o arquivo rc.conf ( /etc/rc.conf ): ifconfig_bge0=\"up\" ifconfig_bge0_ipv6=\"inet6 accept_rtadv\" rtsold_enable=\"YES\" rtsold_flags=\"-0 /usr/local/etc/dhcp6c.sh bge0\" Verifique o estado atual da interface de rede: $ ifconfig <interface> Para verificar se o endere\u00e7o foi dinamicamente atribu\u00eddo atrav\u00e9s do DHCPv6, execute: $ ip -f inet6 addr show Caso apare\u00e7a a palavra dynamic ao lado do endere\u00e7o IPv6 significa que o host foi configurado atrav\u00e9s do DHCPv6. Procure saber sobre a configura\u00e7\u00e3o de um servidor DHCPv6 utilizando o FreeBSD. ATEN\u00c7\u00c3O: \u00c9 necess\u00e1rio ter um servidor DHCPv6 configurado na rede para que o experimento anterior funcione. Quest\u00f5es para Estudo Em certo momento do experimento, bastou apenas executar o comando ifconfig <interface> inet6 -ifdisabled para que um IPv6 fosse configurado. Por que ocorreu isso e como desativar essa configura\u00e7\u00e3o autom\u00e1tica? O que \u00e9 StateLess Address AutoConfiguration (SLAAC) e qual sua utilidade na atribui\u00e7\u00e3o de endere\u00e7os IPv6? Explique os tipos de endere\u00e7o IPv6 e seus respectivos prefixos? Para acessar a internet por meio do IPv4 \u00e9 necess\u00e1rio o uso do NAT. No IPv6 tamb\u00e9m \u00e9 necess\u00e1rio? Explique. Um roteador pode ser configurado usando o recurso de configura\u00e7\u00e3o autom\u00e1tica? Explique. Como funciona a configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o atrav\u00e9s do protocolo NDP? Em v\u00e1rios momentos do experimento foi omitido a parte do identificador de zona e isso pode ter causado problemas. O que \u00e9 o identificador de zona e por que \u00e9 necess\u00e1rio ele em um endere\u00e7o de IPv6? Refer\u00eancias Bibliogr\u00e1ficas SATO, Hiroki. Pragmatic IPv6 (Part 1). FreeBSD Journal, 2022. Dispon\u00edvel em: https://freebsdfoundation.org/wp-content/uploads/2022/06/hiroki_IPv6.pdf. Acesso em: 20 dez. 2022. SATO, Hiroki. Pragmatic IPv6 (Part 2). FreeBSD Journal, 2022. Dispon\u00edvel em: https://issue.freebsdfoundation.org/publication/?m=33057&i=759043&p=1&ver=html5. Acesso em: 20 dez. 2022. Ipv6.br. Endere\u00e7amento. IPv6, 2012. Dispon\u00edvel em: https://ipv6.br/post/enderecamento/. Acesso em: 20 dez. 2022. NICbrvideos. IPv6 no Caf\u00e9 da Manh\u00e3 - 01 de 03 - Planejamento e Endere\u00e7amento de Redes IPv6. YouTube, 27 de jun. de 2013. Dispon\u00edvel em: https://www.youtube.com/watch?v=rWVm9JCR4Fc. Acesso em: 20 dez. de 2022. NICbrvideos. IPv6 no Caf\u00e9 da Manh\u00e3 - 02 de 03 - Planejamento e Endere\u00e7amento de Redes IPv6. YouTube, 27 de jun. de 2013. Dispon\u00edvel em: https://www.youtube.com/watch?v=COblHE5hpfg. Acesso em: 20 dez. de 2022. NICbrvideos. IPv6 no Caf\u00e9 da Manh\u00e3 - 03 de 03 - Planejamento e Endere\u00e7amento IPv6. YouTube, 27 de jun. de 2013. Dispon\u00edvel em: https://www.youtube.com/watch?v=lRty4OlZWjA. Acesso em: 20 dez. de 2022. WETHERALL, D. J; TANENBAUM, A. S. Computer networks. Pearson Education, 2013. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Introdu\u00e7\u00e3o ao IPv6"},{"location":"freebsd/experimento_11/#introducao-ao-ipv6","text":"Pr\u00e1tica de Laborat\u00f3rio 11 Introdu\u00e7\u00e3o ao IPv6","title":"Introdu\u00e7\u00e3o ao IPv6"},{"location":"freebsd/experimento_11/#introducao","text":"O IPv6 \u00e9 o sucessor do IPv4 e foi criado para resolver os problemas de escassez de endere\u00e7os IP que ocorriam no IPv4. Ele fornece uma quantidade praticamente ilimitada de endere\u00e7os IP, permitindo que as redes cres\u00e7am e evoluam de forma mais flex\u00edvel e escal\u00e1vel. Neste experimento pr\u00e1tico, vamos explorar como configurar o IPv6 no sistema operacional FreeBSD atrav\u00e9s da utiliza\u00e7\u00e3o de comandos e configura\u00e7\u00f5es no arquivo rc.conf ( /etc/rc.conf ).","title":"Introdu\u00e7\u00e3o"},{"location":"freebsd/experimento_11/#objetivos","text":"Compreender as configura\u00e7\u00f5es b\u00e1sicas para navegabilidade em uma rede de computadores utilizando o IPv6. Exercitar configura\u00e7\u00f5es b\u00e1sicas e entender como usar ferramentas de diagn\u00f3stico para validar configura\u00e7\u00f5es.","title":"Objetivos"},{"location":"freebsd/experimento_11/#teoria-abordada-no-experimento","text":"Conceitos b\u00e1sicos do IPv6 e o funcionamento b\u00e1sico de uma rede TCP/IP utilizando o IPv6.","title":"Teoria abordada no experimento"},{"location":"freebsd/experimento_11/#material-necessario","text":"Interfaces de rede (NIC's) M\u00e1quinas com sistema FreeBSD Cabos de rede \u2013 par tran\u00e7ado normal Switches ou HUBs Software nas m\u00e1quinas: ambiente FreeBSD b\u00e1sico Acesso \u00e0 Internet \u2013 necess\u00e1rio Desligar o servidor e cliente DHCP para as m\u00e1quinas do experimento","title":"Material Necess\u00e1rio"},{"location":"freebsd/experimento_11/#roteiro","text":"","title":"Roteiro"},{"location":"freebsd/experimento_11/#1-montagem-de-rede-interconectada-para-o-experimento","text":"H1 (2001:0db8:0:f100::2/64), H2 (2001:0db8:0:f100::3/64) e R/eth0 (2001:0db8:0:f100::1/64).","title":"1. Montagem de rede interconectada para o experimento"},{"location":"freebsd/experimento_11/#2-configurar-os-clientes-na-rede-de-testes","text":"","title":"2. Configurar os clientes na rede de testes"},{"location":"freebsd/experimento_11/#21-configuracao-manual-usando-ifconfig8","text":"Para ver o estado atual da interface de rede que esta sendo usada na maquina, execute: $ ifconfig <interface> Caso o comando mostre na sa\u00edda a linha nd6 options com a op\u00e7\u00e3o IFDISABLED , significa que o IPv6 esta desabilitado nesta interface. Caso esteja desabilitado, execute o comando: $ ifconfig <interface> inet6 -ifdisabled Ap\u00f3s a habilita\u00e7\u00e3o, verifique novamente o estado atual da interface de rede. Dever\u00e1 ser capaz de ver a linha inet6 , que ser\u00e1 o endere\u00e7o IPv6 configurado para a interface em quest\u00e3o. Envie pacotes icmp ( ping ) para testar a configura\u00e7\u00e3o: $ ping <inet6_address> Execute o servi\u00e7o SSH no FreeBSD e fa\u00e7a um teste para verificar se \u00e9 poss\u00edvel conectar no SSH atrav\u00e9s do IPv6. $ ssh -v <inet6_address> ATEN\u00c7\u00c3O: Este teste ir\u00e1 falhar caso o par\u00e2metro AddressFamily , no arquivo de configura\u00e7\u00e3o do sshd_config(8) , estiver definido como inet . Veja a sa\u00edda de sockstat -6 | grep sshd para verificar se SSH escuta o soquete IPv6.","title":"2.1 Configura\u00e7\u00e3o manual usando ifconfig(8)"},{"location":"freebsd/experimento_11/#22-enderecos-multicast-uteis","text":"Um endere\u00e7o Multicast identifica um conjunto de interfaces, onde um pacote enviado a um endere\u00e7o multicast \u00e9 entregue a todas as interfaces associadas a esse endere\u00e7o. A seguir est\u00e3o representados dois importantes endere\u00e7os Multicast : ff02::1 - endere\u00e7o multicast de todos os n\u00f3s da rede no escopo link-local. ff02::2 - endere\u00e7o multicast de todos os roteadores da rede no escopo link-local. \u00c9 poss\u00edvel enviar pacotes ICMPv6 para visualizar os n\u00f3s da rede que est\u00e3o conectados no mesmo link: $ ping ff02::1 ATEN\u00c7\u00c3O: \u00c9 necess\u00e1rio informar o identificador de zona no comando anterior. A partir das informa\u00e7\u00f5es dadas, fa\u00e7a a mesma coisa para visualizar os roteadores que est\u00e3o conectados no mesmo link.","title":"2.2 Endere\u00e7os Multicast \u00dateis"},{"location":"freebsd/experimento_11/#23-configuracao-de-host-ipv6","text":"No IPv6 \u00e9 poss\u00edvel configurar mais de um endere\u00e7o em uma \u00fanica interface: $ ifconfig <interface> inet6 fe80::1/64 Envie pacotes icmp ( ping ) para testar a configura\u00e7\u00e3o: $ ping fe80::1/64 Execute o servi\u00e7o SSH no FreeBSD e fa\u00e7a um teste para verificar se \u00e9 poss\u00edvel conectar no SSH atrav\u00e9s do IPv6. $ ssh -v <inet6_address> Para remover um endere\u00e7o espec\u00edfico, pode-se usar o par\u00e2metro -alias : $ ifconfig <interface> inet6 fe80::1/64 -alias","title":"2.3 Configura\u00e7\u00e3o de host IPv6"},{"location":"freebsd/experimento_11/#24-configuracao-manual-usando-o-arquivo-rcconf","text":"Para configurar o IPv6 no arquivo rc.conf ( /etc/rc.conf ) utiliza-se o par\u00e2metro ifconfig_<interface>_ipv6 para indicar que a interface <interface> \u00e9 compat\u00edvel com IPv6. Na seguinte configura\u00e7\u00e3o apenas um endere\u00e7o de link-local \u00e9 configurado automaticamente: ifconfig_bge0_ipv6=\"inet6 auto_linklocal\" Se voc\u00ea quiser adicionar outro endere\u00e7o de link-local manualmente, voc\u00ea pode adicionar a linha inet6 em ifconfig_<interface>_ipv6 . ifconfig_bge0_ipv6=\"inet6 fe80::1/64\" Mais endere\u00e7os podem ainda ser adicionados usando a linha ifconfig_<interface>_alias0 : ifconfig_bge0_ipv6=\"inet6 fe80::1/64\" ifconfig_bge0_alias0=\"inet6 2001:db8::1/64\" A partir dos exemplos dados at\u00e9 aqui, configure uma topologia semelhante a apresentada no inicio do experimento. Ap\u00f3s configurar os endere\u00e7os execute o seguinte comando para reconfigurar a interface: $ service netif restart <interface> ATEN\u00c7\u00c3O: No FreeBSD a linha ifconfig_<interface> do arquivo rc.conf ( /etc/rc.conf ) n\u00e3o pode estar vazia, pois ela serve para dizer que a interface em quest\u00e3o est\u00e1 ativa. Caso n\u00e3o seja necess\u00e1rio ativar o ipv4 da maquina pode ser definido ifconfig_<interface>=\"up\" .","title":"2.4 Configura\u00e7\u00e3o manual usando o arquivo rc.conf"},{"location":"freebsd/experimento_11/#3-validando-as-configuracoes","text":"Confira a conectividade b\u00e1sica enviando pacotes ICMPv6 para algum outro computador que esteja conectado \u00e0 mesma rede: $ ping <inet6_address> Como proceder para configurar o esquema de resolu\u00e7\u00e3o de nomes?","title":"3. Validando as configura\u00e7\u00f5es"},{"location":"freebsd/experimento_11/#4-internet-em-ipv6","text":"","title":"4. Internet em IPv6"},{"location":"freebsd/experimento_11/#41-configuracao-manual","text":"Ao configurar e validar uma topologia semelhante a apresentada no inicio do experimento, pode ter ficado a duvida de como acessar destinos fora da rede local. Para que isso seja poss\u00edvel primeiro \u00e9 necess\u00e1rio adicionar a seguinte linha ao arquivo rc.conf ( /etc/rc.conf ): ipv6_defaultrouter=\"<inet6_address>\" Esta vari\u00e1vel especifica o roteador padr\u00e3o. Caso voc\u00ea n\u00e3o saiba o endere\u00e7o ipv6 do seu roteador voc\u00ea pode executar comandos que foram explicados anteriormente neste experimento. Tente! Ap\u00f3s especificar o roteador padr\u00e3o no arquivo \u00e9 necess\u00e1rio reconfigurar a interface atrav\u00e9s do utilit\u00e1rio service , ja apresentado no presente experimento. Verifique o estado atual da interface de rede: $ ifconfig <interface> Ap\u00f3s configurado o endere\u00e7o padr\u00e3o do roteador voc\u00ea pode enviar pacotes ICMPv6 atrav\u00e9s da internet: $ ping www.freebsd.org Observe que a resolu\u00e7\u00e3o de nomes de dom\u00ednio DNS \u00e9 executada pelos servidores de nomes listados em resolv.conf ( /etc/resolv.conf ). Se o seu roteador IPv6 funcionar como um proxy DNS, voc\u00ea pode colocar o endere\u00e7o IPv6 assim: nameserver <inet6_address>","title":"4.1 Configura\u00e7\u00e3o manual"},{"location":"freebsd/experimento_11/#42-configuracao-automatica-de-endereco-global-slaac","text":"O IPv6 possui recursos de configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o atrav\u00e9s de mensagens RA do roteador (protocolo NDP). \u00c9 poss\u00edvel configurar um endere\u00e7o IPv6 automaticamente, caso o seu roteador ofere\u00e7a suporte \u00e0s mensagens RA. Para verificar se o seu roteador IPv6 oferece suporte a mensagens RA, voc\u00ea pode usar o utilit\u00e1rio rtsol com um sinalizador -D . Ele envia uma mensagem RS e mostra as mensagens RA dos roteadores: $ rtsol -D <interface> Caso a resposta contenha a linha received RA from , significa que \u00e9 poss\u00edvel utilizar a configura\u00e7\u00e3o autom\u00e1tica. No arquivo rc.conf ( /etc/rc.conf ) atualizar o valor da vari\u00e1vel ifconfig_<interface>_ipv6 : $ ifconfig_bge0_ipv6=\"inet6 accept_rtadv\" O valor inet6 accept_rtadv permite que a interface bge0 aceite mensagens RA para configurar a interface. Verifique o estado atual da interface de rede: $ ifconfig <interface_nome> A palavra-chave autoconf deve ser mostrada logo ap\u00f3s o endere\u00e7o. ATEN\u00c7\u00c3O: No caso da configura\u00e7\u00e3o autom\u00e1tica, n\u00e3o \u00e9 necess\u00e1rio definir o roteador padr\u00e3o no arquivo rc.conf ( /etc/rc.conf ). Pois, o valor inet6 accept_rtadv configura um endere\u00e7o IPv6 global e o roteador padr\u00e3o.","title":"4.2 Configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o global (SLAAC)"},{"location":"freebsd/experimento_11/#6-configuracao-de-um-roteador-ipv6","text":"A topologia a seguir mostra um exemplo de um rede que possui um roteador IPv6 para ter duas redes independentes. A LAN 1 e a LAN 2 s\u00e3o conectadas entre si pelo roteador, e outro roteador oferece acessibilidade \u00e0 Internet IPv6. H1 (2001:0db8:0:f100::2/64) e R/bge1 (2001:0db8:0:f100::1/64). H2 (2001:0db8:0:f101::3/64), R/bge0 (2001:0db8:0:f101::2/64) e R (2001:0db8:0:f101::1/64) Para habilitar o encaminhamento de pacotes, \u00e9 necess\u00e1rio a vari\u00e1vel ipv6_gateway_enable no arquivo rc.conf ( /etc/rc.conf ). Assumindo que bge0 e bge1 s\u00e3o as interfaces de rede do roteador para LAN 1 e LAN 2 respectivamente, o arquivo ficara semelhante a isso: ipv6_gateway_enable=\"YES\" ipv6_defaultrouter=\"fe80::5a52:8aff:fe10:e323%bge0\" #router link-local address ifconfig_bge0=\"up\" ifconfig_bge0_ipv6=\"inet6 2001:0db8:0:f101::2/64\" ifconfig_bge1=\"up\" ifconfig_bge1_ipv6=\"inet6 2001:0db8:0:f100::1/64\" A interface que conecta a LAN 1 ( bge0 ) n\u00e3o tem conhecimento da rota para a interface da LAN 2 ( bge1 ). Por isso, \u00e9 necess\u00e1rio adicionar uma configura\u00e7\u00e3o de rota est\u00e1tica nela usando um endere\u00e7o de link-local da interface bge1 . $ route add -inet6 2001:0db8:0:f100::1/64 -interface bge1 Verifique se a rota foi adicionada com sucesso. $ route show Por\u00e9m, o roteador FreeBSD ainda n\u00e3o habilitou o envio de mensagens RA, para configura\u00e7\u00e3o autom\u00e1tica de hosts na rede. Para enviar mensagens RA, voc\u00ea precisa do servi\u00e7o rtadvd(8) que pode ser ativado no arquivo rc.conf ( /etc/rc.conf ). ipv6_gateway_enable=\"YES\" ipv6_defaultrouter=\"fe80::5a52:8aff:fe10:e323%bge0\" ifconfig_bge0=\"up\" ifconfig_bge0_ipv6=\"inet6 2001:db8:0:1::1/64\" ifconfig_bge1=\"up\" ifconfig_bge1_ipv6=\"inet6 2001:db8:0:2::1/64\" rtadvd_enable=\"YES\" rtadvd_interfaces=\"bge1\" Configure H1 para utilizar a configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o e verifique se est\u00e1 tudo ocorrendo da maneira correta.","title":"6. Configura\u00e7\u00e3o de um roteador IPv6"},{"location":"freebsd/experimento_11/#7-usando-dhcpv6","text":"O tipo de configura\u00e7\u00e3o apresentado na etapa 4.2 \u00e9 algo mais pr\u00f3ximo do DHCP no IPv4. No entanto, voc\u00ea n\u00e3o pode controlar qual endere\u00e7o est\u00e1 realmente configurado em cada host porque eles s\u00e3o gerados a partir dos endere\u00e7os MAC. Para um controle mais refinado da configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o, voc\u00ea precisar\u00e1 de outro m\u00e9todo, como DHCPv6. Para configurar um host em uma rede que utiliza o DHCPv6, edite o arquivo rc.conf ( /etc/rc.conf ): ifconfig_bge0=\"up\" ifconfig_bge0_ipv6=\"inet6 accept_rtadv\" rtsold_enable=\"YES\" rtsold_flags=\"-0 /usr/local/etc/dhcp6c.sh bge0\" Verifique o estado atual da interface de rede: $ ifconfig <interface> Para verificar se o endere\u00e7o foi dinamicamente atribu\u00eddo atrav\u00e9s do DHCPv6, execute: $ ip -f inet6 addr show Caso apare\u00e7a a palavra dynamic ao lado do endere\u00e7o IPv6 significa que o host foi configurado atrav\u00e9s do DHCPv6. Procure saber sobre a configura\u00e7\u00e3o de um servidor DHCPv6 utilizando o FreeBSD. ATEN\u00c7\u00c3O: \u00c9 necess\u00e1rio ter um servidor DHCPv6 configurado na rede para que o experimento anterior funcione.","title":"7. Usando DHCPv6"},{"location":"freebsd/experimento_11/#questoes-para-estudo","text":"Em certo momento do experimento, bastou apenas executar o comando ifconfig <interface> inet6 -ifdisabled para que um IPv6 fosse configurado. Por que ocorreu isso e como desativar essa configura\u00e7\u00e3o autom\u00e1tica? O que \u00e9 StateLess Address AutoConfiguration (SLAAC) e qual sua utilidade na atribui\u00e7\u00e3o de endere\u00e7os IPv6? Explique os tipos de endere\u00e7o IPv6 e seus respectivos prefixos? Para acessar a internet por meio do IPv4 \u00e9 necess\u00e1rio o uso do NAT. No IPv6 tamb\u00e9m \u00e9 necess\u00e1rio? Explique. Um roteador pode ser configurado usando o recurso de configura\u00e7\u00e3o autom\u00e1tica? Explique. Como funciona a configura\u00e7\u00e3o autom\u00e1tica de endere\u00e7o atrav\u00e9s do protocolo NDP? Em v\u00e1rios momentos do experimento foi omitido a parte do identificador de zona e isso pode ter causado problemas. O que \u00e9 o identificador de zona e por que \u00e9 necess\u00e1rio ele em um endere\u00e7o de IPv6?","title":"Quest\u00f5es para Estudo"},{"location":"freebsd/experimento_11/#referencias-bibliograficas","text":"SATO, Hiroki. Pragmatic IPv6 (Part 1). FreeBSD Journal, 2022. Dispon\u00edvel em: https://freebsdfoundation.org/wp-content/uploads/2022/06/hiroki_IPv6.pdf. Acesso em: 20 dez. 2022. SATO, Hiroki. Pragmatic IPv6 (Part 2). FreeBSD Journal, 2022. Dispon\u00edvel em: https://issue.freebsdfoundation.org/publication/?m=33057&i=759043&p=1&ver=html5. Acesso em: 20 dez. 2022. Ipv6.br. Endere\u00e7amento. IPv6, 2012. Dispon\u00edvel em: https://ipv6.br/post/enderecamento/. Acesso em: 20 dez. 2022. NICbrvideos. IPv6 no Caf\u00e9 da Manh\u00e3 - 01 de 03 - Planejamento e Endere\u00e7amento de Redes IPv6. YouTube, 27 de jun. de 2013. Dispon\u00edvel em: https://www.youtube.com/watch?v=rWVm9JCR4Fc. Acesso em: 20 dez. de 2022. NICbrvideos. IPv6 no Caf\u00e9 da Manh\u00e3 - 02 de 03 - Planejamento e Endere\u00e7amento de Redes IPv6. YouTube, 27 de jun. de 2013. Dispon\u00edvel em: https://www.youtube.com/watch?v=COblHE5hpfg. Acesso em: 20 dez. de 2022. NICbrvideos. IPv6 no Caf\u00e9 da Manh\u00e3 - 03 de 03 - Planejamento e Endere\u00e7amento IPv6. YouTube, 27 de jun. de 2013. Dispon\u00edvel em: https://www.youtube.com/watch?v=lRty4OlZWjA. Acesso em: 20 dez. de 2022. WETHERALL, D. J; TANENBAUM, A. S. Computer networks. Pearson Education, 2013. LUCAS, M. W. Networking for Systems Administrators. 5th. ed. USA: Tilted Windmill Press, 2019.","title":"Refer\u00eancias Bibliogr\u00e1ficas"}]}